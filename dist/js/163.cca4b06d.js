"use strict";(self["webpackChunkvueproject"]=self["webpackChunkvueproject"]||[]).push([[163],{8163:function(e,t,r){r.r(t),r.d(t,{default:function(){return za}});var i=r(6252);const n={class:"page-container"},o={class:"flex justify-center mt-4"};function s(e,t,r,s,a,l){const h=(0,i.up)("HealthEdit"),u=(0,i.up)("HealthInfo");return(0,i.wg)(),(0,i.iD)("div",n,[a.showHealthEdit?((0,i.wg)(),(0,i.j4)(h,{key:0,ref:"healthEdit"},null,512)):((0,i.wg)(),(0,i.j4)(u,{key:1})),(0,i._)("div",o,[a.showDoneButton?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"text-white bg-[#140A4B] border border-gray-300 focus:outline-none hover:bg-[#140a4bbc] focus:ring-4 focus:ring-gray-200 font-medium rounded-full text-sm px-5 py-2.5",onClick:t[0]||(t[0]=(...e)=>l.toggleHealthComponents&&l.toggleHealthComponents(...e))}," เพิ่มข้อมูลสุขภาพ ")),a.showDoneButton?((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:"text-white bg-[#303030] border border-gray-300 focus:outline-none hover:bg-[#303030bc] focus:ring-4 focus:ring-gray-200 font-medium rounded-full text-sm px-5 py-2.5",onClick:t[1]||(t[1]=(...e)=>l.useEditHealth&&l.useEditHealth(...e))}," บันทึก ")):(0,i.kq)("",!0),a.showDoneButton?((0,i.wg)(),(0,i.iD)("button",{key:2,type:"button",class:"text-white bg-[#EB1851] border border-gray-300 focus:outline-none hover:bg-[#eb1850c5] focus:ring-4 focus:ring-gray-200 font-medium rounded-full text-sm px-5 py-2.5",onClick:t[2]||(t[2]=(...e)=>l.cancelEdit&&l.cancelEdit(...e))}," ยกเลิก ")):(0,i.kq)("",!0)])])}var a=r(9963);const l={class:"container flex flex-col items-center gap-16 mx-auto mt-8"},h={class:"grid w-full grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-2"},u={class:"flex flex-col items-center gap-3 px-8 py-10 bg-[#ffffff] mt-4 rounded-3xl hover:shadow shadow-main border-2 border-[#D9D9D9]"},c=(0,i._)("p",{class:"flex text-xl text-[#303030]0"},[(0,i.Uk)("ความดันโลหิต "),(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",class:"tem",id:"wave"},[(0,i._)("path",{d:"M25.031 1008.362c-1.693 0-2.976.841-3.875 2-.899 1.16-1.502 2.649-2.062 4.094-.56 1.446-1.068 2.84-1.719 3.844s-1.333 1.594-2.406 1.594H2.563a.5.5 0 1 0 0 1h12.406c1.452 0 2.502-.878 3.25-2.032.748-1.154 1.257-2.63 1.812-4.062.556-1.433 1.163-2.813 1.938-3.813.775-1 1.681-1.625 3.062-1.625.613 0 1.16.274 1.75.844.59.57 1.194 1.449 1.75 2.5 1.114 2.103 2.107 4.966 3.157 7.844 1.05 2.878 2.145 5.753 3.437 7.969.646 1.107 1.354 2.066 2.156 2.75.802.683 1.73 1.093 2.75 1.093 1.635 0 2.953-.826 4-1.969 1.047-1.142 1.853-2.609 2.563-4.062.71-1.453 1.317-2.87 1.906-3.906.294-.518.579-.96.844-1.219.265-.26.492-.344.687-.344 4.948 0 3.015.031 11.407.031a.5.5 0 1 0 0-1c-8.39 0-6.458-.03-11.407-.03-.527 0-.997.286-1.375.655-.377.37-.712.846-1.031 1.407-.637 1.12-1.244 2.547-1.938 3.968-.693 1.422-1.477 2.83-2.406 3.844-.928 1.014-1.94 1.625-3.25 1.625-.749 0-1.452-.3-2.125-.875-.673-.574-1.295-1.42-1.906-2.469-1.223-2.096-2.327-4.94-3.375-7.812s-2.049-5.759-3.219-7.969c-.585-1.105-1.195-2.062-1.906-2.75-.711-.687-1.544-1.125-2.469-1.125z",color:"#000","font-family":"Sans","font-weight":"400",overflow:"visible",transform:"translate(0 -988.362)",style:{"text-indent":"0","text-align":"start","line-height":"normal","text-transform":"none","block-progression":"tb",marker:"none","-inkscape-font-specification":"Sans"}})])],-1),f={class:"text-base leading-7 text-[#303030] flex items-center"},p={class:"flex flex-col items-center gap-3 px-8 py-10 bg-[#ffffff] mt-4 rounded-3xl hover:shadow shadow-main border-2 border-[#D9D9D9]"},d=(0,i._)("p",{class:"flex text-xl text-[#303030]"},[(0,i.Uk)("ปริมาณออกซิเจนในเลือด "),(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",class:"svg",id:"heal"},[(0,i._)("path",{fill:"#000","fill-rule":"evenodd",d:"M6.55814 9.79992C6.55814 8.9899 7.18286 8.33325 7.95349 8.33325H10C10.7706 8.33325 11.3953 8.9899 11.3953 9.79992V12.6355C11.3953 12.9055 11.6036 13.1244 11.8605 13.1244H14.5581C15.3288 13.1244 15.9535 13.781 15.9535 14.591V16.7421C15.9535 17.5522 15.3288 18.2088 14.5581 18.2088H11.8605C11.6036 18.2088 11.3953 18.4277 11.3953 18.6977V21.5333C11.3953 22.3433 10.7706 22.9999 10 22.9999H7.95349C7.18286 22.9999 6.55814 22.3433 6.55814 21.5333V18.6977C6.55814 18.4277 6.3499 18.2088 6.09302 18.2088H3.39535C2.62472 18.2088 2 17.5522 2 16.7421V14.591C2 13.781 2.62472 13.1244 3.39535 13.1244H6.09302C6.3499 13.1244 6.55814 12.9055 6.55814 12.6355V9.79992zM7.95349 9.31103C7.69661 9.31103 7.48837 9.52991 7.48837 9.79992V12.6355C7.48837 13.4455 6.86365 14.1021 6.09302 14.1021H3.39535C3.13847 14.1021 2.93023 14.321 2.93023 14.591V16.7421C2.93023 17.0121 3.13847 17.231 3.39535 17.231H6.09302C6.86365 17.231 7.48837 17.8877 7.48837 18.6977V21.5333C7.48837 21.8033 7.69661 22.0221 7.95349 22.0221H10C10.2569 22.0221 10.4651 21.8033 10.4651 21.5333V18.6977C10.4651 17.8877 11.0898 17.231 11.8605 17.231H14.5581C14.815 17.231 15.0233 17.0121 15.0233 16.7421V14.591C15.0233 14.321 14.815 14.1021 14.5581 14.1021H11.8605C11.0898 14.1021 10.4651 13.4455 10.4651 12.6355V9.79992C10.4651 9.52991 10.2569 9.31103 10 9.31103H7.95349zM17.4419 6.37768C17.4419 5.83767 17.8584 5.3999 18.3721 5.3999H19.1163C19.6301 5.3999 20.0465 5.83767 20.0465 6.37768V7.45324H21.0697C21.5834 7.45324 21.9999 7.89101 21.9999 8.43102V9.21324C21.9999 9.75326 21.5834 10.191 21.0697 10.191H20.0465V11.2666C20.0465 11.8066 19.6301 12.2443 19.1163 12.2443H18.3721C17.8584 12.2443 17.4419 11.8066 17.4419 11.2666V10.191H16.4185C15.9048 10.191 15.4883 9.75326 15.4883 9.21324V8.43102C15.4883 7.89101 15.9048 7.45324 16.4185 7.45324H17.4419V6.37768zM19.1163 6.37768H18.3721V7.45324C18.3721 7.99326 17.9556 8.43102 17.4419 8.43102L16.4185 8.43102V9.21324H17.4419C17.9556 9.21324 18.3721 9.65101 18.3721 10.191V11.2666H19.1163V10.191C19.1163 9.65101 19.5328 9.21324 20.0465 9.21324L21.0697 9.21324V8.43102H20.0465C19.5328 8.43102 19.1163 7.99326 19.1163 7.45324L19.1163 6.37768zM11.3955 1.97778C11.3955 1.43777 11.812 1 12.3257 1H13.0699C13.5837 1 14.0002 1.43777 14.0002 1.97778V3.05334H15.0233C15.537 3.05334 15.9535 3.49111 15.9535 4.03112V4.81334C15.9535 5.35335 15.537 5.79112 15.0233 5.79112H14.0002V6.86667C14.0002 7.40668 13.5837 7.84444 13.0699 7.84444H12.3257C11.812 7.84444 11.3955 7.40668 11.3955 6.86667V5.79112H10.3721C9.85837 5.79112 9.44189 5.35335 9.44189 4.81334V4.03112C9.44189 3.49111 9.85837 3.05334 10.3721 3.05334H11.3955V1.97778zM13.0699 1.97778H12.3257V3.05334C12.3257 3.59335 11.9093 4.03112 11.3955 4.03112L10.3721 4.03112V4.81334H11.3955C11.9093 4.81334 12.3257 5.25111 12.3257 5.79112V6.86667H13.0699V5.79112C13.0699 5.25111 13.4864 4.81334 14.0002 4.81334L15.0233 4.81334V4.03112H14.0002C13.4864 4.03112 13.0699 3.59335 13.0699 3.05334L13.0699 1.97778z","clip-rule":"evenodd"})])],-1),g={class:"text-base leading-7 text-[#303030] flex items-center"},b={class:"flex flex-col items-center gap-3 px-8 py-10 bg-[#ffffff] mt-4 rounded-3xl hover:shadow shadow-main border-2 border-[#D9D9D9]"},y=(0,i.uE)('<p class="flex text-xl text-[#303030]"> ค่าอุณภูมิร่างกาย <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="svg" id="tem"><path d="M57.5 45H65v5h-7.5z"></path><path d="M50 5c-8.284 0-15 6.716-15 15v41.802c-3.103 3.524-5 8.134-5 13.198 0 11.046 8.954 20 20 20 .36 0 .723-.01 1.087-.029 10.33-.547 18.674-9.169 18.908-19.511.119-5.245-1.798-10.028-4.995-13.658V55h-7.5v9.633l1.871 2.125a12.456 12.456 0 0 1 3.125 8.532c-.144 6.385-5.441 11.854-11.806 12.191-.23.013-.461.019-.69.019-6.893 0-12.5-5.607-12.5-12.5a12.47 12.47 0 0 1 3.129-8.242l1.871-2.125V20c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5H65c0-8.284-6.716-15-15-15z"></path><path d="M57.5 35H65v5h-7.5zM57.5 25H65v5h-7.5zM47.5 35v32.938c-2.908 1.033-5 3.804-5 7.063 0 4.136 3.364 7.5 7.5 7.5s7.5-3.364 7.5-7.5c0-3.258-2.092-6.03-5-7.063V35h-5z"></path></svg></p>',1),m={class:"text-base leading-7 text-[#303030] flex items-center"},w={class:"flex flex-col items-center gap-3 px-8 py-10 bg-[#ffffff] mt-4 rounded-3xl hover:shadow shadow-main border-2 border-[#D9D9D9]"},_=(0,i.uE)('<p class="flex text-xl text-[#303030]">อัตราการเต้นของหัวใจ <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="svg" id="heart"><g data-name="Layer 26"><path d="M24 27a1 1 0 0 1-.92-.68L19.7 16.26l-2.87 4.29A1 1 0 0 1 16 21H3a1 1 0 0 1 0-2h12.46l3.71-5.55a1 1 0 0 1 1-.44 1 1 0 0 1 .82.67l3.14 9.41 3-7.46A1 1 0 0 1 28 15a1 1 0 0 1 .93.65l1.87 5 .22-.88A1 1 0 0 1 32 19h13a1 1 0 0 1 0 2H32.78L32 24.24a1 1 0 0 1-1.91.11L28 18.77l-3 7.6a1 1 0 0 1-1 .63Z"></path><path d="M4.9 17a1 1 0 0 0 .92-.83 10.18 10.18 0 0 1 2.9-5.8 10.59 10.59 0 0 1 12.8-1.57 7.89 7.89 0 0 1 1.76 1.56 1 1 0 0 0 1.44 0 7.89 7.89 0 0 1 1.76-1.56 10.59 10.59 0 0 1 12.8 1.57 10.18 10.18 0 0 1 2.9 5.8 1 1 0 0 0 .92.83h.15a.93.93 0 0 0 .92-1.07A12.3 12.3 0 0 0 24 8.3a12.3 12.3 0 0 0-20.17 7.63.93.93 0 0 0 .92 1.07zm36.44 6a1 1 0 0 0-.83.45C41 23.45 24.35 39.8 24 40.23c-.39-.47-17-16.74-16.51-16.78a1 1 0 0 0-.83-.45 1 1 0 0 0-.83 1.58c-.65-.09 17 17.28 17.46 17.77a1 1 0 0 0 1.42 0c.46-.54 18-17.8 17.46-17.77a1 1 0 0 0-.83-1.58z"></path></g></svg></p>',1),v={class:"text-base leading-7 ttext-[#303030] flex items-center"};function E(e,t,r,n,o,s){return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",h,[(0,i._)("div",u,[c,(0,i._)("span",null,[(0,i._)("p",f,[(0,i.wy)((0,i._)("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block p-2 hover:shadow ml-12 mr-2",placeholder:"",required:"",id:"bloodPressure","onUpdate:modelValue":t[0]||(t[0]=e=>o.health.bloodPressure=e)},null,512),[[a.nr,o.health.bloodPressure]]),(0,i.Uk)(" mmHg ")])])]),(0,i._)("div",p,[d,(0,i._)("span",null,[(0,i._)("p",g,[(0,i.wy)((0,i._)("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block p-2 hover:shadow ml-12 mr-2",placeholder:"",required:"",id:"oxygen","onUpdate:modelValue":t[1]||(t[1]=e=>o.health.oxygen=e)},null,512),[[a.nr,o.health.oxygen]]),(0,i.Uk)(" % ")])])]),(0,i._)("div",b,[y,(0,i._)("span",null,[(0,i._)("p",m,[(0,i.wy)((0,i._)("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block p-2 hover:shadow ml-7 mr-2",placeholder:"",required:"",id:"temperature","onUpdate:modelValue":t[2]||(t[2]=e=>o.health.temperature=e)},null,512),[[a.nr,o.health.temperature]]),(0,i.Uk)(" °C ")])])]),(0,i._)("div",w,[_,(0,i._)("span",null,[(0,i._)("p",v,[(0,i.wy)((0,i._)("input",{class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block p-2 hover:shadow ml-12 mr-2",placeholder:"",required:"",id:"heartRate","onUpdate:modelValue":t[3]||(t[3]=e=>o.health.heartRate=e)},null,512),[[a.nr,o.health.heartRate]]),(0,i.Uk)(" bpm ")])])])])])}var S=r(5121),A=Object.defineProperty,I=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,T=(e,t)=>()=>(e&&(t=e(e=0)),t),R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),O=(e,t)=>{for(var r in t)A(e,r,{get:t[r],enumerable:!0})},x=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of k(t))!C.call(e,n)&&n!==r&&A(e,n,{get:()=>t[n],enumerable:!(i=I(t,n))||i.enumerable});return e},P=e=>x(A({},"__esModule",{value:!0}),e),B=T((()=>{})),M={};function U(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function L(){!Z||!X||(Z=!1,X.length?J=X.concat(J):ee=-1,J.length&&j())}function j(){if(!Z){var e=setTimeout(L,0);Z=!0;for(var t=J.length;t;){for(X=J,J=[];++ee<t;)X&&X[ee].run();ee=-1,t=J.length}X=null,Z=!1,clearTimeout(e)}}function N(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];J.push(new D(e,t)),1===J.length&&!Z&&setTimeout(j,0)}function D(e,t){this.fun=e,this.array=t}function F(){}function W(e){U("_linkedBinding")}function H(e){U("dlopen")}function V(){return[]}function $(){return[]}function q(e,t){if(!e)throw new Error(t||"assertion error")}function z(){return!1}function K(){return Ge.now()/1e3}function G(e){var t=Math.floor(.001*(Date.now()-Ge.now())),r=.001*Ge.now(),i=Math.floor(r)+t,n=Math.floor(r%1*1e9);return e&&(i-=e[0],n-=e[1],n<0&&(i--,n+=Ye)),[i,n]}function Q(){return lt}function Y(e){return[]}O(M,{_debugEnd:()=>Me,_debugProcess:()=>Be,_events:()=>Ze,_eventsCount:()=>Xe,_exiting:()=>me,_fatalExceptions:()=>Oe,_getActiveHandles:()=>$,_getActiveRequests:()=>V,_kill:()=>ve,_linkedBinding:()=>W,_maxListeners:()=>Je,_preload_modules:()=>ze,_rawDebug:()=>ge,_startProfilerIdleNotifier:()=>Ue,_stopProfilerIdleNotifier:()=>Le,_tickCallback:()=>Pe,abort:()=>Fe,addListener:()=>et,allowedNodeEnvironmentFlags:()=>Te,arch:()=>re,argv:()=>oe,argv0:()=>qe,assert:()=>q,binding:()=>ue,chdir:()=>pe,config:()=>we,cpuUsage:()=>Ee,cwd:()=>fe,debugPort:()=>$e,default:()=>lt,dlopen:()=>H,domain:()=>ye,emit:()=>ot,emitWarning:()=>he,env:()=>ne,execArgv:()=>se,execPath:()=>Ve,exit:()=>ke,features:()=>Re,hasUncaughtExceptionCaptureCallback:()=>z,hrtime:()=>G,kill:()=>Ie,listeners:()=>Y,memoryUsage:()=>Ae,moduleLoadList:()=>be,nextTick:()=>N,off:()=>rt,on:()=>Q,once:()=>tt,openStdin:()=>Ce,pid:()=>We,platform:()=>ie,ppid:()=>He,prependListener:()=>st,prependOnceListener:()=>at,reallyExit:()=>_e,release:()=>de,removeAllListeners:()=>nt,removeListener:()=>it,resourceUsage:()=>Se,setSourceMapsEnabled:()=>Ke,setUncaughtExceptionCaptureCallback:()=>xe,stderr:()=>Ne,stdin:()=>De,stdout:()=>je,title:()=>te,umask:()=>ce,uptime:()=>K,version:()=>ae,versions:()=>le});var J,Z,X,ee,te,re,ie,ne,oe,se,ae,le,he,ue,ce,fe,pe,de,ge,be,ye,me,we,_e,ve,Ee,Se,Ae,Ie,ke,Ce,Te,Re,Oe,xe,Pe,Be,Me,Ue,Le,je,Ne,De,Fe,We,He,Ve,$e,qe,ze,Ke,Ge,Qe,Ye,Je,Ze,Xe,et,tt,rt,it,nt,ot,st,at,lt,ht=T((()=>{B(),kt(),ut(),J=[],Z=!1,ee=-1,D.prototype.run=function(){this.fun.apply(null,this.array)},te="browser",re="x64",ie="browser",ne={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},oe=["/usr/bin/node"],se=[],ae="v16.8.0",le={},he=function(e,t){console.warn((t?t+": ":"")+e)},ue=function(e){U("binding")},ce=function(e){return 0},fe=function(){return"/"},pe=function(e){},de={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},ge=F,be=[],ye={},me=!1,we={},_e=F,ve=F,Ee=function(){return{}},Se=Ee,Ae=Ee,Ie=F,ke=F,Ce=F,Te={},Re={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Oe=F,xe=F,Pe=F,Be=F,Me=F,Ue=F,Le=F,je=void 0,Ne=void 0,De=void 0,Fe=F,We=2,He=1,Ve="/bin/usr/node",$e=9229,qe="node",ze=[],Ke=F,Ge={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},void 0===Ge.now&&(Qe=Date.now(),Ge.timing&&Ge.timing.navigationStart&&(Qe=Ge.timing.navigationStart),Ge.now=()=>Date.now()-Qe),Ye=1e9,G.bigint=function(e){var t=G(e);return typeof BigInt>"u"?t[0]*Ye+t[1]:BigInt(t[0]*Ye)+BigInt(t[1])},Je=10,Ze={},Xe=0,et=Q,tt=Q,rt=Q,it=Q,nt=Q,ot=F,st=Q,at=Q,lt={version:ae,versions:le,arch:re,platform:ie,release:de,_rawDebug:ge,moduleLoadList:be,binding:ue,_linkedBinding:W,_events:Ze,_eventsCount:Xe,_maxListeners:Je,on:Q,addListener:et,once:tt,off:rt,removeListener:it,removeAllListeners:nt,emit:ot,prependListener:st,prependOnceListener:at,listeners:Y,domain:ye,_exiting:me,config:we,dlopen:H,uptime:K,_getActiveRequests:V,_getActiveHandles:$,reallyExit:_e,_kill:ve,cpuUsage:Ee,resourceUsage:Se,memoryUsage:Ae,kill:Ie,exit:ke,openStdin:Ce,allowedNodeEnvironmentFlags:Te,assert:q,features:Re,_fatalExceptions:Oe,setUncaughtExceptionCaptureCallback:xe,hasUncaughtExceptionCaptureCallback:z,emitWarning:he,nextTick:N,_tickCallback:Pe,_debugProcess:Be,_debugEnd:Me,_startProfilerIdleNotifier:Ue,_stopProfilerIdleNotifier:Le,stdout:je,stdin:De,stderr:Ne,abort:Fe,umask:ce,chdir:pe,cwd:fe,env:ne,title:te,argv:oe,execArgv:se,pid:We,ppid:He,execPath:Ve,debugPort:$e,hrtime:G,argv0:qe,_preload_modules:ze,setSourceMapsEnabled:Ke}})),ut=T((()=>{ht()})),ct={};function ft(){if(bt)return gt;bt=!0,gt.byteLength=a,gt.toByteArray=h,gt.fromByteArray=f;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=i.length;n<o;++n)e[n]=i[n],t[i.charCodeAt(n)]=n;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function a(e){var t=s(e),r=t[0],i=t[1];return 3*(r+i)/4-i}function l(e,t,r){return 3*(t+r)/4-r}function h(e){var i,n,o=s(e),a=o[0],h=o[1],u=new r(l(e,a,h)),c=0,f=h>0?a-4:a;for(n=0;n<f;n+=4)i=t[e.charCodeAt(n)]<<18|t[e.charCodeAt(n+1)]<<12|t[e.charCodeAt(n+2)]<<6|t[e.charCodeAt(n+3)],u[c++]=i>>16&255,u[c++]=i>>8&255,u[c++]=255&i;return 2===h&&(i=t[e.charCodeAt(n)]<<2|t[e.charCodeAt(n+1)]>>4,u[c++]=255&i),1===h&&(i=t[e.charCodeAt(n)]<<10|t[e.charCodeAt(n+1)]<<4|t[e.charCodeAt(n+2)]>>2,u[c++]=i>>8&255,u[c++]=255&i),u}function u(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function c(e,t,r){for(var i,n=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),n.push(u(i));return n.join("")}function f(t){for(var r,i=t.length,n=i%3,o=[],s=16383,a=0,l=i-n;a<l;a+=s)o.push(c(t,a,a+s>l?l:a+s));return 1===n?(r=t[i-1],o.push(e[r>>2]+e[r<<4&63]+"==")):2===n&&(r=(t[i-2]<<8)+t[i-1],o.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"=")),o.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,gt}function pt(){return mt||(mt=!0,yt.read=function(e,t,r,i,n){var o,s,a=8*n-i-1,l=(1<<a)-1,h=l>>1,u=-7,c=r?n-1:0,f=r?-1:1,p=e[t+c];for(c+=f,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+c],c+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+c],c+=f,u-=8);if(0===o)o=1-h;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=h}return(p?-1:1)*s*Math.pow(2,o-i)},yt.write=function(e,t,r,i,n,o){var s,a,l,h=8*o-n-1,u=(1<<h)-1,c=u>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+c>=1?f/l:f*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=u?(a=0,s=u):s+c>=1?(a=(t*l-1)*Math.pow(2,n),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,n),s=0));n>=8;e[r+p]=255&a,p+=d,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;e[r+p]=255&s,p+=d,s/=256,h-=8);e[r+p-d]|=128*g}),yt}function dt(){if(_t)return wt;_t=!0;let e=ft(),t=pt(),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;wt.Buffer=s,wt.SlowBuffer=y,wt.INSPECT_MAX_BYTES=50;let i=2147483647;function n(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return c(e,t);if(ArrayBuffer.isView(e))return p(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ie(e,ArrayBuffer)||e&&ie(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(e,SharedArrayBuffer)||e&&ie(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return s.from(i,t,r);let n=g(e);if(n)return n;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}function u(e){return l(e),o(e<0?0:0|b(e))}function c(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=0|m(e,t),i=o(r),n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}function f(e){let t=e.length<0?0:0|b(e.length),r=o(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function p(e){if(ie(e,Uint8Array)){let t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,s.prototype),i}function g(e){if(s.isBuffer(e)){let t=0|b(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||ne(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}function b(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),s.alloc(+e)}function m(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ie(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return te(e).length;default:if(n)return i?-1:Z(e).length;t=(""+t).toLowerCase(),n=!0}}function w(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function _(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function v(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,ne(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:E(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,i,n){let o,s=1,a=e.length,l=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function h(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){let i=-1;for(o=r;o<a;o++)if(h(e,o)===h(t,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===l)return i*s}else-1!==i&&(o-=o-i),i=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){let r=!0;for(let i=0;i<l;i++)if(h(e,o+i)!==h(t,i)){r=!1;break}if(r)return o}return-1}function S(e,t,r,i){r=Number(r)||0;let n=e.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let o,s=t.length;for(i>s/2&&(i=s/2),o=0;o<i;++o){let i=parseInt(t.substr(2*o,2),16);if(ne(i))return o;e[r+o]=i}return o}function A(e,t,r,i){return re(Z(t,e.length-r),e,r,i)}function I(e,t,r,i){return re(X(t),e,r,i)}function k(e,t,r,i){return re(te(t),e,r,i)}function C(e,t,r,i){return re(ee(t,e.length-r),e,r,i)}function T(t,r,i){return 0===r&&i===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,i))}function R(e,t,r){r=Math.min(e.length,r);let i=[],n=t;for(;n<r;){let t=e[n],o=null,s=t>239?4:t>223?3:t>191?2:1;if(n+s<=r){let r,i,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[n+1],128===(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[n+1],i=e[n+2],128===(192&r)&&128===(192&i)&&(l=(15&t)<<12|(63&r)<<6|63&i,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[n+1],i=e[n+2],a=e[n+3],128===(192&r)&&128===(192&i)&&128===(192&a)&&(l=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),n+=s}return x(i)}wt.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=n(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return h(e,t,r)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(ie(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),ie(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let i=s.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let t=e[r];if(ie(t,Uint8Array))n+t.length>i.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(i,n)}n+=t.length}return i},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)_(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):w.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",t=wt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(e,t,r,i,n){if(ie(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;let o=n-i,a=r-t,l=Math.min(o,a),h=this.slice(i,n),u=e.slice(t,r);for(let s=0;s<l;++s)if(h[s]!==u[s]){o=h[s],a=u[s];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},s.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}let n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return S(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return I(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let O=4096;function x(e){let t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=O));return r}function P(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function B(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function M(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let o=t;o<r;++o)n+=oe[e[o]];return n}function U(e,t,r){let i=e.slice(t,r),n="";for(let o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function L(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,i,n,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function N(e,t,r,i,n){K(t,i,n,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function D(e,t,r,i,n){K(t,i,n,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function F(e,t,r,i,n,o){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function W(e,r,i,n,o){return r=+r,i>>>=0,o||F(e,r,i,4),t.write(e,r,i,n,23,4),i+4}function H(e,r,i,n,o){return r=+r,i>>>=0,o||F(e,r,i,8),t.write(e,r,i,n,52,8),i+8}s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,s.prototype),i},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=this[e],n=1,o=0;for(;++o<t&&(n*=256);)i+=this[e+o]*n;return i},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=se((function(e){e>>>=0,G(e,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Q(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,n=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),s.prototype.readBigUInt64BE=se((function(e){e>>>=0,G(e,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Q(e,this.length-8);let i=t*2**24+65536*this[++e]+256*this[++e]+this[++e],n=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=this[e],n=1,o=0;for(;++o<t&&(n*=256);)i+=this[e+o]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*t)),i},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let i=t,n=1,o=this[e+--i];for(;i>0&&(n*=256);)o+=this[e+--i]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=se((function(e){e>>>=0,G(e,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Q(e,this.length-8);let i=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),s.prototype.readBigInt64BE=se((function(e){e>>>=0,G(e,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&Q(e,this.length-8);let i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),s.prototype.readFloatLE=function(e,r){return e>>>=0,r||L(e,4,this.length),t.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,r){return e>>>=0,r||L(e,4,this.length),t.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,r){return e>>>=0,r||L(e,8,this.length),t.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,r){return e>>>=0,r||L(e,8,this.length),t.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;j(this,e,t,r,i,0)}let n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;j(this,e,t,r,i,0)}let n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=se((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=se((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}let n=0,o=1,s=0;for(this[t]=255&e;++n<r&&(o*=256);)e<0&&0===s&&0!==this[t+n-1]&&(s=1),this[t+n]=(e/o>>0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}let n=r-1,o=1,s=0;for(this[t+n]=255&e;--n>=0&&(o*=256);)e<0&&0===s&&0!==this[t+n+1]&&(s=1),this[t+n]=(e/o>>0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=se((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=se((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(e,t,r){return W(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return W(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,i){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&0!==i&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},s.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let n;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{let o=s.isBuffer(e)?e:s.from(e,i),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=o[n%a]}return this};let V={};function $(e,t,r){V[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length,i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r){G(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&Q(t,e.length-(r+1))}function K(e,t,r,i,n,o){if(e>r||e<t){let i,n="bigint"==typeof t?"n":"";throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new V.ERR_OUT_OF_RANGE("value",i,e)}z(i,n,o)}function G(e,t){if("number"!=typeof e)throw new V.ERR_INVALID_ARG_TYPE(t,"number",e)}function Q(e,t,r){throw Math.floor(e)!==e?(G(e,r),new V.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=q(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=q(n)),n+="n"),i+=` It must be ${t}. Received ${n}`,i}),RangeError);let Y=/[^+/0-9A-Za-z-_]/g;function J(e){if(e=e.split("=")[0],e=e.trim().replace(Y,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function Z(e,t){t=t||1/0;let r,i=e.length,n=null,o=[];for(let s=0;s<i;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function X(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function ee(e,t){let r,i,n,o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}function te(t){return e.toByteArray(J(t))}function re(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function ie(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ne(e){return e!==e}let oe=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function se(e){return typeof BigInt>"u"?ae:e}function ae(){throw new Error("BigInt not supported")}return wt}O(ct,{Buffer:()=>Et,INSPECT_MAX_BYTES:()=>St,default:()=>vt,kMaxLength:()=>At});var gt,bt,yt,mt,wt,_t,vt,Et,St,At,It=T((()=>{B(),kt(),ut(),gt={},bt=!1,yt={},mt=!1,wt={},_t=!1,vt=dt(),vt.Buffer,vt.SlowBuffer,vt.INSPECT_MAX_BYTES,vt.kMaxLength,Et=vt.Buffer,St=vt.INSPECT_MAX_BYTES,At=vt.kMaxLength})),kt=T((()=>{It()})),Ct=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(e){this.aliasToTopic={},this.max=e}put(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};e.default=t})),Tt=R(((e,t)=>{B(),kt(),ut(),t.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error:Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise:Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String:String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Uint8Array:Uint8Array}})),Rt=R(((e,t)=>{B(),kt(),ut();var r=(It(),P(ct)),i=Object.getPrototypeOf((async function(){})).constructor,n=globalThis.Blob||r.Blob,o=typeof n<"u"?function(e){return e instanceof n}:function(e){return!1},s=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}};t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,i)=>{e=r,t=i})),resolve:e,reject:t}},promisify(e){return new Promise(((t,r)=>{e(((e,...i)=>e?r(e):t(...i)))}))},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,(function(...[e,r]){let i=t.shift();return"f"===r?i.toFixed(6):"j"===r?JSON.stringify(i):"s"===r&&"object"==typeof i?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof i},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:o},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})),Ot=R(((e,t)=>{B(),kt(),ut();var{AbortController:r,AbortSignal:i}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=i,t.exports.default=r})),xt=R(((e,t)=>{B(),kt(),ut();var{format:r,inspect:i,AggregateError:n}=Rt(),o=globalThis.AggregateError||n,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",u={};function c(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length,i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function p(e,t,i){if("function"==typeof t)return c(t.length<=i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${t.length}).`),t(...i);let n=(t.match(/%[dfijoOs]/g)||[]).length;return c(n===i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${n}).`),0===i.length?t:r(t,...i)}function d(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(p(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function g(e){let t=h+e.name;return Object.defineProperty(e,"name",{value:t}),e}function b(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new o([t,e],t.message);return r.code=t.code,r}return e||t}var y=class extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",((e,t,r)=>{c("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],s=[],h=[];for(let i of t)c("string"==typeof i,"All expected entries have to be of type string"),a.includes(i)?o.push(i.toLowerCase()):l.test(i)?s.push(i):(c("object"!==i,'The value "object" should be written as "Object"'),h.push(i));if(s.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||h.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();n+=`an instance of ${s.join(", ")}, or ${e}`}}h.length>0&&(n+=" or ")}switch(h.length){case 0:break;case 1:h[0].toLowerCase()!==h[0]&&(n+="an "),n+=`${h[0]}`;break;case 2:n+=`one of ${h[0]} or ${h[1]}`;break;default:{let e=h.pop();n+=`one of ${h.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n}),TypeError),d("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let n=i(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`}),TypeError),d("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var i;let n=null!=r&&null!==(i=r.constructor)&&void 0!==i&&i.name?`instance of ${r.constructor.name}`:"type "+typeof r;return`Expected ${e} to be returned from the "${t}" function but got ${n}.`}),TypeError),d("ERR_MISSING_ARGS",((...e)=>{c(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}break}return`${t} must be specified`}),TypeError),d("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;return c(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?n=f(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=f(n)),n+="n"):n=i(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`}),RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:y,aggregateTwoErrors:g(b),hideStackFrames:g,codes:u}})),Pt=R(((e,t)=>{B(),kt(),ut();var{ArrayIsArray:r,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:n,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:h,NumberParseInt:u,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:d,StringPrototypeTrim:g}=Tt(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:v}}=xt(),{normalizeEncoding:E}=Rt(),{isAsyncFunction:S,isArrayBufferView:A}=Rt().types,I={};function k(e){return e===(0|e)}function C(e){return e===e>>>0}var T=/^[0-7]+$/,R="must be a 32-bit unsigned integer or an octal string";function O(e,t,r){if(typeof e>"u"&&(e=r),"string"==typeof e){if(null===f(T,e))throw new w(t,e,R);e=u(e,8)}return M(e,t),e}var x=b(((e,t,r=h,i=l)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>i)throw new _(t,`>= ${r} && <= ${i}`,e)})),P=b(((e,t,r=-2147483648,i=2147483647)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>i)throw new _(t,`>= ${r} && <= ${i}`,e)})),M=b(((e,t,r=!1)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!s(e))throw new _(t,"an integer",e);let i=r?1:0,n=4294967295;if(e<i||e>n)throw new _(t,`>= ${i} && <= ${n}`,e)}));function U(e,t){if("string"!=typeof e)throw new m(t,"string",e)}function L(e,t,r=void 0,i){if("number"!=typeof e)throw new m(t,"number",e);if(null!=r&&e<r||null!=i&&e>i||(null!=r||null!=i)&&a(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,e)}var j=b(((e,t,r)=>{if(!i(r,e)){let i="must be one of: "+n(o(r,(e=>"string"==typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,i)}}));function N(e,t){if("boolean"!=typeof e)throw new m(t,"boolean",e)}function D(e,t,r){return null!=e&&c(e,t)?e[t]:r}var F=b(((e,t,i=null)=>{let n=D(i,"allowArray",!1),o=D(i,"allowFunction",!1);if(!D(i,"nullable",!1)&&null===e||!n&&r(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new m(t,"Object",e)})),W=b(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new m(t,"a dictionary",e)})),H=b(((e,t,i=0)=>{if(!r(e))throw new m(t,"Array",e);if(e.length<i){let r=`must be longer than ${i}`;throw new w(t,e,r)}}));function V(e,t){H(e,t);for(let r=0;r<e.length;r++)U(e[r],`${t}[${r}]`)}function $(e,t){H(e,t);for(let r=0;r<e.length;r++)N(e[r],`${t}[${r}]`)}function q(e,t="signal"){if(U(e,t),void 0===I[e])throw void 0!==I[d(e)]?new v(e+" (signals must use all capital letters)"):new v(e)}var z=b(((e,t="buffer")=>{if(!A(e))throw new m(t,["Buffer","TypedArray","DataView"],e)}));function K(e,t){let r=E(t),i=e.length;if("hex"===r&&i%2!==0)throw new w("encoding",t,`is invalid for data of length ${i}`)}function G(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new y(t,e,r);return 0|e}var Q=b(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new m(t,"AbortSignal",e)})),Y=b(((e,t)=>{if("function"!=typeof e)throw new m(t,"Function",e)})),J=b(((e,t)=>{if("function"!=typeof e||S(e))throw new m(t,"Function",e)})),Z=b(((e,t)=>{if(void 0!==e)throw new m(t,"undefined",e)}));function X(e,t,r){if(!i(r,e))throw new m(t,`('${n(r,"|")}')`,e)}var ee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(e,t){if(typeof e>"u"||!f(ee,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function re(e){if("string"==typeof e)return te(e,"hints"),e;if(r(e)){let t=e.length,r="";if(0===t)return r;for(let i=0;i<t;i++){let n=e[i];te(n,"hints"),r+=n,i!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:k,isUint32:C,parseFileMode:O,validateArray:H,validateStringArray:V,validateBooleanArray:$,validateBoolean:N,validateBuffer:z,validateDictionary:W,validateEncoding:K,validateFunction:Y,validateInt32:P,validateInteger:x,validateNumber:L,validateObject:F,validateOneOf:j,validatePlainFunction:J,validatePort:G,validateSignalName:q,validateString:U,validateUint32:M,validateUndefined:Z,validateUnion:X,validateAbortSignal:Q,validateLinkHeaderValue:re}})),Bt=R(((e,t)=>{B(),kt(),ut();var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch{try{return r.call(null,e,0)}catch{return r.call(this,e,0)}}}function l(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch{try{return i.call(null,e)}catch{return i.call(this,e)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:o}catch{r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch{i=s}})();var h,u=[],c=!1,f=-1;function p(){!c||!h||(c=!1,h.length?u=h.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=a(p);c=!0;for(var t=u.length;t;){for(h=u,u=[];++f<t;)h&&h[f].run();f=-1,t=u.length}h=null,c=!1,l(e)}}function g(e,t){this.fun=e,this.array=t}function b(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new g(e,t)),1===u.length&&!c&&a(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=b,n.addListener=b,n.once=b,n.off=b,n.removeListener=b,n.removeAllListeners=b,n.emit=b,n.prependListener=b,n.prependOnceListener=b,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}})),Mt=R(((e,t)=>{B(),kt(),ut();var{Symbol:r,SymbolAsyncIterator:i,SymbolIterator:n,SymbolFor:o}=Tt(),s=r("kDestroyed"),a=r("kIsErrored"),l=r("kIsReadable"),h=r("kIsDisturbed"),u=o("nodejs.webstream.isClosedPromise"),c=o("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function d(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)}function g(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function b(e){return!(!e||g(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function y(e){return!(!e||g(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function m(e){return!(!e||g(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function w(e){return b(e)||y(e)||m(e)}function _(e,t){return null!=e&&(!0===t?"function"==typeof e[i]:!1===t?"function"==typeof e[n]:"function"==typeof e[i]||"function"==typeof e[n])}function v(e){if(!g(e))return null;let t=e._writableState,r=e._readableState,i=t||r;return!!(e.destroyed||e[s]||null!=i&&i.destroyed)}function E(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof t?.ended?null:t.ended)}function S(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.finished?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))}function A(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof t?.ended?null:t.ended)}function I(e,t){if(!f(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.endEmitted?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function k(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof e?.readable?null:!v(e)&&(f(e)&&e.readable&&!I(e))}function C(e){return"boolean"!=typeof e?.writable?null:!v(e)&&(p(e)&&e.writable&&!E(e))}function T(e,t){return g(e)?!!v(e)||!(!1!==t?.readable&&k(e)||!1!==t?.writable&&C(e)):null}function R(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null}function O(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null}function x(e){if(!g(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof t?.closed||"boolean"==typeof r?.closed?t?.closed||r?.closed:"boolean"==typeof e._closed&&P(e)?e._closed:null}function P(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function M(e){return"boolean"==typeof e._sent100&&P(e)}function U(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)}function L(e){if(!g(e))return null;let t=e._writableState,r=e._readableState,i=t||r;return!i&&M(e)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)}function j(e){var t;return!(!e||!(null!==(t=e[h])&&void 0!==t?t:e.readableDidRead||e.readableAborted))}function N(e){var t,r,i,n,o,s,l,h,u,c;return!(!e||!(null!==(t=null!==(r=null!==(i=null!==(n=null!==(o=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==n?n:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==i?i:null===(h=e._writableState)||void 0===h?void 0:h.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null!==(c=e._writableState)&&void 0!==c&&c.errored))}t.exports={kDestroyed:s,isDisturbed:j,kIsDisturbed:h,isErrored:N,kIsErrored:a,isReadable:k,kIsReadable:l,kIsClosedPromise:u,kControllerErrorFunction:c,isClosed:x,isDestroyed:v,isDuplexNodeStream:d,isFinished:T,isIterable:_,isReadableNodeStream:f,isReadableStream:b,isReadableEnded:A,isReadableFinished:I,isReadableErrored:O,isNodeStream:g,isWebStream:w,isWritable:C,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:E,isWritableFinished:S,isWritableErrored:R,isServerRequest:U,isServerResponse:M,willEmitClose:L,isTransformStream:m}})),Ut=R(((e,t)=>{B(),kt(),ut();var r=Bt(),{AbortError:i,codes:n}=xt(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:s}=n,{kEmptyObject:a,once:l}=Rt(),{validateAbortSignal:h,validateFunction:u,validateObject:c,validateBoolean:f}=Pt(),{Promise:p,PromisePrototypeThen:d}=Tt(),{isClosed:g,isReadable:b,isReadableNodeStream:y,isReadableStream:m,isReadableFinished:w,isReadableErrored:_,isWritable:v,isWritableNodeStream:E,isWritableStream:S,isWritableFinished:A,isWritableErrored:I,isNodeStream:k,willEmitClose:C,kIsClosedPromise:T}=Mt();function R(e){return e.setHeader&&"function"==typeof e.abort}var O=()=>{};function x(e,t,n){var f,p;if(2===arguments.length?(n=t,t=a):null==t?t=a:c(t,"options"),u(n,"callback"),h(t.signal,"options.signal"),n=l(n),m(e)||S(e))return P(e,t,n);if(!k(e))throw new o("stream",["ReadableStream","WritableStream","Stream"],e);let d=null!==(f=t.readable)&&void 0!==f?f:y(e),T=null!==(p=t.writable)&&void 0!==p?p:E(e),x=e._writableState,B=e._readableState,M=()=>{e.writable||j()},U=C(e)&&y(e)===d&&E(e)===T,L=A(e,!1),j=()=>{L=!0,e.destroyed&&(U=!1),(!U||e.readable&&!d)&&(!d||N)&&n.call(e)},N=w(e,!1),D=()=>{N=!0,e.destroyed&&(U=!1),(!U||e.writable&&!T)&&(!T||L)&&n.call(e)},F=t=>{n.call(e,t)},W=g(e),H=()=>{W=!0;let t=I(e)||_(e);return t&&"boolean"!=typeof t?n.call(e,t):d&&!N&&y(e,!0)&&!w(e,!1)?n.call(e,new s):!T||L||A(e,!1)?void n.call(e):n.call(e,new s)},V=()=>{W=!0;let t=I(e)||_(e);if(t&&"boolean"!=typeof t)return n.call(e,t);n.call(e)},$=()=>{e.req.on("finish",j)};R(e)?(e.on("complete",j),U||e.on("abort",H),e.req?$():e.on("request",$)):T&&!x&&(e.on("end",M),e.on("close",M)),!U&&"boolean"==typeof e.aborted&&e.on("aborted",H),e.on("end",D),e.on("finish",j),!1!==t.error&&e.on("error",F),e.on("close",H),W?r.nextTick(H):null!=x&&x.errorEmitted||null!=B&&B.errorEmitted?U||r.nextTick(V):(!d&&(!U||b(e))&&(L||!1===v(e))||!T&&(!U||v(e))&&(N||!1===b(e))||B&&e.req&&e.aborted)&&r.nextTick(V);let q=()=>{n=O,e.removeListener("aborted",H),e.removeListener("complete",j),e.removeListener("abort",H),e.removeListener("request",$),e.req&&e.req.removeListener("finish",j),e.removeListener("end",M),e.removeListener("close",M),e.removeListener("finish",j),e.removeListener("end",D),e.removeListener("error",F),e.removeListener("close",H)};if(t.signal&&!W){let o=()=>{let r=n;q(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(o);else{let r=n;n=l(((...i)=>{t.signal.removeEventListener("abort",o),r.apply(e,i)})),t.signal.addEventListener("abort",o)}}return q}function P(e,t,n){let o=!1,s=O;if(t.signal)if(s=()=>{o=!0,n.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(s);else{let r=n;n=l(((...i)=>{t.signal.removeEventListener("abort",s),r.apply(e,i)})),t.signal.addEventListener("abort",s)}let a=(...t)=>{o||r.nextTick((()=>n.apply(e,t)))};return d(e[T].promise,a,a),O}function M(e,t){var r;let i=!1;return null===t&&(t=a),null!==(r=t)&&void 0!==r&&r.cleanup&&(f(t.cleanup,"cleanup"),i=t.cleanup),new p(((r,n)=>{let o=x(e,t,(e=>{i&&o(),e?n(e):r()}))}))}t.exports=x,t.exports.finished=M})),Lt=R(((e,t)=>{B(),kt(),ut();var r=Bt(),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:o}=xt(),{Symbol:s}=Tt(),{kDestroyed:a,isDestroyed:l,isFinished:h,isServerRequest:u}=Mt(),c=s("kDestroy"),f=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function d(e,t){let r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?g(this,e,t):this.once(c,(function(r){g(this,i(r,e),t)})),this)}function g(e,t,i){let n=!1;function o(t){if(n)return;n=!0;let o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof i&&i(t),t?r.nextTick(b,e,t):r.nextTick(y,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function b(e,t){m(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function m(e,t){let r=e._readableState,i=e._writableState;null!=i&&i.errorEmitted||null!=r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function w(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)}function _(e,t,i){let n=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=n&&n.destroyed)return this;null!=n&&n.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),i?r.nextTick(m,e,t):m(e,t))}function v(e,t){if("function"!=typeof e._construct)return;let i=e._readableState,n=e._writableState;i&&(i.constructed=!1),n&&(n.constructed=!1),e.once(f,t),!(e.listenerCount(f)>1)&&r.nextTick(E,e)}function E(e){let t=!1;function i(i){if(t)return void _(e,i??new n);t=!0;let o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(c,i):i?_(e,i,!0):r.nextTick(S,e)}try{e._construct((e=>{r.nextTick(i,e)}))}catch(o){r.nextTick(i,o)}}function S(e){e.emit(f)}function A(e){return e?.setHeader&&"function"==typeof e.abort}function I(e){e.emit("close")}function k(e,t){e.emit("error",t),r.nextTick(I,e)}function C(e,t){!e||l(e)||(!t&&!h(e)&&(t=new o),u(e)?(e.socket=null,e.destroy(t)):A(e)?e.abort():A(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?r.nextTick(k,e,t):r.nextTick(I,e),e.destroyed||(e[a]=!0))}t.exports={construct:v,destroyer:C,destroy:d,undestroy:w,errorOrDestroy:_}}));function jt(){jt.init.call(this)}function Nt(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Dt(e){return void 0===e._maxListeners?jt.defaultMaxListeners:e._maxListeners}function Ft(e,t,r,i){var n,o,s,a;if(Nt(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=Dt(e))>0&&s.length>n&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function Wt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ht(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=Wt.bind(i);return n.listener=r,i.wrapFn=n,n}function Vt(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):qt(n,n.length)}function $t(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function qt(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}var zt,Kt,Gt,Qt,Yt,Jt,Zt,Xt=T((()=>{B(),kt(),ut(),Gt="object"==typeof Reflect?Reflect:null,Qt=Gt&&"function"==typeof Gt.apply?Gt.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Kt=Gt&&"function"==typeof Gt.ownKeys?Gt.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Yt=Number.isNaN||function(e){return e!=e},zt=jt,jt.EventEmitter=jt,jt.prototype._events=void 0,jt.prototype._eventsCount=0,jt.prototype._maxListeners=void 0,Jt=10,Object.defineProperty(jt,"defaultMaxListeners",{enumerable:!0,get:function(){return Jt},set:function(e){if("number"!=typeof e||e<0||Yt(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Jt=e}}),jt.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},jt.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Yt(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},jt.prototype.getMaxListeners=function(){return Dt(this)},jt.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=n[e];if(void 0===a)return!1;if("function"==typeof a)Qt(a,this,t);else{var l=a.length,h=qt(a,l);for(r=0;r<l;++r)Qt(h[r],this,t)}return!0},jt.prototype.addListener=function(e,t){return Ft(this,e,t,!1)},jt.prototype.on=jt.prototype.addListener,jt.prototype.prependListener=function(e,t){return Ft(this,e,t,!0)},jt.prototype.once=function(e,t){return Nt(t),this.on(e,Ht(this,e,t)),this},jt.prototype.prependOnceListener=function(e,t){return Nt(t),this.prependListener(e,Ht(this,e,t)),this},jt.prototype.removeListener=function(e,t){var r,i,n,o,s;if(Nt(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},jt.prototype.off=jt.prototype.removeListener,jt.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},jt.prototype.listeners=function(e){return Vt(this,e,!0)},jt.prototype.rawListeners=function(e){return Vt(this,e,!1)},jt.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):$t.call(e,t)},jt.prototype.listenerCount=$t,jt.prototype.eventNames=function(){return this._eventsCount>0?Kt(this._events):[]},Zt=zt,Zt.EventEmitter,Zt.defaultMaxListeners,Zt.init,Zt.listenerCount,Zt.EventEmitter,Zt.defaultMaxListeners,Zt.init,Zt.listenerCount})),er={};O(er,{EventEmitter:()=>tr,default:()=>Zt,defaultMaxListeners:()=>rr,init:()=>ir,listenerCount:()=>nr,on:()=>or,once:()=>sr});var tr,rr,ir,nr,or,sr,ar=T((()=>{B(),kt(),ut(),Xt(),Xt(),Zt.once=function(e,t){return new Promise(((r,i)=>{function n(...t){void 0!==o&&e.removeListener("error",o),r(t)}let o;"error"!==t&&(o=t=>{e.removeListener(name,n),i(t)},e.once("error",o)),e.once(t,n)}))},Zt.on=function(e,t){let r=[],i=[],n=null,o=!1,s={async next(){let e=r.shift();if(e)return createIterResult(e,!1);if(n){let e=Promise.reject(n);return n=null,e}return o?createIterResult(void 0,!0):new Promise(((e,t)=>i.push({resolve:e,reject:t})))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(let e of i)e.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(r){n=r,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...e){let t=i.shift();t?t.resolve(createIterResult(e,!1)):r.push(e)}function l(e){o=!0;let t=i.shift();t?t.reject(e):n=e,s.return()}},({EventEmitter:tr,defaultMaxListeners:rr,init:ir,listenerCount:nr,on:or,once:sr}=Zt)})),lr=R(((e,t)=>{B(),kt(),ut();var{ArrayIsArray:r,ObjectSetPrototypeOf:i}=Tt(),{EventEmitter:n}=(ar(),P(er));function o(e){n.call(this,e)}function s(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}i(o.prototype,n.prototype),i(o,n),o.prototype.pipe=function(e,t){let r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),!e._isStdio&&(!t||!1!==t.end)&&(r.on("end",l),r.on("close",h));let a=!1;function l(){a||(a=!0,e.end())}function h(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){c(),0===n.listenerCount(this,"error")&&this.emit("error",e)}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",l),r.removeListener("close",h),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return s(r,"error",u),s(e,"error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e},t.exports={Stream:o,prependListener:s}})),hr=R(((e,t)=>{B(),kt(),ut();var{AbortError:r,codes:i}=xt(),{isNodeStream:n,isWebStream:o,kControllerErrorFunction:s}=Mt(),a=Ut(),{ERR_INVALID_ARG_TYPE:l}=i,h=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new l(t,"AbortSignal",e)};t.exports.addAbortSignal=function(e,r){if(h(e,"signal"),!n(r)&&!o(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let i=n(t)?()=>{t.destroy(new r(void 0,{cause:e.reason}))}:()=>{t[s](new r(void 0,{cause:e.reason}))};return e.aborted?i():(e.addEventListener("abort",i),a(t,(()=>e.removeEventListener("abort",i)))),t}})),ur=R(((e,t)=>{B(),kt(),ut();var{StringPrototypeSlice:r,SymbolIterator:i,TypedArrayPrototypeSet:n,Uint8Array:o}=Tt(),{Buffer:s}=(It(),P(ct)),{inspect:a}=Rt();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,i=0;for(;r;)n(t,r.data,i),i+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",i=this.head,n=0;do{let o=i.data;if(!(e>o.length)){e===o.length?(t+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(t+=r(o,0,e),this.head=i,i.data=r(o,e));break}t+=o,e-=o.length,++n}while(null!==(i=i.next));return this.length-=n,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,i=this.head,a=0;do{let s=i.data;if(!(e>s.length)){e===s.length?(n(t,s,r-e),++a,i.next?this.head=i.next:this.head=this.tail=null):(n(t,new o(s.buffer,s.byteOffset,e),r-e),this.head=i,i.data=s.slice(e));break}n(t,s,r-e),e-=s.length,++a}while(null!==(i=i.next));return this.length-=a,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return a(this,{...t,depth:0,customInspect:!1})}}})),cr=R(((e,t)=>{B(),kt(),ut();var{MathFloor:r,NumberIsInteger:i}=Tt(),{ERR_INVALID_ARG_VALUE:n}=xt().codes;function o(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function s(e){return e?16:16384}function a(e,t,a,l){let h=o(t,l,a);if(null!=h){if(!i(h)||h<0){let e=l?`options.${a}`:"options.highWaterMark";throw new n(e,h)}return r(h)}return s(e.objectMode)}t.exports={getHighWaterMark:a,getDefaultHighWaterMark:s}}));function fr(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function pr(e,t,r){for(var i,n,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(ai[(n=i)>>18&63]+ai[n>>12&63]+ai[n>>6&63]+ai[63&n]);return o.join("")}function dr(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,gr.prototype),t}function gr(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return mr(e)}return br(e,t,r)}function br(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!gr.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|Er(e,t),i=dr(r),n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}(e,t);if(ArrayBuffer.isView(e))return wr(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Kr(e,ArrayBuffer)||e&&Kr(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Kr(e,SharedArrayBuffer)||e&&Kr(e.buffer,SharedArrayBuffer)))return _r(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return gr.from(i,t,r);var n=function(e){if(gr.isBuffer(e)){var t=0|vr(e.length),r=dr(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Gr(e.length)?dr(0):wr(e):"Buffer"===e.type&&Array.isArray(e.data)?wr(e.data):void 0}(e);if(n)return n;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return gr.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function yr(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function mr(e){return yr(e),dr(e<0?0:0|vr(e))}function wr(e){for(var t=e.length<0?0:0|vr(e.length),r=dr(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function _r(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,gr.prototype),i}function vr(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function Er(e,t){if(gr.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Kr(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $r(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return qr(e).length;default:if(n)return i?-1:$r(e).length;t=(""+t).toLowerCase(),n=!0}}function Sr(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return jr(this,t,r);case"utf8":case"utf-8":return Mr(this,t,r);case"ascii":return Ur(this,t,r);case"latin1":case"binary":return Lr(this,t,r);case"base64":return Br(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nr(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function Ar(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function Ir(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Gr(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=gr.from(t,i)),gr.isBuffer(t))return 0===t.length?-1:kr(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):kr(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function kr(e,t,r,i,n){var o,s=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function h(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){var u=-1;for(o=r;o<a;o++)if(h(e,o)===h(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var c=!0,f=0;f<l;f++)if(h(e,o+f)!==h(t,f)){c=!1;break}if(c)return o}return-1}function Cr(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=t.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(Gr(a))return s;e[r+s]=a}return s}function Tr(e,t,r,i){return zr($r(t,e.length-r),e,r,i)}function Rr(e,t,r,i){return zr(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function Or(e,t,r,i){return Rr(e,t,r,i)}function xr(e,t,r,i){return zr(qr(t),e,r,i)}function Pr(e,t,r,i){return zr(function(e,t){for(var r,i,n,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(t,e.length-r),e,r,i)}function Br(e,t,r){return 0===t&&r===e.length?gi.fromByteArray(e):gi.fromByteArray(e.slice(t,r))}function Mr(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var o,s,a,l,h=e[n],u=null,c=h>239?4:h>223?3:h>191?2:1;if(n+c<=r)switch(c){case 1:h<128&&(u=h);break;case 2:128==(192&(o=e[n+1]))&&(l=(31&h)<<6|63&o)>127&&(u=l);break;case 3:o=e[n+1],s=e[n+2],128==(192&o)&&128==(192&s)&&(l=(15&h)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[n+1],s=e[n+2],a=e[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",i=0;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return r}(i)}function Ur(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function Lr(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function jr(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=t;o<r;++o)n+=wi[e[o]];return n}function Nr(e,t,r){for(var i=e.slice(t,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function Dr(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Fr(e,t,r,i,n,o){if(!gr.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function Wr(e,t,r,i,n,o){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Hr(e,t,r,i,n){return t=+t,r>>>=0,n||Wr(e,0,r,4),bi.write(e,t,r,i,23,4),r+4}function Vr(e,t,r,i,n){return t=+t,r>>>=0,n||Wr(e,0,r,8),bi.write(e,t,r,i,52,8),r+8}function $r(e,t){var r;t=t||1/0;for(var i=e.length,n=null,o=[],s=0;s<i;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function qr(e){return gi.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(mi,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function zr(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function Kr(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Gr(e){return e!=e}function Qr(e,t){for(var r in e)t[r]=e[r]}function Yr(e,t,r){return Ei(e,t,r)}function Jr(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(Ii.isEncoding===ki||!ki(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=ei,this.end=ti,t=4;break;case"utf8":this.fillLast=Xr,t=4;break;case"base64":this.text=ri,this.end=ii,t=3;break;default:return this.write=ni,void(this.end=oi)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ii.allocUnsafe(t)}function Zr(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Xr(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function ei(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function ti(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function ri(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function ii(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function ni(e){return e.toString(this.encoding)}function oi(e){return e&&e.length?this.write(e):""}var si,ai,li,hi,ui,ci,fi,pi,di,gi,bi,yi,mi,wi,_i,vi,Ei,Si,Ai,Ii,ki,Ci=T((()=>{for(B(),kt(),ut(),si={byteLength:function(e){var t=fr(e),r=t[0],i=t[1];return 3*(r+i)/4-i},toByteArray:function(e){var t,r,i=fr(e),n=i[0],o=i[1],s=new hi(function(e,t,r){return 3*(t+r)/4-r}(0,n,o)),a=0,l=o>0?n-4:n;for(r=0;r<l;r+=4)t=li[e.charCodeAt(r)]<<18|li[e.charCodeAt(r+1)]<<12|li[e.charCodeAt(r+2)]<<6|li[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=li[e.charCodeAt(r)]<<2|li[e.charCodeAt(r+1)]>>4,s[a++]=255&t),1===o&&(t=li[e.charCodeAt(r)]<<10|li[e.charCodeAt(r+1)]<<4|li[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,i=r%3,n=[],o=0,s=r-i;o<s;o+=16383)n.push(pr(e,o,o+16383>s?s:o+16383));return 1===i?(t=e[r-1],n.push(ai[t>>2]+ai[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],n.push(ai[t>>10]+ai[t>>4&63]+ai[t<<2&63]+"=")),n.join("")}},ai=[],li=[],hi=typeof Uint8Array<"u"?Uint8Array:Array,ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ci=0,fi=ui.length;ci<fi;++ci)ai[ci]=ui[ci],li[ui.charCodeAt(ci)]=ci;li["-".charCodeAt(0)]=62,li["_".charCodeAt(0)]=63,pi={read:function(e,t,r,i,n){var o,s,a=8*n-i-1,l=(1<<a)-1,h=l>>1,u=-7,c=r?n-1:0,f=r?-1:1,p=e[t+c];for(c+=f,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+c],c+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+c],c+=f,u-=8);if(0===o)o=1-h;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=h}return(p?-1:1)*s*Math.pow(2,o-i)},write:function(e,t,r,i,n,o){var s,a,l,h=8*o-n-1,u=(1<<h)-1,c=u>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+c>=1?f/l:f*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=u?(a=0,s=u):s+c>=1?(a=(t*l-1)*Math.pow(2,n),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,n),s=0));n>=8;e[r+p]=255&a,p+=d,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;e[r+p]=255&s,p+=d,s/=256,h-=8);e[r+p-d]|=128*g}},di={},gi=si,bi=pi,yi="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,di.Buffer=gr,di.SlowBuffer=function(e){return+e!=e&&(e=0),gr.alloc(+e)},di.INSPECT_MAX_BYTES=50,di.kMaxLength=2147483647,gr.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),gr.TYPED_ARRAY_SUPPORT||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(gr.prototype,"parent",{enumerable:!0,get:function(){if(gr.isBuffer(this))return this.buffer}}),Object.defineProperty(gr.prototype,"offset",{enumerable:!0,get:function(){if(gr.isBuffer(this))return this.byteOffset}}),gr.poolSize=8192,gr.from=function(e,t,r){return br(e,t,r)},Object.setPrototypeOf(gr.prototype,Uint8Array.prototype),Object.setPrototypeOf(gr,Uint8Array),gr.alloc=function(e,t,r){return function(e,t,r){return yr(e),e<=0?dr(e):void 0!==t?"string"==typeof r?dr(e).fill(t,r):dr(e).fill(t):dr(e)}(e,t,r)},gr.allocUnsafe=function(e){return mr(e)},gr.allocUnsafeSlow=function(e){return mr(e)},gr.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==gr.prototype},gr.compare=function(e,t){if(Kr(e,Uint8Array)&&(e=gr.from(e,e.offset,e.byteLength)),Kr(t,Uint8Array)&&(t=gr.from(t,t.offset,t.byteLength)),!gr.isBuffer(e)||!gr.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},gr.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},gr.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return gr.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=gr.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var o=e[r];if(Kr(o,Uint8Array)&&(o=gr.from(o)),!gr.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},gr.byteLength=Er,gr.prototype._isBuffer=!0,gr.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ar(this,t,t+1);return this},gr.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ar(this,t,t+3),Ar(this,t+1,t+2);return this},gr.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ar(this,t,t+7),Ar(this,t+1,t+6),Ar(this,t+2,t+5),Ar(this,t+3,t+4);return this},gr.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?Mr(this,0,e):Sr.apply(this,arguments)},gr.prototype.toLocaleString=gr.prototype.toString,gr.prototype.equals=function(e){if(!gr.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===gr.compare(this,e)},gr.prototype.inspect=function(){var e="",t=di.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},yi&&(gr.prototype[yi]=gr.prototype.inspect),gr.prototype.compare=function(e,t,r,i,n){if(Kr(e,Uint8Array)&&(e=gr.from(e,e.offset,e.byteLength)),!gr.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(i,n),h=e.slice(t,r),u=0;u<a;++u)if(l[u]!==h[u]){o=l[u],s=h[u];break}return o<s?-1:s<o?1:0},gr.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},gr.prototype.indexOf=function(e,t,r){return Ir(this,e,t,r,!0)},gr.prototype.lastIndexOf=function(e,t,r){return Ir(this,e,t,r,!1)},gr.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return Cr(this,e,t,r);case"utf8":case"utf-8":return Tr(this,e,t,r);case"ascii":return Rr(this,e,t,r);case"latin1":case"binary":return Or(this,e,t,r);case"base64":return xr(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pr(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},gr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},gr.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,gr.prototype),i},gr.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Dr(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i},gr.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Dr(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},gr.prototype.readUInt8=function(e,t){return e>>>=0,t||Dr(e,1,this.length),this[e]},gr.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Dr(e,2,this.length),this[e]|this[e+1]<<8},gr.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Dr(e,2,this.length),this[e]<<8|this[e+1]},gr.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Dr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},gr.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Dr(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},gr.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Dr(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},gr.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Dr(e,t,this.length);for(var i=t,n=1,o=this[e+--i];i>0&&(n*=256);)o+=this[e+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},gr.prototype.readInt8=function(e,t){return e>>>=0,t||Dr(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},gr.prototype.readInt16LE=function(e,t){e>>>=0,t||Dr(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},gr.prototype.readInt16BE=function(e,t){e>>>=0,t||Dr(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},gr.prototype.readInt32LE=function(e,t){return e>>>=0,t||Dr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},gr.prototype.readInt32BE=function(e,t){return e>>>=0,t||Dr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},gr.prototype.readFloatLE=function(e,t){return e>>>=0,t||Dr(e,4,this.length),bi.read(this,e,!0,23,4)},gr.prototype.readFloatBE=function(e,t){return e>>>=0,t||Dr(e,4,this.length),bi.read(this,e,!1,23,4)},gr.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Dr(e,8,this.length),bi.read(this,e,!0,52,8)},gr.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Dr(e,8,this.length),bi.read(this,e,!1,52,8)},gr.prototype.writeUIntLE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||Fr(this,e,t,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},gr.prototype.writeUIntBE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||Fr(this,e,t,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},gr.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,1,255,0),this[t]=255&e,t+1},gr.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},gr.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},gr.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},gr.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},gr.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);Fr(this,e,t,r,n-1,-n)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},gr.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);Fr(this,e,t,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},gr.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},gr.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},gr.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},gr.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},gr.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Fr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},gr.prototype.writeFloatLE=function(e,t,r){return Hr(this,e,t,!0,r)},gr.prototype.writeFloatBE=function(e,t,r){return Hr(this,e,t,!1,r)},gr.prototype.writeDoubleLE=function(e,t,r){return Vr(this,e,t,!0,r)},gr.prototype.writeDoubleBE=function(e,t,r){return Vr(this,e,t,!1,r)},gr.prototype.copy=function(e,t,r,i){if(!gr.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,i);else if(this===e&&r<t&&t<i)for(var o=n-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),t);return n},gr.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!gr.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var n=e.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=gr.isBuffer(e)?e:gr.from(e,i),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this},mi=/[^+/0-9A-Za-z-_]/g,wi=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,i=0;i<16;++i)e[r+i]="0123456789abcdef"[t]+"0123456789abcdef"[i];return e}(),di.Buffer,di.INSPECT_MAX_BYTES,di.kMaxLength,_i={},vi=di,Ei=vi.Buffer,Ei.from&&Ei.alloc&&Ei.allocUnsafe&&Ei.allocUnsafeSlow?_i=vi:(Qr(vi,_i),_i.Buffer=Yr),Yr.prototype=Object.create(Ei.prototype),Qr(Ei,Yr),Yr.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return Ei(e,t,r)},Yr.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=Ei(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},Yr.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Ei(e)},Yr.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return vi.SlowBuffer(e)},Si=_i,Ai={},Ii=Si.Buffer,ki=Ii.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Ai.StringDecoder=Jr,Jr.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Jr.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},Jr.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=Zr(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=Zr(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=Zr(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},Jr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Ai.StringDecoder,Ai.StringDecoder})),Ti={};O(Ti,{StringDecoder:()=>Ri,default:()=>Ai});var Ri,Oi=T((()=>{B(),kt(),ut(),Ci(),Ci(),Ri=Ai.StringDecoder})),xi=R(((e,t)=>{B(),kt(),ut();var r=Bt(),{PromisePrototypeThen:i,SymbolAsyncIterator:n,SymbolIterator:o}=Tt(),{Buffer:s}=(It(),P(ct)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=xt().codes;function h(e,t,h){let u,c;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...h,read(){this.push(t),this.push(null)}});if(t&&t[n])c=!0,u=t[n]();else{if(!t||!t[o])throw new a("iterable",["Iterable"],t);c=!1,u=t[o]()}let f=new e({objectMode:!0,highWaterMark:1,...h}),p=!1;async function d(e){let t=null!=e,r="function"==typeof u.throw;if(t&&r){let{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}async function g(){for(;;){try{let{value:e,done:t}=c?await u.next():u.next();if(t)f.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw p=!1,new l;if(f.push(t))continue;p=!1}}catch(e){f.destroy(e)}break}}return f._read=function(){p||(p=!0,g())},f._destroy=function(e,t){i(d(e),(()=>r.nextTick(t,e)),(i=>r.nextTick(t,i||e)))},f}t.exports=h})),Pi=R(((e,t)=>{B(),kt(),ut();var r=Bt(),{ArrayPrototypeIndexOf:i,NumberIsInteger:n,NumberIsNaN:o,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:h,Promise:u,SafeSet:c,SymbolAsyncIterator:f,Symbol:p}=Tt();t.exports=F,F.ReadableState=D;var{EventEmitter:d}=(ar(),P(er)),{Stream:g,prependListener:b}=lr(),{Buffer:y}=(It(),P(ct)),{addAbortSignal:m}=hr(),w=Ut(),_=Rt().debuglog("stream",(e=>{_=e})),v=ur(),E=Lt(),{getHighWaterMark:S,getDefaultHighWaterMark:A}=cr(),{aggregateTwoErrors:I,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:T,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O}}=xt(),{validateObject:x}=Pt(),M=p("kPaused"),{StringDecoder:U}=(Oi(),P(Ti)),L=xi();h(F.prototype,g.prototype),h(F,g);var j=()=>{},{errorOrDestroy:N}=E;function D(e,t,r){"boolean"!=typeof r&&(r=t instanceof Ui()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?S(this,e,"readableHighWaterMark",r):A(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[M]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new U(e.encoding),this.encoding=e.encoding)}function F(e){if(!(this instanceof F))return new F(e);let t=this instanceof Ui();this._readableState=new D(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&m(e.signal,this)),g.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&Y(this,this._readableState)}))}function W(e,t,r,i){_("readableAddChunk",t);let n,o=e._readableState;if(o.objectMode||("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(i&&o.encoding?t=y.from(t,r).toString(o.encoding):(t=y.from(t,r),r=""))):t instanceof y?r="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),r=""):null!=t&&(n=new k("chunk",["string","Buffer","Uint8Array"],t))),n)N(e,n);else if(null===t)o.reading=!1,K(e,o);else if(o.objectMode||t&&t.length>0)if(i)if(o.endEmitted)N(e,new O);else{if(o.destroyed||o.errored)return!1;H(e,o,t,!0)}else if(o.ended)N(e,new R);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?H(e,o,t,!1):Y(e,o)):H(e,o,t,!1)}else i||(o.reading=!1,Y(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function H(e,t,r,i){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&G(e)),Y(e,t)}F.prototype.destroy=E.destroy,F.prototype._undestroy=E.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},F.prototype.push=function(e,t){return W(this,e,t,!1)},F.prototype.unshift=function(e,t){return W(this,e,t,!0)},F.prototype.isPaused=function(){let e=this._readableState;return!0===e[M]||!1===e.flowing},F.prototype.setEncoding=function(e){let t=new U(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=t.write(n);return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this};var V,$=1073741824;function q(e){if(e>$)throw new T("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function z(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:o(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function K(e,t){if(_("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?G(e):(t.needReadable=!1,t.emittedReadable=!0,Q(e))}}function G(e){let t=e._readableState;_("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(_("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(Q,e))}function Q(e){let t=e._readableState;_("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Y(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(J,e,t))}function J(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(_("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function Z(e,t){return function(){let r=e._readableState;r.awaitDrainWriters===t?(_("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(_("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),(!r.awaitDrainWriters||0===r.awaitDrainWriters.size)&&e.listenerCount("data")&&e.resume()}}function X(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[M]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ee(e){_("readable nexttick read 0"),e.read(0)}function te(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(re,e,t))}function re(e,t){_("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){let t=e._readableState;for(_("flow",t.flowing);t.flowing&&null!==e.read(););}function ne(e,t){"function"!=typeof e.read&&(e=F.wrap(e,{objectMode:!0}));let r=oe(e,t);return r.stream=e,r}async function*oe(e,t){let r=j;function i(t){this===e?(r(),r=j):r=t}e.on("readable",i);let n,o=w(e,{writable:!1},(e=>{n=e?I(n,e):null,r(),r=j}));try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new u(i)}}}catch(s){throw n=I(n,s),n}finally{!n&&!1===t?.destroyOnReturn||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",i),o()):E.destroyer(e,null)}}function se(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ae(e){let t=e._readableState;_("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(le,t,e))}function le(e,t){if(_("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(he,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function he(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}function ue(){return void 0===V&&(V={}),V}F.prototype.read=function(e){_("read",e),void 0===e?e=NaN:n(e)||(e=s(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=q(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return _("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ae(this):G(this),null;if(e=z(e,t),0===e&&t.ended)return 0===t.length&&ae(this),null;let i,o=t.needReadable;if(_("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,_("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(a){N(this,a)}t.sync=!1,t.reading||(e=z(r,t))}return i=e>0?se(e,t):null,null===i?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ae(this)),null!==i&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i},F.prototype._read=function(e){throw new C("_read()")},F.prototype.pipe=function(e,t){let i=this,n=this._readableState;1===n.pipes.length&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new c(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),_("pipe count=%d opts=%j",n.pipes.length,t);let o=t&&!1===t.end||e===r.stdout||e===r.stderr?m:a;function s(e,t){_("onunpipe"),e===i&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,u())}function a(){_("onend"),e.end()}n.endEmitted?r.nextTick(o):i.once("end",o),e.on("unpipe",s);let l,h=!1;function u(){_("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),l&&e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",s),i.removeListener("end",a),i.removeListener("end",m),i.removeListener("data",p),h=!0,l&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}function f(){h||(1===n.pipes.length&&n.pipes[0]===e?(_("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(_("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),i.pause()),l||(l=Z(i,e),e.on("drain",l))}function p(t){_("ondata");let r=e.write(t);_("dest.write",r),!1===r&&f()}function d(t){if(_("onerror",t),m(),e.removeListener("error",d),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?N(e,t):e.emit("error",t)}}function g(){e.removeListener("finish",y),m()}function y(){_("onfinish"),e.removeListener("close",g),m()}function m(){_("unpipe"),i.unpipe(e)}return i.on("data",p),b(e,"error",d),e.once("close",g),e.once("finish",y),e.emit("pipe",i),!0===e.writableNeedDrain?n.flowing&&f():n.flowing||(_("pipe resume"),i.resume()),e},F.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let n=i(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,r)),this},F.prototype.on=function(e,t){let i=g.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,_("on readable",n.length,n.reading),n.length?G(this):n.reading||r.nextTick(ee,this)),i},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(e,t){let i=g.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(X,this),i},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(e){let t=g.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&r.nextTick(X,this),t},F.prototype.resume=function(){let e=this._readableState;return e.flowing||(_("resume"),e.flowing=!e.readableListening,te(this,e)),e[M]=!1,this},F.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[M]=!0,this},F.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{N(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=l(e);for(let i=1;i<r.length;i++){let t=r[i];void 0===this[t]&&"function"==typeof e[t]&&(this[t]=e[t].bind(e))}return this},F.prototype[f]=function(){return ne(this)},F.prototype.iterator=function(e){return void 0!==e&&x(e,"options"),ne(this,e)},a(F.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),a(D.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[M]},set(e){this[M]=!!e}}}),F._fromList=se,F.from=function(e,t){return L(F,e,t)},F.fromWeb=function(e,t){return ue().newStreamReadableFromReadableStream(e,t)},F.toWeb=function(e,t){return ue().newReadableStreamFromStreamReadable(e,t)},F.wrap=function(e,t){var r,i;return new F({objectMode:null===(r=null!==(i=e.readableObjectMode)&&void 0!==i?i:e.objectMode)||void 0===r||r,...t,destroy(t,r){E.destroyer(e,t),r(t)}}).wrap(e)}})),Bi=R(((e,t)=>{B(),kt(),ut();var r=Bt(),{ArrayPrototypeSlice:i,Error:n,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:h,Symbol:u,SymbolHasInstance:c}=Tt();t.exports=U,U.WritableState=x;var{EventEmitter:f}=(ar(),P(er)),p=lr().Stream,{Buffer:d}=(It(),P(ct)),g=Lt(),{addAbortSignal:b}=hr(),{getHighWaterMark:y,getDefaultHighWaterMark:m}=cr(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:I,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:C}=xt().codes,{errorOrDestroy:T}=g;function R(){}l(U.prototype,p.prototype),l(U,p);var O=u("kOnFinished");function x(e,t,r){"boolean"!=typeof r&&(r=t instanceof Ui()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?y(this,e,"writableHighWaterMark",r):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=F.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,M(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function M(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function U(e){let t=this instanceof Ui();if(!t&&!o(U,this))return new U(e);this._writableState=new x(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&b(e.signal,this)),p.call(this,e),g.construct(this,(()=>{let e=this._writableState;e.writing||$(this,e),G(this,e)}))}function L(e,t,i,n){let o,s=e._writableState;if("function"==typeof i)n=i,i=s.defaultEncoding;else{if(i){if("buffer"!==i&&!d.isEncoding(i))throw new C(i)}else i=s.defaultEncoding;"function"!=typeof n&&(n=R)}if(null===t)throw new I;if(!s.objectMode)if("string"==typeof t)!1!==s.decodeStrings&&(t=d.from(t,i),i="buffer");else if(t instanceof d)i="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),i="buffer"}return s.ending?o=new k:s.destroyed&&(o=new S("write")),o?(r.nextTick(n,o),T(e,o,!0),o):(s.pendingcb++,j(e,s,t,i,n))}function j(e,t,r,i,n){let o=t.objectMode?1:r.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:i,callback:n}),t.allBuffers&&"buffer"!==i&&(t.allBuffers=!1),t.allNoop&&n!==R&&(t.allNoop=!1)):(t.writelen=o,t.writecb=n,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}function N(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new S("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function D(e,t,r,i){--t.pendingcb,i(r),V(t),T(e,r)}function F(e,t){let i=e._writableState,n=i.sync,o=i.writecb;"function"==typeof o?(i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,t?(t.stack,i.errored||(i.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?r.nextTick(D,e,i,t,o):D(e,i,t,o)):(i.buffered.length>i.bufferedIndex&&$(e,i),n?null!==i.afterWriteTickInfo&&i.afterWriteTickInfo.cb===o?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:o,stream:e,state:i},r.nextTick(W,i.afterWriteTickInfo)):H(e,i,1,o))):T(e,new v)}function W({stream:e,state:t,count:r,cb:i}){return t.afterWriteTickInfo=null,H(e,t,r,i)}function H(e,t,r,i){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,i();t.destroyed&&V(t),G(e,t)}function V(e){if(e.writing)return;for(let n=e.bufferedIndex;n<e.buffered.length;++n){var t;let{chunk:r,callback:i}=e.buffered[n],o=e.objectMode?1:r.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new S("write"))}let r=e[O].splice(0);for(let n=0;n<r.length;n++){var i;r[n](null!==(i=e.errored)&&void 0!==i?i:new S("end"))}M(e)}function $(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:o}=t,s=r.length-n;if(!s)return;let a=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let n=t.allNoop?R:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===a?r:i(r,a);o.allBuffers=t.allBuffers,N(e,t,!0,t.length,o,"",n),M(t)}else{do{let{chunk:i,encoding:n,callback:s}=r[a];r[a++]=null;let l=o?1:i.length;N(e,t,!1,l,i,n,s)}while(a<r.length&&!t.writing);a===r.length?M(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function q(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function z(e,t){let i=!1;function n(n){if(i)T(e,n??v());else if(i=!0,t.pendingcb--,n){let r=t[O].splice(0);for(let e=0;e<r.length;e++)r[e](n);T(e,n,t.sync)}else q(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(Q,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(o){n(o)}t.sync=!1}function K(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,z(e,t)))}function G(e,t,i){q(t)&&(K(e,t),0===t.pendingcb&&(i?(t.pendingcb++,r.nextTick(((e,t)=>{q(t)?Q(e,t):t.pendingcb--}),e,t)):q(t)&&(t.pendingcb++,Q(e,t))))}function Q(e,t){t.pendingcb--,t.finished=!0;let r=t[O].splice(0);for(let i=0;i<r.length;i++)r[i]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}x.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(x.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(U,c,{__proto__:null,value:function(e){return!!o(this,e)||this===U&&(e&&e._writableState instanceof x)}}),U.prototype.pipe=function(){T(this,new E)},U.prototype.write=function(e,t,r){return!0===L(this,e,t,r)},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||$(this,e))},U.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=h(e)),!d.isEncoding(e))throw new C(e);return this._writableState.defaultEncoding=e,this},U.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},U.prototype._writev=null,U.prototype.end=function(e,t,i){let o,s=this._writableState;if("function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!=e){let r=L(this,e,t);r instanceof n&&(o=r)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new A("end"):s.destroyed&&(o=new S("end")):(s.ending=!0,G(this,s,!0),s.ended=!0)),"function"==typeof i&&(o||s.finished?r.nextTick(i,o):s[O].push(i)),this},a(U.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var Y,J=g.destroy;function Z(){return void 0===Y&&(Y={}),Y}U.prototype.destroy=function(e,t){let i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[O].length)&&r.nextTick(V,i),J.call(this,e,t),this},U.prototype._undestroy=g.undestroy,U.prototype._destroy=function(e,t){t(e)},U.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},U.fromWeb=function(e,t){return Z().newStreamWritableFromWritableStream(e,t)},U.toWeb=function(e){return Z().newWritableStreamFromStreamWritable(e)}})),Mi=R(((e,t)=>{B(),kt(),ut();var r=Bt(),i=(It(),P(ct)),{isReadable:n,isWritable:o,isIterable:s,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:h,isDuplexNodeStream:u}=Mt(),c=Ut(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:d}}=xt(),{destroyer:g}=Lt(),b=Ui(),y=Pi(),{createDeferredPromise:m}=Rt(),w=xi(),_=globalThis.Blob||i.Blob,v=typeof _<"u"?function(e){return e instanceof _}:function(e){return!1},E=globalThis.AbortController||Ot().AbortController,{FunctionPrototypeCall:S}=Tt(),A=class extends b{constructor(e){super(e),!1===e?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};function I(e){let{promise:t,resolve:i}=m(),n=new E,o=n.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:n,done:s,cb:a}=await e;if(r.nextTick(a),s)return;if(o.aborted)throw new f(void 0,{cause:o.reason});({promise:t,resolve:i}=m()),yield n}}(),{signal:o}),write(e,t,r){let n=i;i=null,n({chunk:e,done:!1,cb:r})},final(e){let t=i;i=null,t({done:!0,cb:e})},destroy(e,t){n.abort(),t(e)}}}function k(e){let t,r,i,s,a,l=e.readable&&"function"!=typeof e.readable.read?y.wrap(e.readable):e.readable,h=e.writable,u=!!n(l),p=!!o(h);function d(e){let t=s;s=null,t?t(e):e&&a.destroy(e)}return a=new A({readableObjectMode:!(null==l||!l.readableObjectMode),writableObjectMode:!(null==h||!h.writableObjectMode),readable:u,writable:p}),p&&(c(h,(e=>{p=!1,e&&g(l,e),d(e)})),a._write=function(e,r,i){h.write(e,r)?i():t=i},a._final=function(e){h.end(),r=e},h.on("drain",(function(){if(t){let e=t;t=null,e()}})),h.on("finish",(function(){if(r){let e=r;r=null,e()}}))),u&&(c(l,(e=>{u=!1,e&&g(l,e),d(e)})),l.on("readable",(function(){if(i){let e=i;i=null,e()}})),l.on("end",(function(){a.push(null)})),a._read=function(){for(;;){let e=l.read();if(null===e)return void(i=a._read);if(!a.push(e))return}}),a._destroy=function(e,n){!e&&null!==s&&(e=new f),i=null,t=null,r=null,null===s?n(e):(s=n,g(h,e),g(l,e))},a}t.exports=function e(t,i){if(u(t))return t;if(l(t))return k({readable:t});if(h(t))return k({writable:t});if(a(t))return k({writable:!1,readable:!1});if("function"==typeof t){let{value:e,write:n,final:o,destroy:a}=I(t);if(s(e))return w(A,e,{objectMode:!0,write:n,final:o,destroy:a});let l=e?.then;if("function"==typeof l){let t,i=S(l,e,(e=>{if(null!=e)throw new d("nully","body",e)}),(e=>{g(t,e)}));return t=new A({objectMode:!0,readable:!1,write:n,final(e){o((async()=>{try{await i,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new d("Iterable, AsyncIterable or AsyncFunction",i,e)}if(v(t))return e(t.arrayBuffer());if(s(t))return w(A,t,{objectMode:!0,writable:!1});if("object"==typeof t?.writable||"object"==typeof t?.readable){let r=null!=t&&t.readable?l(t?.readable)?t?.readable:e(t.readable):void 0,i=null!=t&&t.writable?h(t?.writable)?t?.writable:e(t.writable):void 0;return k({readable:r,writable:i})}let n=t?.then;if("function"==typeof n){let e;return S(n,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{g(e,t)})),e=new A({objectMode:!0,writable:!1,read(){}})}throw new p(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}})),Ui=R(((e,t)=>{B(),kt(),ut();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:n,ObjectSetPrototypeOf:o}=Tt();t.exports=u;var s,a,l=Pi(),h=Bi();o(u.prototype,l.prototype),o(u,l);{let e=n(h.prototype);for(let t=0;t<e.length;t++){let r=e[t];u.prototype[r]||(u.prototype[r]=h.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),h.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function c(){return void 0===s&&(s={}),s}r(u.prototype,{writable:{__proto__:null,...i(h.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(h.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(h.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(h.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(h.prototype,"writableLength")},writableFinished:{__proto__:null,...i(h.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(h.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(h.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(h.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return c().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return c().newReadableWritablePairFromDuplex(e)},u.from=function(e){return a||(a=Mi()),a(e,"body")}})),Li=R(((e,t)=>{B(),kt(),ut();var{ObjectSetPrototypeOf:r,Symbol:i}=Tt();t.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:n}=xt().codes,o=Ui(),{getHighWaterMark:s}=cr();r(l.prototype,o.prototype),r(l,o);var a=i("kCallback");function l(e){if(!(this instanceof l))return new l(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[a]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function h(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function u(){this._final!==h&&h.call(this)}l.prototype._final=h,l.prototype._transform=function(e,t,r){throw new n("_transform()")},l.prototype._write=function(e,t,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),n.ended||o===i.length||i.length<i.highWaterMark?r():this[a]=r)}))},l.prototype._read=function(){if(this[a]){let e=this[a];this[a]=null,e()}}})),ji=R(((e,t)=>{B(),kt(),ut();var{ObjectSetPrototypeOf:r}=Tt();t.exports=n;var i=Li();function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(n.prototype,i.prototype),r(n,i),n.prototype._transform=function(e,t,r){r(null,e)}})),Ni=R(((e,t)=>{B(),kt(),ut();var r,i,n=Bt(),{ArrayIsArray:o,Promise:s,SymbolAsyncIterator:a}=Tt(),l=Ut(),{once:h}=Rt(),u=Lt(),c=Ui(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:m}=xt(),{validateFunction:w,validateAbortSignal:_}=Pt(),{isIterable:v,isReadable:E,isReadableNodeStream:S,isNodeStream:A,isTransformStream:I,isWebStream:k,isReadableStream:C,isReadableEnded:T}=Mt(),R=globalThis.AbortController||Ot().AbortController;function O(e,t,r){let i=!1;e.on("close",(()=>{i=!0}));let n=l(e,{readable:t,writable:r},(e=>{i=!e}));return{destroy:t=>{i||(i=!0,u.destroyer(e,t||new b("pipe")))},cleanup:n}}function x(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function P(e){if(v(e))return e;if(S(e))return M(e);throw new p("val",["Readable","Iterable","AsyncIterable"],e)}async function*M(e){i||(i=Pi()),yield*i.prototype[a].call(e)}async function U(e,t,r,{end:i}){let n,o=null,a=e=>{if(e&&(n=e),o){let e=o;o=null,e()}},h=()=>new s(((e,t)=>{n?t(n):o=()=>{n?t(n):e()}}));t.on("drain",a);let u=l(t,{readable:!1},a);try{t.writableNeedDrain&&await h();for await(let r of e)t.write(r)||await h();i&&t.end(),await h(),r()}catch(c){r(n!==c?f(n,c):c)}finally{u(),t.off("drain",a)}}async function L(e,t,r,{end:i}){I(t)&&(t=t.writable);let n=t.getWriter();try{for await(let t of e)await n.ready,n.write(t).catch((()=>{}));await n.ready,i&&await n.close(),r()}catch(o){try{await n.abort(o),r(o)}catch(s){r(s)}}}function j(...e){return N(e,h(x(e)))}function N(e,t,i){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new g("streams");let s=new R,a=s.signal,l=i?.signal,h=[];function u(){B(new m)}_(l,"options.signal"),l?.addEventListener("abort",u);let f,b,y,w=[],T=0;function x(e){B(e,0===--T)}function B(e,r){if(e&&(!f||"ERR_STREAM_PREMATURE_CLOSE"===f.code)&&(f=e),f||r){for(;w.length;)w.shift()(f);l?.removeEventListener("abort",u),s.abort(),r&&(f||h.forEach((e=>e())),n.nextTick(t,f,b))}}for(let o=0;o<e.length;o++){let t=e[o],s=o<e.length-1,l=o>0,u=s||!1!==i?.end,f=o===e.length-1;if(A(t)){let e=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&x(e)};if(u){let{destroy:e,cleanup:r}=O(t,s,l);w.push(e),E(t)&&f&&h.push(r)}t.on("error",e),E(t)&&f&&h.push((()=>{t.removeListener("error",e)}))}if(0===o)if("function"==typeof t){if(y=t({signal:a}),!v(y))throw new d("Iterable, AsyncIterable or Stream","source",y)}else y=v(t)||S(t)||I(t)?t:c.from(t);else if("function"==typeof t){var M;if(I(y))y=P(null===(M=y)||void 0===M?void 0:M.readable);else y=P(y);if(y=t(y,{signal:a}),s){if(!v(y,!0))throw new d("AsyncIterable",`transform[${o-1}]`,y)}else{var j;r||(r=ji());let e=new r({objectMode:!0}),t=null===(j=y)||void 0===j?void 0:j.then;if("function"==typeof t)T++,t.call(y,(t=>{b=t,null!=t&&e.write(t),u&&e.end(),n.nextTick(x)}),(t=>{e.destroy(t),n.nextTick(x,t)}));else if(v(y,!0))T++,U(y,e,x,{end:u});else{if(!C(y)&&!I(y))throw new d("AsyncIterable or Promise","destination",y);{let t=y.readable||y;T++,U(t,e,x,{end:u})}}y=e;let{destroy:i,cleanup:o}=O(y,!1,!0);w.push(i),f&&h.push(o)}}else if(A(t)){if(S(y)){T+=2;let e=D(y,t,x,{end:u});E(t)&&f&&h.push(e)}else if(I(y)||C(y)){let e=y.readable||y;T++,U(e,t,x,{end:u})}else{if(!v(y))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);T++,U(y,t,x,{end:u})}y=t}else if(k(t)){if(S(y))T++,L(P(y),t,x,{end:u});else if(C(y)||v(y))T++,L(y,t,x,{end:u});else{if(!I(y))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);T++,L(y.readable,t,x,{end:u})}y=t}else y=c.from(t)}return(null!=a&&a.aborted||null!=l&&l.aborted)&&n.nextTick(u),y}function D(e,t,r,{end:i}){let o=!1;if(t.on("close",(()=>{o||r(new y)})),e.pipe(t,{end:!1}),i){let r=function(){o=!0,t.end()};T(e)?n.nextTick(r):e.once("end",r)}else r();return l(e,{readable:!0,writable:!1},(t=>{let i=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&i&&i.ended&&!i.errored&&!i.errorEmitted?e.once("end",r).once("error",r):r(t)})),l(t,{readable:!1,writable:!0},r)}t.exports={pipelineImpl:N,pipeline:j}})),Di=R(((e,t)=>{B(),kt(),ut();var{pipeline:r}=Ni(),i=Ui(),{destroyer:n}=Lt(),{isNodeStream:o,isReadable:s,isWritable:a,isWebStream:l,isTransformStream:h,isWritableStream:u,isReadableStream:c}=Mt(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:d}}=xt(),g=Ut();t.exports=function(...e){if(0===e.length)throw new d("streams");if(1===e.length)return i.from(e[0]);let t,b,y,m,w,_=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(o(e[r])||l(e[r])){if(r<e.length-1&&!(s(e[r])||c(e[r])||h(e[r])))throw new p(`streams[${r}]`,_[r],"must be readable");if(r>0&&!(a(e[r])||u(e[r])||h(e[r])))throw new p(`streams[${r}]`,_[r],"must be writable")}function v(e){let t=m;m=null,t?t(e):e?w.destroy(e):!I&&!A&&w.destroy()}let E=e[0],S=r(e,v),A=!!(a(E)||u(E)||h(E)),I=!!(s(S)||c(S)||h(S));if(w=new i({writableObjectMode:!(null==E||!E.writableObjectMode),readableObjectMode:!(null==S||!S.writableObjectMode),writable:A,readable:I}),A){if(o(E))w._write=function(e,r,i){E.write(e,r)?i():t=i},w._final=function(e){E.end(),b=e},E.on("drain",(function(){if(t){let e=t;t=null,e()}}));else if(l(E)){let e=(h(E)?E.writable:E).getWriter();w._write=async function(t,r,i){try{await e.ready,e.write(t).catch((()=>{})),i()}catch(n){i(n)}},w._final=async function(t){try{await e.ready,e.close().catch((()=>{})),b=t}catch(r){t(r)}}}let e=h(S)?S.readable:S;g(e,(()=>{if(b){let e=b;b=null,e()}}))}if(I)if(o(S))S.on("readable",(function(){if(y){let e=y;y=null,e()}})),S.on("end",(function(){w.push(null)})),w._read=function(){for(;;){let e=S.read();if(null===e)return void(y=w._read);if(!w.push(e))return}};else if(l(S)){let e=(h(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,r){!e&&null!==m&&(e=new f),y=null,t=null,b=null,null===m?r(e):(m=r,o(S)&&n(S,e))},w}})),Fi=R(((e,t)=>{B(),kt(),ut();var r=globalThis.AbortController||Ot().AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:a}=xt(),{validateAbortSignal:l,validateInteger:h,validateObject:u}=Pt(),c=Tt().Symbol("kWeak"),{finished:f}=Ut(),p=Di(),{addAbortSignalNoValidate:d}=hr(),{isWritable:g,isNodeStream:b}=Mt(),{ArrayPrototypePush:y,MathFloor:m,Number:w,NumberIsNaN:_,Promise:v,PromiseReject:E,PromisePrototypeThen:S,Symbol:A}=Tt(),I=A("kEmpty"),k=A("kEof");function C(e,t){if(null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal"),b(e)&&!g(e))throw new i("stream",e,"must be writable");let r=p(this,e);return null!=t&&t.signal&&d(t.signal,r),r}function T(e,t){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal");let i=1;return null!=t?.concurrency&&(i=m(t.concurrency)),h(i,"concurrency",1),async function*(){var n,o;let s=new r,l=this,h=[],u=s.signal,c={signal:u},f=()=>s.abort();null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted&&f(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",f);let p,d,g=!1;function b(){g=!0}async function y(){try{for await(let t of l){var r;if(g)return;if(u.aborted)throw new a;try{t=e(t,c)}catch(o){t=E(o)}t!==I&&("function"==typeof(null===(r=t)||void 0===r?void 0:r.catch)&&t.catch(b),h.push(t),p&&(p(),p=null),!g&&h.length&&h.length>=i&&await new v((e=>{d=e})))}h.push(k)}catch(s){let e=E(s);S(e,void 0,b),h.push(e)}finally{var n;g=!0,p&&(p(),p=null),null==t||null===(n=t.signal)||void 0===n||n.removeEventListener("abort",f)}}y();try{for(;;){for(;h.length>0;){let e=await h[0];if(e===k)return;if(u.aborted)throw new a;e!==I&&(yield e),h.shift(),d&&(d(),d=null)}await new v((e=>{p=e}))}}finally{s.abort(),g=!0,d&&(d(),d=null)}}.call(this)}function R(e=void 0){return null!=e&&u(e,"options"),null!=e?.signal&&l(e.signal,"options.signal"),async function*(){let t=0;for await(let i of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a({cause:e.signal.reason});yield[t++,i]}}.call(this)}async function O(e,t=void 0){for await(let r of U.call(this,e,t))return!0;return!1}async function x(e,t=void 0){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);return!await O.call(this,(async(...t)=>!await e(...t)),t)}async function P(e,t){for await(let r of U.call(this,e,t))return r}async function M(e,t){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),I}for await(let i of T.call(this,r,t));}function U(e,t){if("function"!=typeof e)throw new n("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:I}return T.call(this,r,t)}var L=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function j(e,t,i){var o;if("function"!=typeof e)throw new n("reducer",["Function","AsyncFunction"],e);null!=i&&u(i,"options"),null!=i?.signal&&l(i.signal,"options.signal");let s=arguments.length>1;if(null!=i&&null!==(o=i.signal)&&void 0!==o&&o.aborted){let e=new a(void 0,{cause:i.signal.reason});throw this.once("error",(()=>{})),await f(this.destroy(e)),e}let h=new r,p=h.signal;if(null!=i&&i.signal){let e={once:!0,[c]:this};i.signal.addEventListener("abort",(()=>h.abort()),e)}let d=!1;try{for await(let r of this){var g;if(d=!0,null!=i&&null!==(g=i.signal)&&void 0!==g&&g.aborted)throw new a;s?t=await e(t,r,{signal:p}):(t=r,s=!0)}if(!d&&!s)throw new L}finally{h.abort()}return t}async function N(e){null!=e&&u(e,"options"),null!=e?.signal&&l(e.signal,"options.signal");let t=[];for await(let i of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a(void 0,{cause:e.signal.reason});y(t,i)}return t}function D(e,t){let r=T.call(this,e,t);return async function*(){for await(let e of r)yield*e}.call(this)}function F(e){if(e=w(e),_(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}function W(e,t=void 0){return null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal"),e=F(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(let n of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new a;e--<=0&&(yield n)}}.call(this)}function H(e,t=void 0){return null!=t&&u(t,"options"),null!=t?.signal&&l(t.signal,"options.signal"),e=F(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(let n of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new a;if(!(e-- >0))return;yield n}}.call(this)}t.exports.streamReturningOperators={asIndexedPairs:R,drop:W,filter:U,flatMap:D,map:T,take:H,compose:C},t.exports.promiseReturningOperators={every:x,forEach:M,reduce:j,toArray:N,some:O,find:P}})),Wi=R(((e,t)=>{B(),kt(),ut();var{ArrayPrototypePop:r,Promise:i}=Tt(),{isIterable:n,isNodeStream:o,isWebStream:s}=Mt(),{pipelineImpl:a}=Ni(),{finished:l}=Ut();function h(...e){return new i(((t,i)=>{let l,h,u=e[e.length-1];if(u&&"object"==typeof u&&!o(u)&&!n(u)&&!s(u)){let t=r(e);l=t.signal,h=t.end}a(e,((e,r)=>{e?i(e):t(r)}),{signal:l,end:h})}))}Hi(),t.exports={finished:l,pipeline:h}})),Hi=R(((e,t)=>{B(),kt(),ut();var{Buffer:r}=(It(),P(ct)),{ObjectDefineProperty:i,ObjectKeys:n,ReflectApply:o}=Tt(),{promisify:{custom:s}}=Rt(),{streamReturningOperators:a,promiseReturningOperators:l}=Fi(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=xt(),u=Di(),{pipeline:c}=Ni(),{destroyer:f}=Lt(),p=Ut(),d=Wi(),g=Mt(),b=t.exports=lr().Stream;b.isDisturbed=g.isDisturbed,b.isErrored=g.isErrored,b.isReadable=g.isReadable,b.Readable=Pi();for(let m of n(a)){let e=function(...e){if(new.target)throw h();return b.Readable.from(o(t,this,e))};e;let t=a[m];i(e,"name",{__proto__:null,value:t.name}),i(e,"length",{__proto__:null,value:t.length}),i(b.Readable.prototype,m,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}for(let m of n(l)){let e=function(...e){if(new.target)throw h();return o(t,this,e)};e;let t=l[m];i(e,"name",{__proto__:null,value:t.name}),i(e,"length",{__proto__:null,value:t.length}),i(b.Readable.prototype,m,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}b.Writable=Bi(),b.Duplex=Ui(),b.Transform=Li(),b.PassThrough=ji(),b.pipeline=c;var{addAbortSignal:y}=hr();b.addAbortSignal=y,b.finished=p,b.destroy=f,b.compose=u,i(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return d}}),i(c,s,{__proto__:null,enumerable:!0,get(){return d.pipeline}}),i(p,s,{__proto__:null,enumerable:!0,get(){return d.finished}}),b.Stream=b,b._isUint8Array=function(e){return e instanceof Uint8Array},b._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}})),Vi=R(((e,t)=>{B(),kt(),ut();var r=Hi(),i=Wi(),n=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=n,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return i}}),t.exports.Stream=r.Stream,t.exports.default=t.exports})),$i=R(((e,t)=>{B(),kt(),ut(),"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),qi=R(((e,t)=>{B(),kt(),ut();var{Buffer:r}=(It(),P(ct)),i=Symbol.for("BufferList");function n(e){if(!(this instanceof n))return new n(e);n._init.call(this,e)}n._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},n.prototype._new=function(e){return new n(e)},n.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){let i=t+this._bufs[r].length;if(e<i||r===this._bufs.length-1)return[r,e-t];t=i}},n.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let i=0;i<t;i++)r+=this._bufs[i].length;return r},n.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},n.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},n.prototype.copy=function(e,t,i,n){if(("number"!=typeof i||i<0)&&(i=0),("number"!=typeof n||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||r.alloc(0);let o=!!e,s=this._offset(i),a=n-i,l=a,h=o&&t||0,u=s[1];if(0===i&&n===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,h),h+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-u)return o?this._bufs[s[0]].copy(e,t,u,u+l):this._bufs[s[0]].slice(u,u+l);o||(e=r.allocUnsafe(a));for(let r=s[0];r<this._bufs.length;r++){let t=this._bufs[r].length-u;if(!(l>t)){this._bufs[r].copy(e,h,u,u+l),h+=t;break}this._bufs[r].copy(e,h,u),h+=t,l-=t,u&&(u=0)}return e.length>h?e.slice(0,h):e},n.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),i=this._offset(t),n=this._bufs.slice(r[0],i[0]+1);return 0===i[1]?n.pop():n[n.length-1]=n[n.length-1].slice(0,i[1]),0!==r[1]&&(n[0]=n[0].slice(r[1])),this._new(n)},n.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},n.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},n.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},n.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},n.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},n.prototype.indexOf=function(e,t,i){if(void 0===i&&"string"==typeof t&&(i=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,i):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let n=this._offset(t),o=n[0],s=n[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){let r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{let t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return-1},n.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(t){null===e[t]?n.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}:n.prototype[t]=function(r=0){return this.slice(r,r+e[t])[t](0)}})(t)}(),n.prototype._isBufferList=function(e){return e instanceof n||n.isBufferList(e)},n.isBufferList=function(e){return null!=e&&e[i]},t.exports=n})),zi=R(((e,t)=>{B(),kt(),ut();var r=Vi().Duplex,i=$i(),n=qi();function o(e){if(!(this instanceof o))return new o(e);if("function"==typeof e){this._callback=e;let t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}n._init.call(this,e),r.call(this)}i(o,r),Object.assign(o.prototype,n.prototype),o.prototype._new=function(e){return new o(e)},o.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},o.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},o.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},o.prototype._isBufferList=function(e){return e instanceof o||e instanceof n||o.isBufferList(e)},o.isBufferList=n.isBufferList,t.exports=o,t.exports.BufferListStream=o,t.exports.BufferList=n})),Ki=R(((e,t)=>{B(),kt(),ut();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=r})),Gi=R(((e,t)=>{B(),kt(),ut();var r=t.exports,{Buffer:i}=(It(),P(ct));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let o in r.requiredHeaderFlags){let e=r.requiredHeaderFlags[o];r.requiredHeaderFlagsErrors[o]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+r.types[o]+" packet"}r.codes={};for(let o in r.types){let e=r.types[o];r.codes[e]=o}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=i.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=i.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=i.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let o in r.properties){let e=r.properties[o];r.propertiesCodes[e]=o}function n(e){return[0,1,2].map((t=>[0,1].map((n=>[0,1].map((o=>{let s=i.alloc(1);return s.writeUInt8(r.codes[e]<<r.CMD_SHIFT|(n?r.DUP_MASK:0)|t<<r.QOS_SHIFT|o,0,!0),s}))))))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=n("publish"),r.SUBSCRIBE_HEADER=n("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=n("unsubscribe"),r.ACKS={unsuback:n("unsuback"),puback:n("puback"),pubcomp:n("pubcomp"),pubrel:n("pubrel"),pubrec:n("pubrec")},r.SUBACK_HEADER=i.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=i.from([3]),r.VERSION4=i.from([4]),r.VERSION5=i.from([5]),r.VERSION131=i.from([131]),r.VERSION132=i.from([132]),r.QOS=[0,1,2].map((e=>i.from([e]))),r.EMPTY={pingreq:i.from([r.codes.pingreq<<4,0]),pingresp:i.from([r.codes.pingresp<<4,0]),disconnect:i.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}})),Qi=R(((e,t)=>{B(),kt(),ut();var r=1e3,i=60*r,n=60*i,o=24*n,s=7*o,a=365.25*o;function l(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var l=parseFloat(t[1]),h=(t[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return l*a;case"weeks":case"week":case"w":return l*s;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*i;case"seconds":case"second":case"secs":case"sec":case"s":return l*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function h(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=n?Math.round(e/n)+"h":t>=i?Math.round(e/i)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}function u(e){var t=Math.abs(e);return t>=o?c(e,t,o,"day"):t>=n?c(e,t,n,"hour"):t>=i?c(e,t,i,"minute"):t>=r?c(e,t,r,"second"):e+" ms"}function c(e,t,r,i){var n=t>=1.5*r;return Math.round(e/r)+" "+i+(n?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return l(e);if("number"===r&&isFinite(e))return t.long?u(e):h(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),Yi=R(((e,t)=>{function r(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n,o,s=null;function a(...e){if(!a.enabled)return;let i=a,n=Number(new Date),o=n-(t||n);i.diff=o,i.prev=t,i.curr=n,t=n,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if("%%"===t)return"%";s++;let o=r.formatters[n];if("function"==typeof o){let r=e[s];t=o.call(i,r),e.splice(s,1),s--}return t})),r.formatArgs.call(i,e),(i.log||r.log).apply(i,e)}return a.namespace=e,a.useColors=r.useColors(),a.color=r.selectColor(e),a.extend=i,a.destroy=r.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(n!==r.namespaces&&(n=r.namespaces,o=r.enabled(e)),o),set:e=>{s=e}}),"function"==typeof r.init&&r.init(a),a}function i(e,t){let i=r(this.namespace+(typeof t>"u"?":":t)+e);return i.log=this.log,i}function n(e){r.save(e),r.namespaces=e,r.names=[],r.skips=[];let t,i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length;for(t=0;t<n;t++)i[t]&&(e=i[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.slice(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function o(){let e=[...r.names.map(a),...r.skips.map(a).map((e=>"-"+e))].join(",");return r.enable(""),e}function s(e){if("*"===e[e.length-1])return!0;let t,i;for(t=0,i=r.skips.length;t<i;t++)if(r.skips[t].test(e))return!1;for(t=0,i=r.names.length;t<i;t++)if(r.names[t].test(e))return!0;return!1}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function l(e){return e instanceof Error?e.stack||e.message:e}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=n,r.enabled=s,r.humanize=Qi(),r.destroy=h,Object.keys(e).forEach((t=>{r[t]=e[t]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}B(),kt(),ut(),t.exports=r})),Ji=R(((e,t)=>{function r(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let i=0,n=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(n=i))})),e.splice(n,0,r)}function n(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch{}}function o(){let t;try{t=e.storage.getItem("debug")}catch{}return!t&&typeof M<"u"&&"env"in M&&(t=M.env.DEBUG),t}function s(){try{return localStorage}catch{}}B(),kt(),ut(),e.formatArgs=i,e.save=n,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=Yi()(e);var{formatters:a}=t.exports;a.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),Zi=R(((e,t)=>{B(),kt(),ut();var r=zi(),{EventEmitter:i}=(ar(),P(er)),n=Ki(),o=Gi(),s=Ji()("mqtt-packet:parser"),a=class e extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof e?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new e).parser(t)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new n,this.error=null,this._list=r(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let e=this._list.readUInt8(0),t=e>>o.CMD_SHIFT;this.packet.cmd=o.types[t];let r=15&e,i=o.requiredHeaderFlags[t];return null!=i&&r!==i?this._emitError(new Error(o.requiredHeaderFlagsErrors[t])):(this.packet.retain=0!==(e&o.RETAIN_MASK),this.packet.qos=e>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=0!==(e&o.DUP_MASK),s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){s("_parseConnect");let e,t,r,i,n={},a=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==l&&"MQIsdp"!==l)return this._emitError(new Error("Invalid protocolId"));if(a.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.protocolVersion=this._list.readUInt8(this._pos),a.protocolVersion>=128&&(a.bridgeMode=!0,a.protocolVersion=a.protocolVersion-128),3!==a.protocolVersion&&4!==a.protocolVersion&&5!==a.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(1&this._list.readUInt8(this._pos))return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));n.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,n.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,n.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let h=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),u=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(n.will)a.will={},a.will.retain=h,a.will.qos=u;else{if(h)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(u)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(a.clean=0!==(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK),this._pos++,a.keepalive=this._parseNum(),-1===a.keepalive)return this._emitError(new Error("Packet too short"));if(5===a.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(a.properties=e)}let c=this._parseString();if(null===c)return this._emitError(new Error("Packet too short"));if(a.clientId=c,s("_parseConnect: packet.clientId: %s",a.clientId),n.will){if(5===a.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(a.will.properties=e)}if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse will topic"));if(a.will.topic=e,s("_parseConnect: packet.will.topic: %s",a.will.topic),t=this._parseBuffer(),null===t)return this._emitError(new Error("Cannot parse will payload"));a.will.payload=t,s("_parseConnect: packet.will.paylaod: %s",a.will.payload)}if(n.username){if(i=this._parseString(),null===i)return this._emitError(new Error("Cannot parse username"));a.username=i,s("_parseConnect: packet.username: %s",a.username)}if(n.password){if(r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse password"));a.password=r}return this.settings=a,s("_parseConnect: complete"),a}_parseConnack(){s("_parseConnack");let e=this.packet;if(this._list.length<1)return null;let t=this._list.readUInt8(this._pos++);if(t>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(t&o.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");let e,t,r,i,n,a,l,h=this.packet;if(h.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(h.properties=e)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(t=this._parseByte(),5===this.settings.protocolVersion){if(192&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(252&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(r=t&o.SUBSCRIBE_OPTIONS_QOS_MASK,r>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(a=0!==(t>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK),n=0!==(t>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK),i=t>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,i>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));l={topic:e,qos:r},5===this.settings.protocolVersion?(l.nl=a,l.rap=n,l.rh=i):this.settings.bridgeMode&&(l.rh=0,l.rap=!0,l.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",l),h.subscriptions.push(l)}}}_parseSuback(){s("_parseSuback");let e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let e=this._list.readUInt8(this._pos++);if(5===this.settings.protocolVersion){if(!o.MQTT5_SUBACK_CODES[e])return this._emitError(new Error("Invalid suback code"))}else if(e>2&&128!==e)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(e)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){let t=this._parseString();if(null===t)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){s("_parseUnsuback");let e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((3===this.settings.protocolVersion||4===this.settings.protocolVersion)&&2!==e.length)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(5===this.settings.protocolVersion){let t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;){let e=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[e])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(e)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion){if(e.length>2){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)}else e.reasonCode=0;if(e.length>3){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}}return!0}_parseDisconnect(){let e=this.packet;if(s("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?(e.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0;let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),s("_parseAuth: result: true"),!0}_parseMessageId(){let e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){let t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;let i=this._list.toString("utf8",this._pos,r);return this._pos+=t,s("_parseString: result: %s",i),i}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;let r=this._list.slice(this._pos,t);return this._pos+=e,s("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;let e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");let t,r=4,i=0,n=1,a=0,l=!1,h=this._pos?this._pos:0;for(;i<r&&h+i<this._list.length;){if(t=this._list.readUInt8(h+i++),a+=n*(t&o.VARBYTEINT_MASK),n*=128,!(t&o.VARBYTEINT_FIN_MASK)){l=!0;break}if(this._list.length<=i)break}return!l&&i===r&&this._list.length>=i&&this._emitError(new Error("Invalid variable byte integer")),h&&(this._pos+=i),l=!!l&&(e?{bytes:i,value:a}:a),s("_parseVarByteNum: result: %o",l),l}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){let e=this._parseByte();if(!e)return this._emitError(new Error("Cannot parse property code type")),!1;let t=o.propertiesCodes[e];if(!t)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==t)r[t]?(Array.isArray(r[t])||(r[t]=[r[t]]),r[t].push(this._parseByType(o.propertiesTypes[t]))):r[t]=this._parseByType(o.propertiesTypes[t]);else{r[t]||(r[t]=Object.create(null));let e=this._parseByType(o.propertiesTypes[t]);if(r[t][e.name])if(Array.isArray(r[t][e.name]))r[t][e.name].push(e.value);else{let i=r[t][e.name];r[t][e.name]=[i],r[t][e.name].push(e.value)}else r[t][e.name]=e.value}}return r}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new n,this._pos=0,!0}_emitError(e){s("_emitError",e),this.error=e,this.emit("error",e)}};t.exports=a})),Xi=R(((e,t)=>{B(),kt(),ut();var{Buffer:r}=(It(),P(ct)),i=65536,n={},o=r.isBuffer(r.from([1,2]).subarray(0,1));function s(e){let t=r.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}function a(){for(let e=0;e<i;e++)n[e]=s(e)}function l(e){let t=0,i=0,n=r.allocUnsafe(4);do{t=e%128|0,e=e/128|0,e>0&&(t|=128),n.writeUInt8(t,i++)}while(e>0&&i<4);return e>0&&(i=0),o?n.subarray(0,i):n.slice(0,i)}function h(e){let t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}t.exports={cache:n,generateCache:a,generateNumber:s,genBufVariableByteInt:l,generate4ByteBuffer:h}})),en=R(((e,t)=>{function r(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var n,o,s=arguments.length;switch(s){case 0:case 1:return M.nextTick(e);case 2:return M.nextTick((function(){e.call(null,t)}));case 3:return M.nextTick((function(){e.call(null,t,r)}));case 4:return M.nextTick((function(){e.call(null,t,r,i)}));default:for(n=new Array(s-1),o=0;o<n.length;)n[o++]=arguments[o];return M.nextTick((function(){e.apply(null,n)}))}}B(),kt(),ut(),typeof M>"u"||!M.version||0===M.version.indexOf("v0.")||0===M.version.indexOf("v1.")&&0!==M.version.indexOf("v1.8.")?t.exports={nextTick:r}:t.exports=M})),tn=R(((e,t)=>{B(),kt(),ut();var r=Gi(),{Buffer:i}=(It(),P(ct)),n=i.allocUnsafe(0),o=i.from([0]),s=Xi(),a=en().nextTick,l=Ji()("mqtt-packet:writeToStream"),h=s.cache,u=s.generateNumber,c=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer,d=U,g=!0;function b(e,t,r){switch(l("generate called"),t.cork&&(t.cork(),a(y,t)),g&&(g=!1,c()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return m(e,t,r);case"connack":return w(e,t,r);case"publish":return _(e,t,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(e,t,r);case"subscribe":return E(e,t,r);case"suback":return S(e,t,r);case"unsubscribe":return A(e,t,r);case"unsuback":return I(e,t,r);case"pingreq":case"pingresp":return k(e,t,r);case"disconnect":return C(e,t,r);case"auth":return T(e,t,r);default:return t.destroy(new Error("Unknown command")),!1}}function y(e){e.uncork()}function m(e,t,n){let o=e||{},s=o.protocolId||"MQTT",a=o.protocolVersion||4,l=o.will,h=o.clean,u=o.keepalive||0,c=o.clientId||"",f=o.username,p=o.password,g=o.properties;void 0===h&&(h=!0);let b,y,m=0;if(!s||"string"!=typeof s&&!i.isBuffer(s))return t.destroy(new Error("Invalid protocolId")),!1;if(m+=s.length+2,3!==a&&4!==a&&5!==a)return t.destroy(new Error("Invalid protocol version")),!1;if(m+=1,("string"==typeof c||i.isBuffer(c))&&(c||a>=4)&&(c||h))m+=i.byteLength(c)+2;else{if(a<4)return t.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(1*h===0)return t.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof u||u<0||u>65535||u%1!==0)return t.destroy(new Error("Invalid keepalive")),!1;if(m+=2,m+=1,5===a){if(b=D(t,g),!b)return!1;m+=b.length}if(l){if("object"!=typeof l)return t.destroy(new Error("Invalid will")),!1;if(!l.topic||"string"!=typeof l.topic)return t.destroy(new Error("Invalid will topic")),!1;if(m+=i.byteLength(l.topic)+2,m+=2,l.payload){if(!(l.payload.length>=0))return t.destroy(new Error("Invalid will payload")),!1;"string"==typeof l.payload?m+=i.byteLength(l.payload):m+=l.payload.length}if(y={},5===a){if(y=D(t,l.properties),!y)return!1;m+=y.length}}let w=!1;if(null!=f){if(!$(f))return t.destroy(new Error("Invalid username")),!1;w=!0,m+=i.byteLength(f)+2}if(null!=p){if(!w)return t.destroy(new Error("Username is required to use password")),!1;if(!$(p))return t.destroy(new Error("Invalid password")),!1;m+=V(p)+2}t.write(r.CONNECT_HEADER),O(t,m),N(t,s),o.bridgeMode&&(a+=128),t.write(131===a?r.VERSION131:132===a?r.VERSION132:4===a?r.VERSION4:5===a?r.VERSION5:r.VERSION3);let _=0;return _|=null!=f?r.USERNAME_MASK:0,_|=null!=p?r.PASSWORD_MASK:0,_|=l&&l.retain?r.WILL_RETAIN_MASK:0,_|=l&&l.qos?l.qos<<r.WILL_QOS_SHIFT:0,_|=l?r.WILL_FLAG_MASK:0,_|=h?r.CLEAN_SESSION_MASK:0,t.write(i.from([_])),d(t,u),5===a&&b.write(),N(t,c),l&&(5===a&&y.write(),x(t,l.topic),N(t,l.payload)),null!=f&&N(t,f),null!=p&&N(t,p),!0}function w(e,t,n){let s=n?n.protocolVersion:4,a=e||{},l=5===s?a.reasonCode:a.returnCode,h=a.properties,u=2;if("number"!=typeof l)return t.destroy(new Error("Invalid return code")),!1;let c=null;if(5===s){if(c=D(t,h),!c)return!1;u+=c.length}return t.write(r.CONNACK_HEADER),O(t,u),t.write(a.sessionPresent?r.SESSIONPRESENT_HEADER:o),t.write(i.from([l])),c?.write(),!0}function _(e,t,o){l("publish: packet: %o",e);let s=o?o.protocolVersion:4,a=e||{},h=a.qos||0,u=a.retain?r.RETAIN_MASK:0,c=a.topic,f=a.payload||n,p=a.messageId,g=a.properties,b=0;if("string"==typeof c)b+=i.byteLength(c)+2;else{if(!i.isBuffer(c))return t.destroy(new Error("Invalid topic")),!1;b+=c.length+2}if(i.isBuffer(f)?b+=f.length:b+=i.byteLength(f),h&&"number"!=typeof p)return t.destroy(new Error("Invalid messageId")),!1;h&&(b+=2);let y=null;if(5===s){if(y=D(t,g),!y)return!1;b+=y.length}return t.write(r.PUBLISH_HEADER[h][a.dup?1:0][u?1:0]),O(t,b),d(t,V(c)),t.write(c),h>0&&d(t,p),y?.write(),l("publish: payload: %o",f),t.write(f)}function v(e,t,n){let o=n?n.protocolVersion:4,s=e||{},a=s.cmd||"puback",l=s.messageId,h=s.dup&&"pubrel"===a?r.DUP_MASK:0,u=0,c=s.reasonCode,f=s.properties,p=5===o?3:2;if("pubrel"===a&&(u=1),"number"!=typeof l)return t.destroy(new Error("Invalid messageId")),!1;let g=null;if(5===o&&"object"==typeof f){if(g=F(t,f,n,p),!g)return!1;p+=g.length}return t.write(r.ACKS[a][u][h][0]),3===p&&(p+=0!==c?1:-1),O(t,p),d(t,l),5===o&&2!==p&&t.write(i.from([c])),null!==g?g.write():4===p&&t.write(i.from([0])),!0}function E(e,t,n){l("subscribe: packet: ");let o=n?n.protocolVersion:4,s=e||{},a=s.dup?r.DUP_MASK:0,h=s.messageId,u=s.subscriptions,c=s.properties,f=0;if("number"!=typeof h)return t.destroy(new Error("Invalid messageId")),!1;f+=2;let p=null;if(5===o){if(p=D(t,c),!p)return!1;f+=p.length}if("object"!=typeof u||!u.length)return t.destroy(new Error("Invalid subscriptions")),!1;for(let r=0;r<u.length;r+=1){let e=u[r].topic,n=u[r].qos;if("string"!=typeof e)return t.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof n)return t.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){if("boolean"!=typeof(u[r].nl||!1))return t.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(u[r].rap||!1))return t.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let e=u[r].rh||0;if("number"!=typeof e||e>2)return t.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}f+=i.byteLength(e)+2+1}l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),t.write(r.SUBSCRIBE_HEADER[1][a?1:0][0]),O(t,f),d(t,h),null!==p&&p.write();let g=!0;for(let l of u){let e,n=l.topic,s=l.qos,a=+l.nl,h=+l.rap,u=l.rh;x(t,n),e=r.SUBSCRIBE_OPTIONS_QOS[s],5===o&&(e|=a?r.SUBSCRIBE_OPTIONS_NL:0,e|=h?r.SUBSCRIBE_OPTIONS_RAP:0,e|=u?r.SUBSCRIBE_OPTIONS_RH[u]:0),g=t.write(i.from([e]))}return g}function S(e,t,n){let o=n?n.protocolVersion:4,s=e||{},a=s.messageId,l=s.granted,h=s.properties,u=0;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(u+=2,"object"!=typeof l||!l.length)return t.destroy(new Error("Invalid qos vector")),!1;for(let r=0;r<l.length;r+=1){if("number"!=typeof l[r])return t.destroy(new Error("Invalid qos vector")),!1;u+=1}let c=null;if(5===o){if(c=F(t,h,n,u),!c)return!1;u+=c.length}return t.write(r.SUBACK_HEADER),O(t,u),d(t,a),null!==c&&c.write(),t.write(i.from(l))}function A(e,t,n){let o=n?n.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?r.DUP_MASK:0,h=s.unsubscriptions,u=s.properties,c=0;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(c+=2,"object"!=typeof h||!h.length)return t.destroy(new Error("Invalid unsubscriptions")),!1;for(let r=0;r<h.length;r+=1){if("string"!=typeof h[r])return t.destroy(new Error("Invalid unsubscriptions")),!1;c+=i.byteLength(h[r])+2}let f=null;if(5===o){if(f=D(t,u),!f)return!1;c+=f.length}t.write(r.UNSUBSCRIBE_HEADER[1][l?1:0][0]),O(t,c),d(t,a),null!==f&&f.write();let p=!0;for(let r=0;r<h.length;r++)p=x(t,h[r]);return p}function I(e,t,n){let o=n?n.protocolVersion:4,s=e||{},a=s.messageId,l=s.dup?r.DUP_MASK:0,h=s.granted,u=s.properties,c=s.cmd,f=0,p=2;if("number"!=typeof a)return t.destroy(new Error("Invalid messageId")),!1;if(5===o){if("object"!=typeof h||!h.length)return t.destroy(new Error("Invalid qos vector")),!1;for(let e=0;e<h.length;e+=1){if("number"!=typeof h[e])return t.destroy(new Error("Invalid qos vector")),!1;p+=1}}let g=null;if(5===o){if(g=F(t,u,n,p),!g)return!1;p+=g.length}return t.write(r.ACKS[c][f][l][0]),O(t,p),d(t,a),null!==g&&g.write(),5===o&&t.write(i.from(h)),!0}function k(e,t,i){return t.write(r.EMPTY[e.cmd])}function C(e,t,n){let o=n?n.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties,h=5===o?1:0,u=null;if(5===o){if(u=F(t,l,n,h),!u)return!1;h+=u.length}return t.write(i.from([r.codes.disconnect<<4])),O(t,h),5===o&&t.write(i.from([a])),null!==u&&u.write(),!0}function T(e,t,n){let o=n?n.protocolVersion:4,s=e||{},a=s.reasonCode,l=s.properties,h=5===o?1:0;5!==o&&t.destroy(new Error("Invalid mqtt version for auth packet"));let u=F(t,l,n,h);return!!u&&(h+=u.length,t.write(i.from([r.codes.auth<<4])),O(t,h),t.write(i.from([a])),null!==u&&u.write(),!0)}Object.defineProperty(b,"cacheNumbers",{get(){return d===U},set(e){e?((!h||0===Object.keys(h).length)&&(g=!0),d=U):(g=!1,d=L)}});var R={};function O(e,t){if(t>r.VARBYTEINT_MAX)return e.destroy(new Error(`Invalid variable byte integer: ${t}`)),!1;let i=R[t];return i||(i=f(t),t<16384&&(R[t]=i)),l("writeVarByteInt: writing to stream: %o",i),e.write(i)}function x(e,t){let r=i.byteLength(t);return d(e,r),l("writeString: %s",t),e.write(t,"utf8")}function M(e,t,r){x(e,t),x(e,r)}function U(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",h[t]),e.write(h[t])}function L(e,t){let r=u(t);return l("writeNumberGenerated: %o",r),e.write(r)}function j(e,t){let r=p(t);return l("write4ByteNumber: %o",r),e.write(r)}function N(e,t){"string"==typeof t?x(e,t):t?(d(e,t.length),e.write(t)):d(e,0)}function D(e,t){if("object"!=typeof t||null!=t.length)return{length:1,write(){H(e,{},0)}};let n=0;function o(t,n){let o=r.propertiesTypes[t],s=0;switch(o){case"byte":if("boolean"!=typeof n)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=2;break;case"int8":if("number"!=typeof n||n<0||n>255)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=2;break;case"binary":if(n&&null===n)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=1+i.byteLength(n)+2;break;case"int16":if("number"!=typeof n||n<0||n>65535)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=3;break;case"int32":if("number"!=typeof n||n<0||n>4294967295)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=5;break;case"var":if("number"!=typeof n||n<0||n>268435455)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=1+i.byteLength(f(n));break;case"string":if("string"!=typeof n)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=3+i.byteLength(n.toString());break;case"pair":if("object"!=typeof n)return e.destroy(new Error(`Invalid ${t}: ${n}`)),!1;s+=Object.getOwnPropertyNames(n).reduce(((e,t)=>{let r=n[t];return Array.isArray(r)?e+=r.reduce(((e,r)=>(e+=3+i.byteLength(t.toString())+2+i.byteLength(r.toString()),e)),0):e+=3+i.byteLength(t.toString())+2+i.byteLength(n[t].toString()),e}),0);break;default:return e.destroy(new Error(`Invalid property ${t}: ${n}`)),!1}return s}if(t)for(let r in t){let e=0,i=0,s=t[r];if(Array.isArray(s))for(let t=0;t<s.length;t++){if(i=o(r,s[t]),!i)return!1;e+=i}else{if(i=o(r,s),!i)return!1;e=i}if(!e)return!1;n+=e}return{length:i.byteLength(f(n))+n,write(){H(e,t,n)}}}function F(e,t,r,i){let n=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=D(e,t);if(o)for(;i+s.length>o;){let r=n.shift();if(!r||!t[r])return!1;delete t[r],s=D(e,t)}return s}function W(e,t,n){switch(r.propertiesTypes[t]){case"byte":e.write(i.from([r.properties[t]])),e.write(i.from([+n]));break;case"int8":e.write(i.from([r.properties[t]])),e.write(i.from([n]));break;case"binary":e.write(i.from([r.properties[t]])),N(e,n);break;case"int16":e.write(i.from([r.properties[t]])),d(e,n);break;case"int32":e.write(i.from([r.properties[t]])),j(e,n);break;case"var":e.write(i.from([r.properties[t]])),O(e,n);break;case"string":e.write(i.from([r.properties[t]])),x(e,n);break;case"pair":Object.getOwnPropertyNames(n).forEach((o=>{let s=n[o];Array.isArray(s)?s.forEach((n=>{e.write(i.from([r.properties[t]])),M(e,o.toString(),n.toString())})):(e.write(i.from([r.properties[t]])),M(e,o.toString(),s.toString()))}));break;default:return e.destroy(new Error(`Invalid property ${t} value: ${n}`)),!1}}function H(e,t,r){O(e,r);for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&null!==t[i]){let r=t[i];if(Array.isArray(r))for(let t=0;t<r.length;t++)W(e,i,r[t]);else W(e,i,r)}}function V(e){return e?e instanceof i?e.length:i.byteLength(e):0}function $(e){return"string"==typeof e||e instanceof i}t.exports=b})),rn=R(((e,t)=>{B(),kt(),ut();var r=tn(),{EventEmitter:i}=(ar(),P(er)),{Buffer:n}=(It(),P(ct));function o(e,t){let i=new s;return r(e,i,t),i.concat()}var s=class extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e,t=0,r=new Array(this._array.length),i=this._array,o=0;for(e=0;e<i.length&&void 0!==i[e];e++)"string"!=typeof i[e]?r[e]=i[e].length:r[e]=n.byteLength(i[e]),t+=r[e];let s=n.allocUnsafe(t);for(e=0;e<i.length&&void 0!==i[e];e++)"string"!=typeof i[e]?(i[e].copy(s,o),o+=r[e]):(s.write(i[e],o),o+=r[e]);return s}destroy(e){e&&this.emit("error",e)}};t.exports=o})),nn=R((e=>{B(),kt(),ut(),e.parser=Zi().parser,e.generate=rn(),e.writeToStream=tn()})),on=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(65535*Math.random()))}allocate(){let e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e}getLastAllocated(){return 1===this.nextId?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};e.default=t})),sn=R(((e,t)=>{function r(e,t,r){var i=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=i._interval),i._interval&&clearInterval(i._interval),i._interval=setInterval(i._callback,e,i._args)},this.clear=function(){i._interval&&(clearInterval(i._interval),i._interval=void 0)},this.destroy=function(){i._interval&&clearInterval(i._interval),i._callback=void 0,i._interval=void 0,i._args=void 0}}function i(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new r(arguments[0],arguments[1],e)}B(),kt(),ut(),t.exports=i})),an=R(((e,t)=>{function r(e){return e instanceof Et?Et.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function i(e){return e=e||{},e.circles?n(e):e.proto?o:i;function t(e,t){for(var i=Object.keys(e),n=new Array(i.length),o=0;o<i.length;o++){var s=i[o],a=e[s];"object"!=typeof a||null===a?n[s]=a:a instanceof Date?n[s]=new Date(a):ArrayBuffer.isView(a)?n[s]=r(a):n[s]=t(a)}return n}function i(e){if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return t(e,i);if(e instanceof Map)return new Map(t(Array.from(e),i));if(e instanceof Set)return new Set(t(Array.from(e),i));var n={};for(var o in e)if(!1!==Object.hasOwnProperty.call(e,o)){var s=e[o];"object"!=typeof s||null===s?n[o]=s:s instanceof Date?n[o]=new Date(s):s instanceof Map?n[o]=new Map(t(Array.from(s),i)):s instanceof Set?n[o]=new Set(t(Array.from(s),i)):ArrayBuffer.isView(s)?n[o]=r(s):n[o]=i(s)}return n}function o(e){if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return t(e,o);if(e instanceof Map)return new Map(t(Array.from(e),o));if(e instanceof Set)return new Set(t(Array.from(e),o));var i={};for(var n in e){var s=e[n];"object"!=typeof s||null===s?i[n]=s:s instanceof Date?i[n]=new Date(s):s instanceof Map?i[n]=new Map(t(Array.from(s),o)):s instanceof Set?i[n]=new Set(t(Array.from(s),o)):ArrayBuffer.isView(s)?i[n]=r(s):i[n]=o(s)}return i}}function n(e){var t=[],i=[];return e.proto?s:o;function n(e,n){for(var o=Object.keys(e),s=new Array(o.length),a=0;a<o.length;a++){var l=o[a],h=e[l];if("object"!=typeof h||null===h)s[l]=h;else if(h instanceof Date)s[l]=new Date(h);else if(ArrayBuffer.isView(h))s[l]=r(h);else{var u=t.indexOf(h);s[l]=-1!==u?i[u]:n(h)}}return s}function o(e){if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return n(e,o);if(e instanceof Map)return new Map(n(Array.from(e),o));if(e instanceof Set)return new Set(n(Array.from(e),o));var s={};for(var a in t.push(e),i.push(s),e)if(!1!==Object.hasOwnProperty.call(e,a)){var l=e[a];if("object"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(n(Array.from(l),o));else if(l instanceof Set)s[a]=new Set(n(Array.from(l),o));else if(ArrayBuffer.isView(l))s[a]=r(l);else{var h=t.indexOf(l);s[a]=-1!==h?i[h]:o(l)}}return t.pop(),i.pop(),s}function s(e){if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return n(e,s);if(e instanceof Map)return new Map(n(Array.from(e),s));if(e instanceof Set)return new Set(n(Array.from(e),s));var o={};for(var a in t.push(e),i.push(o),e){var l=e[a];if("object"!=typeof l||null===l)o[a]=l;else if(l instanceof Date)o[a]=new Date(l);else if(l instanceof Map)o[a]=new Map(n(Array.from(l),s));else if(l instanceof Set)o[a]=new Set(n(Array.from(l),s));else if(ArrayBuffer.isView(l))o[a]=r(l);else{var h=t.indexOf(l);o[a]=-1!==h?i[h]:s(l)}}return t.pop(),i.pop(),o}}B(),kt(),ut(),t.exports=i})),ln=R(((e,t)=>{B(),kt(),ut(),t.exports=an()()})),hn=R((e=>{function t(e){let t=e.split("/");for(let r=0;r<t.length;r++)if("+"!==t[r]){if("#"===t[r])return r===t.length-1;if(-1!==t[r].indexOf("+")||-1!==t[r].indexOf("#"))return!1}return!0}function r(e){if(0===e.length)return"empty_topic_list";for(let r=0;r<e.length;r++)if(!t(e[r]))return e[r];return null}B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0,e.validateTopic=t,e.validateTopics=r})),un=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=Vi(),r={objectMode:!0},i={clean:!0},n=class{constructor(e){this.options=e||{},this.options=Object.assign(Object.assign({},i),e),this._inflights=new Map}put(e,t){return this._inflights.set(e.messageId,e),t&&t(),this}createStream(){let e=new t.Readable(r),i=[],n=!1,o=0;return this._inflights.forEach(((e,t)=>{i.push(e)})),e._read=()=>{!n&&o<i.length?e.push(i[o++]):e.push(null)},e.destroy=t=>{if(!n)return n=!0,setTimeout((()=>{e.emit("close")}),0),e},e}del(e,t){let r=this._inflights.get(e.messageId);return r?(this._inflights.delete(e.messageId),t(null,r)):t&&t(new Error("missing packet")),this}get(e,t){let r=this._inflights.get(e.messageId);return r?t(null,r):t&&t(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e()}};e.default=n})),cn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],r=(e,r,i)=>{e.log("handlePublish: packet %o",r),i=typeof i<"u"?i:e.noop;let n=r.topic.toString(),o=r.payload,{qos:s}=r,{messageId:a}=r,{options:l}=e;if(5===e.options.protocolVersion){let t;if(r.properties&&(t=r.properties.topicAlias),typeof t<"u")if(0===n.length){if(!(t>0&&t<=65535))return e.log("handlePublish :: topic alias out of range. alias: %d",t),void e.emit("error",new Error("Received Topic Alias is out of range"));{let r=e.topicAliasRecv.getTopicByAlias(t);if(!r)return e.log("handlePublish :: unregistered topic alias. alias: %d",t),void e.emit("error",new Error("Received unregistered Topic Alias"));n=r,e.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",n,t)}}else{if(!e.topicAliasRecv.put(n,t))return e.log("handlePublish :: topic alias out of range. alias: %d",t),void e.emit("error",new Error("Received Topic Alias is out of range"));e.log("handlePublish :: registered topic: %s - alias: %d",n,t)}}switch(e.log("handlePublish: qos %d",s),s){case 2:l.customHandleAcks(n,o,r,((n,o)=>("number"==typeof n&&(o=n,n=null),n?e.emit("error",n):-1===t.indexOf(o)?e.emit("error",new Error("Wrong reason code for pubrec")):void(o?e._sendPacket({cmd:"pubrec",messageId:a,reasonCode:o},i):e.incomingStore.put(r,(()=>{e._sendPacket({cmd:"pubrec",messageId:a},i)}))))));break;case 1:l.customHandleAcks(n,o,r,((s,l)=>("number"==typeof s&&(l=s,s=null),s?e.emit("error",s):-1===t.indexOf(l)?e.emit("error",new Error("Wrong reason code for puback")):(l||e.emit("message",n,o,r),void e.handleMessage(r,(t=>{if(t)return i&&i(t);e._sendPacket({cmd:"puback",messageId:a,reasonCode:l},i)}))))));break;case 0:e.emit("message",n,o,r),e.handleMessage(r,i);break;default:e.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=r})),fn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0}),e.applyMixin=e.ErrorWithReasonCode=void 0;var t=class e extends Error{constructor(t,r){super(t),this.code=r,Object.setPrototypeOf(this,e.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};function r(e,t,r=!1){var i;let n=[t];for(;;){let e=n[0],t=Object.getPrototypeOf(e);if(!t?.prototype)break;n.unshift(t)}for(let o of n)for(let t of Object.getOwnPropertyNames(o.prototype))(r||"constructor"!==t)&&Object.defineProperty(e.prototype,t,null!==(i=Object.getOwnPropertyDescriptor(o.prototype,t))&&void 0!==i?i:Object.create(null))}e.ErrorWithReasonCode=t,e.applyMixin=r})),pn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0,e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var t=(t,r)=>{let i,{messageId:n}=r,o=r.cmd,s=null,a=t.outgoing[n]?t.outgoing[n].cb:null;if(a){switch(t.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let o=r.reasonCode;o&&o>0&&16!==o?(i=new Error(`Publish error: ${e.ReasonCodes[o]}`),i.code=o,t._removeOutgoingAndStoreMessage(n,(()=>{a(i,r)}))):t._removeOutgoingAndStoreMessage(n,a);break}case"pubrec":{s={cmd:"pubrel",qos:2,messageId:n};let o=r.reasonCode;o&&o>0&&16!==o?(i=new Error(`Publish error: ${e.ReasonCodes[o]}`),i.code=o,t._removeOutgoingAndStoreMessage(n,(()=>{a(i,r)}))):t._sendPacket(s);break}case"suback":{delete t.outgoing[n],t.messageIdProvider.deallocate(n);let e=r.granted;for(let r=0;r<e.length;r++)if(128&e[r]){let e=t.messageIdToTopic[n];e&&e.forEach((e=>{delete t._resubscribeTopics[e]}))}delete t.messageIdToTopic[n],t._invokeStoreProcessingQueue(),a(null,r);break}case"unsuback":delete t.outgoing[n],t.messageIdProvider.deallocate(n),t._invokeStoreProcessingQueue(),a(null);break;default:t.emit("error",new Error("unrecognized packet type"))}t.disconnecting&&0===Object.keys(t.outgoing).length&&t.emit("outgoingEmpty")}else t.log("_handleAck :: Server sent an ack in error. Ignoring.")};e.default=t})),dn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=fn(),r=pn(),i=(e,i)=>{let{options:n}=e,o=n.protocolVersion,s=5===o?i.reasonCode:i.returnCode;if(5===o)e.handleAuth(i,((i,n)=>{if(i)e.emit("error",i);else if(24===s)e.reconnecting=!1,e._sendPacket(n);else{let i=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[s]}`,s);e.emit("error",i)}}));else{let r=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,s);e.emit("error",r)}};e.default=i})),gn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r=new Set,i="object"==typeof M&&M?M:{},n=(e,t,r,n)=>{"function"==typeof i.emitWarning?i.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)},o=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof o>"u"){s=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},o=class{constructor(){t()}signal=new s;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(let t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==i.env?.LRU_CACHE_IGNORE_AC_WARNING,t=()=>{e&&(e=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var a=e=>!r.has(e),l=(Symbol("type"),e=>e&&e===Math.floor(e)&&e>0&&isFinite(e)),h=e=>l(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?u:null:null,u=class extends Array{constructor(e){super(e),this.fill(0)}},c=class e{heap;length;static#e=!1;static create(t){let r=h(t);if(!r)return[];e.#e=!0;let i=new e(t,r);return e.#e=!1,i}constructor(t,r){if(!e.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},f=class e{#e;#t;#r;#i;#n;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#s;#a;#l;#h;#u;#c;#f;#p;#d;#g;#b;#y;#m;#w;#_;#v;static unsafeExposeInternals(e){return{starts:e.#y,ttls:e.#m,sizes:e.#b,keyMap:e.#a,keyList:e.#l,valList:e.#h,next:e.#u,prev:e.#c,get head(){return e.#f},get tail(){return e.#p},free:e.#d,isBackgroundFetch:t=>e.#E(t),backgroundFetch:(t,r,i,n)=>e.#S(t,r,i,n),moveToTail:t=>e.#A(t),indexes:t=>e.#I(t),rindexes:t=>e.#k(t),isStale:t=>e.#C(t)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#s}get size(){return this.#o}get fetchMethod(){return this.#n}get dispose(){return this.#r}get disposeAfter(){return this.#i}constructor(t){let{max:i=0,ttl:o,ttlResolution:s=1,ttlAutopurge:u,updateAgeOnGet:f,updateAgeOnHas:p,allowStale:d,dispose:g,disposeAfter:b,noDisposeOnSet:y,noUpdateTTL:m,maxSize:w=0,maxEntrySize:_=0,sizeCalculation:v,fetchMethod:E,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:I,allowStaleOnFetchAbort:k,ignoreFetchAbort:C}=t;if(0!==i&&!l(i))throw new TypeError("max option must be a nonnegative integer");let T=i?h(i):Array;if(!T)throw new Error("invalid max value: "+i);if(this.#e=i,this.#t=w,this.maxEntrySize=_||this.#t,this.sizeCalculation=v,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==E&&"function"!=typeof E)throw new TypeError("fetchMethod must be a function if specified");if(this.#n=E,this.#_=!!E,this.#a=new Map,this.#l=new Array(i).fill(void 0),this.#h=new Array(i).fill(void 0),this.#u=new T(i),this.#c=new T(i),this.#f=0,this.#p=0,this.#d=c.create(i),this.#o=0,this.#s=0,"function"==typeof g&&(this.#r=g),"function"==typeof b?(this.#i=b,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#w=!!this.#r,this.#v=!!this.#i,this.noDisposeOnSet=!!y,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!I,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!C,0!==this.maxEntrySize){if(0!==this.#t&&!l(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#T()}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!f,this.updateAgeOnHas=!!p,this.ttlResolution=l(s)||0===s?s:1,this.ttlAutopurge=!!u,this.ttl=o||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let t="LRU_CACHE_UNBOUNDED";a(t)&&(r.add(t),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,e))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#R(){let e=new u(this.#e),r=new u(this.#e);this.#m=e,this.#y=r,this.#O=(i,n,o=t.now())=>{if(r[i]=0!==n?o:0,e[i]=n,0!==n&&this.ttlAutopurge){let e=setTimeout((()=>{this.#C(i)&&this.delete(this.#l[i])}),n+1);e.unref&&e.unref()}},this.#x=i=>{r[i]=0!==e[i]?t.now():0},this.#P=(t,o)=>{if(e[o]){let s=e[o],a=r[o];t.ttl=s,t.start=a,t.now=i||n();let l=t.now-a;t.remainingTTL=s-l}};let i=0,n=()=>{let e=t.now();if(this.ttlResolution>0){i=e;let t=setTimeout((()=>i=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=t=>{let o=this.#a.get(t);if(void 0===o)return 0;let s=e[o],a=r[o];if(0===s||0===a)return 1/0;let l=(i||n())-a;return s-l},this.#C=t=>0!==e[t]&&0!==r[t]&&(i||n())-r[t]>e[t]}#x=()=>{};#P=()=>{};#O=()=>{};#C=()=>!1;#T(){let e=new u(this.#e);this.#s=0,this.#b=e,this.#B=t=>{this.#s-=e[t],e[t]=0},this.#M=(e,t,r,i)=>{if(this.#E(t))return 0;if(!l(r)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(r=i(t,e),!l(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#U=(t,r,i)=>{if(e[t]=r,this.#t){let r=this.#t-e[t];for(;this.#s>r;)this.#L(!0)}this.#s+=e[t],i&&(i.entrySize=r,i.totalCalculatedSize=this.#s)}}#B=e=>{};#U=(e,t,r)=>{};#M=(e,t,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#I({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#p;this.#j(t)&&((e||!this.#C(t))&&(yield t),t!==this.#f);)t=this.#c[t]}*#k({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#f;this.#j(t)&&((e||!this.#C(t))&&(yield t),t!==this.#p);)t=this.#u[t]}#j(e){return void 0!==e&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#I())void 0!==this.#h[e]&&void 0!==this.#l[e]&&!this.#E(this.#h[e])&&(yield[this.#l[e],this.#h[e]])}*rentries(){for(let e of this.#k())void 0!==this.#h[e]&&void 0!==this.#l[e]&&!this.#E(this.#h[e])&&(yield[this.#l[e],this.#h[e]])}*keys(){for(let e of this.#I()){let t=this.#l[e];void 0!==t&&!this.#E(this.#h[e])&&(yield t)}}*rkeys(){for(let e of this.#k()){let t=this.#l[e];void 0!==t&&!this.#E(this.#h[e])&&(yield t)}}*values(){for(let e of this.#I())void 0!==this.#h[e]&&!this.#E(this.#h[e])&&(yield this.#h[e])}*rvalues(){for(let e of this.#k())void 0!==this.#h[e]&&!this.#E(this.#h[e])&&(yield this.#h[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(let r of this.#I()){let i=this.#h[r],n=this.#E(i)?i.__staleWhileFetching:i;if(void 0!==n&&e(n,this.#l[r],this))return this.get(this.#l[r],t)}}forEach(e,t=this){for(let r of this.#I()){let i=this.#h[r],n=this.#E(i)?i.__staleWhileFetching:i;void 0!==n&&e.call(t,n,this.#l[r],this)}}rforEach(e,t=this){for(let r of this.#k()){let i=this.#h[r],n=this.#E(i)?i.__staleWhileFetching:i;void 0!==n&&e.call(t,n,this.#l[r],this)}}purgeStale(){let e=!1;for(let t of this.#k({allowStale:!0}))this.#C(t)&&(this.delete(this.#l[t]),e=!0);return e}dump(){let e=[];for(let r of this.#I({allowStale:!0})){let i=this.#l[r],n=this.#h[r],o=this.#E(n)?n.__staleWhileFetching:n;if(void 0===o||void 0===i)continue;let s={value:o};if(this.#m&&this.#y){s.ttl=this.#m[r];let e=t.now()-this.#y[r];s.start=Math.floor(Date.now()-e)}this.#b&&(s.size=this.#b[r]),e.unshift([i,s])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let e=Date.now()-i.start;i.start=t.now()-e}this.set(r,i.value,i)}}set(e,t,r={}){if(void 0===t)return this.delete(e),this;let{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=r,{noUpdateTTL:l=this.noUpdateTTL}=r,h=this.#M(e,t,r.size||0,s);if(this.maxEntrySize&&h>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let u=0===this.#o?void 0:this.#a.get(e);if(void 0===u)u=0===this.#o?this.#p:0!==this.#d.length?this.#d.pop():this.#o===this.#e?this.#L(!1):this.#o,this.#l[u]=e,this.#h[u]=t,this.#a.set(e,u),this.#u[this.#p]=u,this.#c[u]=this.#p,this.#p=u,this.#o++,this.#U(u,h,a),a&&(a.set="add"),l=!1;else{this.#A(u);let r=this.#h[u];if(t!==r){if(this.#_&&this.#E(r)){r.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:t}=r;void 0!==t&&!o&&(this.#w&&this.#r?.(t,e,"set"),this.#v&&this.#g?.push([t,e,"set"]))}else o||(this.#w&&this.#r?.(r,e,"set"),this.#v&&this.#g?.push([r,e,"set"]));if(this.#B(u),this.#U(u,h,a),this.#h[u]=t,a){a.set="replace";let e=r&&this.#E(r)?r.__staleWhileFetching:r;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0!==i&&!this.#m&&this.#R(),this.#m&&(l||this.#O(u,i,n),a&&this.#P(a,u)),!o&&this.#v&&this.#g){let e,t=this.#g;for(;e=t?.shift();)this.#i?.(...e)}return this}pop(){try{for(;this.#o;){let e=this.#h[this.#f];if(this.#L(!0),this.#E(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#v&&this.#g){let e,t=this.#g;for(;e=t?.shift();)this.#i?.(...e)}}}#L(e){let t=this.#f,r=this.#l[t],i=this.#h[t];return this.#_&&this.#E(i)?i.__abortController.abort(new Error("evicted")):(this.#w||this.#v)&&(this.#w&&this.#r?.(i,r,"evict"),this.#v&&this.#g?.push([i,r,"evict"])),this.#B(t),e&&(this.#l[t]=void 0,this.#h[t]=void 0,this.#d.push(t)),1===this.#o?(this.#f=this.#p=0,this.#d.length=0):this.#f=this.#u[t],this.#a.delete(r),this.#o--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=t,n=this.#a.get(e);if(void 0!==n){let e=this.#h[n];if(this.#E(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#C(n))return r&&this.#x(n),i&&(i.has="hit",this.#P(i,n)),!0;i&&(i.has="stale",this.#P(i,n))}else i&&(i.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,i=this.#a.get(e);if(void 0!==i&&(r||!this.#C(i))){let e=this.#h[i];return this.#E(e)?e.__staleWhileFetching:e}}#S(e,t,r,i){let n=void 0===t?void 0:this.#h[t];if(this.#E(n))return n;let s=new o,{signal:a}=r;a?.addEventListener("abort",(()=>s.abort(a.reason)),{signal:s.signal});let l={signal:s.signal,options:r,context:i},h=(i,n=!1)=>{let{aborted:o}=s.signal,a=r.ignoreFetchAbort&&void 0!==i;if(r.status&&(o&&!n?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,a&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!a&&!n)return c(s.signal.reason);let h=p;return this.#h[t]===p&&(void 0===i?h.__staleWhileFetching?this.#h[t]=h.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,i,l.options))),i},u=e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),c(e)),c=i=>{let{aborted:n}=s.signal,o=n&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,h=p;if(this.#h[t]===p&&(l&&void 0!==h.__staleWhileFetching?o||(this.#h[t]=h.__staleWhileFetching):this.delete(e)),a)return r.status&&void 0!==h.__staleWhileFetching&&(r.status.returnedStale=!0),h.__staleWhileFetching;if(h.__returned===h)throw i},f=(t,i)=>{let o=this.#n?.(e,n,l);o&&o instanceof Promise&&o.then((e=>t(void 0===e?void 0:e)),i),s.signal.addEventListener("abort",(()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))}))};r.status&&(r.status.fetchDispatched=!0);let p=new Promise(f).then(h,u),d=Object.assign(p,{__abortController:s,__staleWhileFetching:n,__returned:void 0});return void 0===t?(this.set(e,d,{...l.options,status:void 0}),t=this.#a.get(e)):this.#h[t]=d,d}#E(e){if(!this.#_)return!1;let t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof o}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:c=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:d,forceRefresh:g=!1,status:b,signal:y}=t;if(!this.#_)return b&&(b.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:b});let m={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:l,noUpdateTTL:h,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:c,allowStaleOnFetchAbort:p,ignoreFetchAbort:f,status:b,signal:y},w=this.#a.get(e);if(void 0===w){b&&(b.fetch="miss");let t=this.#S(e,w,m,d);return t.__returned=t}{let t=this.#h[w];if(this.#E(t)){let e=r&&void 0!==t.__staleWhileFetching;return b&&(b.fetch="inflight",e&&(b.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let n=this.#C(w);if(!g&&!n)return b&&(b.fetch="hit"),this.#A(w),i&&this.#x(w),b&&this.#P(b,w),t;let o=this.#S(e,w,m,d),s=void 0!==o.__staleWhileFetching&&r;return b&&(b.fetch=n?"stale":"refresh",s&&n&&(b.returnedStale=!0)),s?o.__staleWhileFetching:o.__returned=o}}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=t,s=this.#a.get(e);if(void 0!==s){let t=this.#h[s],a=this.#E(t);return o&&this.#P(o,s),this.#C(s)?(o&&(o.get="stale"),a?(o&&r&&void 0!==t.__staleWhileFetching&&(o.returnedStale=!0),r?t.__staleWhileFetching:void 0):(n||this.delete(e),o&&r&&(o.returnedStale=!0),r?t:void 0)):(o&&(o.get="hit"),a?t.__staleWhileFetching:(this.#A(s),i&&this.#x(s),t))}o&&(o.get="miss")}#N(e,t){this.#c[t]=e,this.#u[e]=t}#A(e){e!==this.#p&&(e===this.#f?this.#f=this.#u[e]:this.#N(this.#c[e],this.#u[e]),this.#N(this.#p,e),this.#p=e)}delete(e){let t=!1;if(0!==this.#o){let r=this.#a.get(e);if(void 0!==r)if(t=!0,1===this.#o)this.clear();else{this.#B(r);let t=this.#h[r];this.#E(t)?t.__abortController.abort(new Error("deleted")):(this.#w||this.#v)&&(this.#w&&this.#r?.(t,e,"delete"),this.#v&&this.#g?.push([t,e,"delete"])),this.#a.delete(e),this.#l[r]=void 0,this.#h[r]=void 0,r===this.#p?this.#p=this.#c[r]:r===this.#f?this.#f=this.#u[r]:(this.#u[this.#c[r]]=this.#u[r],this.#c[this.#u[r]]=this.#c[r]),this.#o--,this.#d.push(r)}}if(this.#v&&this.#g?.length){let e,t=this.#g;for(;e=t?.shift();)this.#i?.(...e)}return t}clear(){for(let e of this.#k({allowStale:!0})){let t=this.#h[e];if(this.#E(t))t.__abortController.abort(new Error("deleted"));else{let r=this.#l[e];this.#w&&this.#r?.(t,r,"delete"),this.#v&&this.#g?.push([t,r,"delete"])}}if(this.#a.clear(),this.#h.fill(void 0),this.#l.fill(void 0),this.#m&&this.#y&&(this.#m.fill(0),this.#y.fill(0)),this.#b&&this.#b.fill(0),this.#f=0,this.#p=0,this.#d.length=0,this.#s=0,this.#o=0,this.#v&&this.#g){let e,t=this.#g;for(;e=t?.shift();)this.#i?.(...e)}}};e.LRUCache=f})),bn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(e=0){this.iteratorType=e}equals(e){return this.o===e.o}};e.ContainerIterator=t;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return 0===this.i}};e.Base=r;var i=class extends r{};e.Container=i})),yn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=bn(),r=class extends t.Base{constructor(e=[]){super(),this.S=[];let t=this;e.forEach((function(e){t.push(e)}))}clear(){this.i=0,this.S=[]}push(e){return this.S.push(e),this.i+=1,this.i}pop(){if(0!==this.i)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},i=r;e.default=i})),mn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=bn(),r=class extends t.Base{constructor(e=[]){super(),this.j=0,this.q=[];let t=this;e.forEach((function(e){t.push(e)}))}clear(){this.q=[],this.i=this.j=0}push(e){let t=this.q.length;if(this.j/t>.5&&this.j+this.i>=t&&t>4096){let t=this.i;for(let e=0;e<t;++e)this.q[e]=this.q[this.j+e];this.j=0,this.q[this.i]=e}else this.q[this.j+this.i]=e;return++this.i}pop(){if(0===this.i)return;let e=this.q[this.j++];return this.i-=1,e}front(){if(0!==this.i)return this.q[this.j]}},i=r;e.default=i})),wn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=bn(),r=class extends t.Base{constructor(e=[],t=function(e,t){return e>t?-1:e<t?1:0},r=!0){if(super(),this.v=t,Array.isArray(e))this.C=r?[...e]:e;else{this.C=[];let t=this;e.forEach((function(e){t.C.push(e)}))}this.i=this.C.length;let i=this.i>>1;for(let n=this.i-1>>1;n>=0;--n)this.k(n,i)}m(e){let t=this.C[e];for(;e>0;){let r=e-1>>1,i=this.C[r];if(this.v(i,t)<=0)break;this.C[e]=i,e=r}this.C[e]=t}k(e,t){let r=this.C[e];for(;e<t;){let t=e<<1|1,i=t+1,n=this.C[t];if(i<this.i&&this.v(n,this.C[i])>0&&(t=i,n=this.C[i]),this.v(n,r)>=0)break;this.C[e]=n,e=t}this.C[e]=r}clear(){this.i=0,this.C.length=0}push(e){this.C.push(e),this.m(this.i),this.i+=1}pop(){if(0===this.i)return;let e=this.C[0],t=this.C.pop();return this.i-=1,this.i&&(this.C[0]=t,this.k(0,this.i>>1)),e}top(){return this.C[0]}find(e){return this.C.indexOf(e)>=0}remove(e){let t=this.C.indexOf(e);return!(t<0)&&(0===t?this.pop():t===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(t,1,this.C.pop()),this.i-=1,this.m(t),this.k(t,this.i>>1)),!0)}updateItem(e){let t=this.C.indexOf(e);return!(t<0)&&(this.m(t),this.k(t,this.i>>1),!0)}toArray(){return[...this.C]}},i=r;e.default=i})),_n=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=bn(),r=class extends t.Container{},i=r;e.default=i})),vn=R((e=>{function t(){throw new RangeError("Iterator access denied!")}B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t})),En=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=bn(),r=vn(),i=class extends t.ContainerIterator{constructor(e,t){super(t),this.o=e,0===this.iteratorType?(this.pre=function(){return 0===this.o&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return-1===this.o&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(e){this.container.setElementByPos(this.o,e)}};e.RandomIterator=i})),Sn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(_n()),r=En();function i(e){return e&&e.t?e:{default:e}}var n=class e extends r.RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new e(this.o,this.container,this.iteratorType)}},o=class extends t.default{constructor(e=[],t=!0){if(super(),Array.isArray(e))this.J=t?[...e]:e,this.i=e.length;else{this.J=[];let t=this;e.forEach((function(e){t.pushBack(e)}))}}clear(){this.i=0,this.J.length=0}begin(){return new n(0,this)}end(){return new n(this.i,this)}rBegin(){return new n(this.i-1,this,1)}rEnd(){return new n(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),this.i-=1,this.i}eraseElementByValue(e){let t=0;for(let r=0;r<this.i;++r)this.J[r]!==e&&(this.J[t++]=this.J[r]);return this.i=this.J.length=t,this.i}eraseElementByIterator(e){let t=e.o;return e=e.next(),this.eraseElementByPos(t),e}pushBack(e){return this.J.push(e),this.i+=1,this.i}popBack(){if(0!==this.i)return this.i-=1,this.J.pop()}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;return this.J.splice(e,0,...new Array(r).fill(t)),this.i+=r,this.i}find(e){for(let t=0;t<this.i;++t)if(this.J[t]===e)return new n(t,this);return this.end()}reverse(){this.J.reverse()}unique(){let e=1;for(let t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[e++]=this.J[t]);return this.i=this.J.length=e,this.i}sort(e){this.J.sort(e)}forEach(e){for(let t=0;t<this.i;++t)e(this.J[t],t,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},s=o;e.default=s})),An=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(_n()),r=bn(),i=vn();function n(e){return e&&e.t?e:{default:e}}var o=class e extends r.ContainerIterator{constructor(e,t,r,n){super(n),this.o=e,this.h=t,this.container=r,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l}set pointer(e){this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l=e}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let t=this;e.forEach((function(e){t.pushBack(e)}))}V(e){let{L:t,B:r}=e;t.B=r,r.L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),this.i-=1}G(e,t){let r=t.B,i={l:e,L:t,B:r};t.B=i,r.L=i,t===this.h&&(this.p=i),r===this.h&&(this._=i),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}eraseElementByValue(e){let t=this.p;for(;t!==this.h;)t.l===e&&this.V(t),t=t.B;return this.i}eraseElementByIterator(e){let t=e.o;return t===this.h&&(0,i.throwIteratorAccessError)(),e=e.next(),this.V(t),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(0===this.i)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(0===this.i)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;r.l=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;if(r<=0)return this.i;if(0===e)for(;r--;)this.pushFront(t);else if(e===this.i)for(;r--;)this.pushBack(t);else{let i=this.p;for(let t=1;t<e;++t)i=i.B;let n=i.B;for(this.i+=r;r--;)i.B={l:t,L:i},i.B.L=i,i=i.B;i.B=n,n.L=i}return this.i}find(e){let t=this.p;for(;t!==this.h;){if(t.l===e)return new o(t,this.h,this);t=t.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,t=this._,r=0;for(;r<<1<this.i;){let i=e.l;e.l=t.l,t.l=i,e=e.B,t=t.L,r+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let t=e;for(;t.B!==this.h&&t.l===t.B.l;)t=t.B,this.i-=1;e.B=t.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let t=[];this.forEach((function(e){t.push(e)})),t.sort(e);let r=this.p;t.forEach((function(e){r.l=e,r=r.B}))}merge(e){let t=this;if(0===this.i)e.forEach((function(e){t.pushBack(e)}));else{let r=this.p;e.forEach((function(e){for(;r!==t.h&&r.l<=e;)r=r.B;t.G(e,r.L)}))}return this.i}forEach(e){let t=this.p,r=0;for(;t!==this.h;)e(t.l,r++,this),t=t.B}[Symbol.iterator](){return function*(){if(0===this.i)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}.bind(this)()}},a=s;e.default=a})),In=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(_n()),r=En();function i(e){return e&&e.t?e:{default:e}}var n=class e extends r.RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new e(this.o,this.container,this.iteratorType)}},o=class extends t.default{constructor(e=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let r=(()=>{if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("function"==typeof e.size)return e.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(r/this.F),1);for(let o=0;o<this.P;++o)this.A.push(new Array(this.F));let i=Math.ceil(r/this.F);this.j=this.R=(this.P>>1)-(i>>1),this.D=this.N=this.F-r%this.F>>1;let n=this;e.forEach((function(e){n.pushBack(e)}))}T(){let e=[],t=Math.max(this.P>>1,1);for(let r=0;r<t;++r)e[r]=new Array(this.F);for(let r=this.j;r<this.P;++r)e[e.length]=this.A[r];for(let r=0;r<this.R;++r)e[e.length]=this.A[r];e[e.length]=[...this.A[this.R]],this.j=t,this.R=e.length-1;for(let r=0;r<t;++r)e[e.length]=new Array(this.F);this.A=e,this.P=e.length}O(e){let t=this.D+e+1,r=t%this.F,i=r-1,n=this.j+(t-r)/this.F;return 0===r&&(n-=1),n%=this.P,i<0&&(i+=this.F),{curNodeBucketIndex:n,curNodePointerIndex:i}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new n(0,this)}end(){return new n(this.i,this)}rBegin(){return new n(this.i-1,this,1)}rEnd(){return new n(-1,this,1)}front(){if(0!==this.i)return this.A[this.j][this.D]}back(){if(0!==this.i)return this.A[this.R][this.N]}pushBack(e){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}popBack(){if(0===this.i)return;let e=this.A[this.R][this.N];return 1!==this.i&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,e}pushFront(e){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}popFront(){if(0===this.i)return;let e=this.A[this.j][this.D];return 1!==this.i&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,e}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:t,curNodePointerIndex:r}=this.O(e);return this.A[t][r]}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:r,curNodePointerIndex:i}=this.O(e);this.A[r][i]=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;if(0===e)for(;r--;)this.pushFront(t);else if(e===this.i)for(;r--;)this.pushBack(t);else{let i=[];for(let t=e;t<this.i;++t)i.push(this.getElementByPos(t));this.cut(e-1);for(let e=0;e<r;++e)this.pushBack(t);for(let e=0;e<i.length;++e)this.pushBack(i[e])}return this.i}cut(e){if(e<0)return this.clear(),0;let{curNodeBucketIndex:t,curNodePointerIndex:r}=this.O(e);return this.R=t,this.N=r,this.i=e+1,this.i}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;if(0===e)this.popFront();else if(e===this.i-1)this.popBack();else{let t=[];for(let i=e+1;i<this.i;++i)t.push(this.getElementByPos(i));this.cut(e),this.popBack();let r=this;t.forEach((function(e){r.pushBack(e)}))}return this.i}eraseElementByValue(e){if(0===this.i)return 0;let t=[];for(let i=0;i<this.i;++i){let r=this.getElementByPos(i);r!==e&&t.push(r)}let r=t.length;for(let i=0;i<r;++i)this.setElementByPos(i,t[i]);return this.cut(r-1)}eraseElementByIterator(e){let t=e.o;return this.eraseElementByPos(t),e=e.next(),e}find(e){for(let t=0;t<this.i;++t)if(this.getElementByPos(t)===e)return new n(t,this);return this.end()}reverse(){let e=0,t=this.i-1;for(;e<t;){let r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),e+=1,t-=1}}unique(){if(this.i<=1)return this.i;let e=1,t=this.getElementByPos(0);for(let r=1;r<this.i;++r){let i=this.getElementByPos(r);i!==t&&(t=i,this.setElementByPos(e++,i))}for(;this.i>e;)this.popBack();return this.i}sort(e){let t=[];for(let r=0;r<this.i;++r)t.push(this.getElementByPos(r));t.sort(e);for(let r=0;r<this.i;++r)this.setElementByPos(r,t[r])}shrinkToFit(){if(0===this.i)return;let e=[];this.forEach((function(t){e.push(t)})),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let t=0;t<this.P;++t)this.A.push(new Array(this.F));for(let t=0;t<e.length;++t)this.pushBack(e[t])}forEach(e){for(let t=0;t<this.i;++t)e(this.getElementByPos(t),t,this)}[Symbol.iterator](){return function*(){for(let e=0;e<this.i;++e)yield this.getElementByPos(e)}.bind(this)()}},s=o;e.default=s})),kn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(e,t){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=e,this.l=t}L(){let e=this;if(1===e.ee&&e.tt.tt===e)e=e.W;else if(e.U)for(e=e.U;e.W;)e=e.W;else{let t=e.tt;for(;t.U===e;)e=t,t=e.tt;e=t}return e}B(){let e=this;if(e.W){for(e=e.W;e.U;)e=e.U;return e}{let t=e.tt;for(;t.W===e;)e=t,t=e.tt;return e.W!==t?t:e}}te(){let e=this.tt,t=this.W,r=t.U;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.U=this,this.tt=t,this.W=r,r&&(r.tt=this),t}se(){let e=this.tt,t=this.U,r=t.W;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.W=this,this.tt=t,this.U=r,r&&(r.tt=this),t}};e.TreeNode=t;var r=class extends t{constructor(){super(...arguments),this.rt=1}te(){let e=super.te();return this.ie(),e.ie(),e}se(){let e=super.se();return this.ie(),e.ie(),e}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=r})),Cn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=kn(),r=bn(),i=vn(),n=class extends r.Container{constructor(e=function(e,t){return e<t?-1:e>t?1:0},r=!1){super(),this.Y=void 0,this.v=e,r?(this.re=t.TreeNodeEnableIndex,this.M=function(e,t,r){let i=this.ne(e,t,r);if(i){let e=i.tt;for(;e!==this.h;)e.rt+=1,e=e.tt;let t=this.he(i);if(t){let{parentNode:e,grandParent:r,curNode:i}=t;e.ie(),r.ie(),i.ie()}}return this.i},this.V=function(e){let t=this.fe(e);for(;t!==this.h;)t.rt-=1,t=t.tt}):(this.re=t.TreeNode,this.M=function(e,t,r){let i=this.ne(e,t,r);return i&&this.he(i),this.i},this.V=this.fe),this.h=new this.re}X(e,t){let r=this.h;for(;e;){let i=this.v(e.u,t);if(i<0)e=e.W;else{if(!(i>0))return e;r=e,e=e.U}}return r}Z(e,t){let r=this.h;for(;e;)this.v(e.u,t)<=0?e=e.W:(r=e,e=e.U);return r}$(e,t){let r=this.h;for(;e;){let i=this.v(e.u,t);if(i<0)r=e,e=e.W;else{if(!(i>0))return e;e=e.U}}return r}rr(e,t){let r=this.h;for(;e;)this.v(e.u,t)<0?(r=e,e=e.W):e=e.U;return r}ue(e){for(;;){let t=e.tt;if(t===this.h)return;if(1===e.ee)return void(e.ee=0);if(e===t.U){let r=t.W;if(1===r.ee)r.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else{if(r.W&&1===r.W.ee)return r.ee=t.ee,t.ee=0,r.W.ee=0,void(t===this.Y?this.Y=t.te():t.te());r.U&&1===r.U.ee?(r.ee=1,r.U.ee=0,r.se()):(r.ee=1,e=t)}}else{let r=t.U;if(1===r.ee)r.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else{if(r.U&&1===r.U.ee)return r.ee=t.ee,t.ee=0,r.U.ee=0,void(t===this.Y?this.Y=t.se():t.se());r.W&&1===r.W.ee?(r.ee=1,r.W.ee=0,r.te()):(r.ee=1,e=t)}}}}fe(e){if(1===this.i)return this.clear(),this.h;let t=e;for(;t.U||t.W;){if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;[e.u,t.u]=[t.u,e.u],[e.l,t.l]=[t.l,e.l],e=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);let r=t.tt;return t===r.U?r.U=void 0:r.W=void 0,this.i-=1,this.Y.ee=0,r}oe(e,t){return void 0!==e&&(!(!this.oe(e.U,t)&&!t(e))||this.oe(e.W,t))}he(e){for(;;){let t=e.tt;if(0===t.ee)return;let r=t.tt;if(t===r.U){let i=r.W;if(i&&1===i.ee){if(i.ee=t.ee=0,r===this.Y)return;r.ee=1,e=r;continue}if(e===t.W){if(e.ee=0,e.U&&(e.U.tt=t),e.W&&(e.W.tt=r),t.W=e.U,r.U=e.W,e.U=t,e.W=r,r===this.Y)this.Y=e,this.h.tt=e;else{let t=r.tt;t.U===r?t.U=e:t.W=e}return e.tt=r.tt,t.tt=e,r.tt=e,r.ee=1,{parentNode:t,grandParent:r,curNode:e}}t.ee=0,r===this.Y?this.Y=r.se():r.se(),r.ee=1}else{let i=r.U;if(i&&1===i.ee){if(i.ee=t.ee=0,r===this.Y)return;r.ee=1,e=r;continue}if(e===t.U){if(e.ee=0,e.U&&(e.U.tt=r),e.W&&(e.W.tt=t),r.W=e.U,t.U=e.W,e.U=r,e.W=t,r===this.Y)this.Y=e,this.h.tt=e;else{let t=r.tt;t.U===r?t.U=e:t.W=e}return e.tt=r.tt,t.tt=e,r.tt=e,r.ee=1,{parentNode:t,grandParent:r,curNode:e}}t.ee=0,r===this.Y?this.Y=r.te():r.te(),r.ee=1}return}}ne(e,t,r){if(void 0===this.Y)return this.i+=1,this.Y=new this.re(e,t),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,void(this.h.W=this.Y);let i,n=this.h.U,o=this.v(n.u,e);if(0!==o){if(o>0)n.U=new this.re(e,t),n.U.tt=n,i=n.U,this.h.U=i;else{let n=this.h.W,o=this.v(n.u,e);if(0===o)return void(n.l=t);if(o<0)n.W=new this.re(e,t),n.W.tt=n,i=n.W,this.h.W=i;else{if(void 0!==r){let n=r.o;if(n!==this.h){let r=this.v(n.u,e);if(0===r)return void(n.l=t);if(r>0){let r=n.L(),o=this.v(r.u,e);if(0===o)return void(r.l=t);o<0&&(i=new this.re(e,t),void 0===r.W?(r.W=i,i.tt=r):(n.U=i,i.tt=n))}}}if(void 0===i)for(i=this.Y;;){let r=this.v(i.u,e);if(r>0){if(void 0===i.U){i.U=new this.re(e,t),i.U.tt=i,i=i.U;break}i=i.U}else{if(!(r<0))return void(i.l=t);if(void 0===i.W){i.W=new this.re(e,t),i.W.tt=i,i=i.W;break}i=i.W}}}}return this.i+=1,i}n.l=t}I(e,t){for(;e;){let r=this.v(e.u,t);if(r<0)e=e.W;else{if(!(r>0))return e;e=e.U}}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(e,t){let r=e.o;if(r===this.h&&(0,i.throwIteratorAccessError)(),1===this.i)return r.u=t,!0;if(r===this.h.U)return this.v(r.B().u,t)>0&&(r.u=t,!0);if(r===this.h.W)return this.v(r.L().u,t)<0&&(r.u=t,!0);let n=r.L().u;if(this.v(n,t)>=0)return!1;let o=r.B().u;return!(this.v(o,t)<=0)&&(r.u=t,!0)}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=0,r=this;return this.oe(this.Y,(function(i){return e===t?(r.V(i),!0):(t+=1,!1)})),this.i}eraseElementByKey(e){if(0===this.i)return!1;let t=this.I(this.Y,e);return t!==this.h&&(this.V(t),!0)}eraseElementByIterator(e){let t=e.o;t===this.h&&(0,i.throwIteratorAccessError)();let r=void 0===t.W;return 0===e.iteratorType?r&&e.next():(!r||void 0===t.U)&&e.next(),this.V(t),e}forEach(e){let t=0;for(let r of this)e(r,t++,this)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t,r=0;for(let i of this){if(r===e){t=i;break}r+=1}return t}getHeight(){if(0===this.i)return 0;let e=function(t){return t?Math.max(e(t.U),e(t.W))+1:0};return e(this.Y)}},o=n;e.default=o})),Tn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=bn(),r=vn(),i=class extends t.ContainerIterator{constructor(e,t,i){super(i),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let e=this.o,t=this.h.tt;if(e===this.h)return t?t.rt-1:0;let r=0;for(e.U&&(r+=e.U.rt);e!==t;){let t=e.tt;e===t.W&&(r+=1,t.U&&(r+=t.U.rt)),e=t}return r}},n=i;e.default=n})),Rn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(Cn()),r=n(Tn()),i=vn();function n(e){return e&&e.t?e:{default:e}}var o=class e extends r.default{constructor(e,t,r,i){super(e,t,i),this.container=r}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.u}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(e=[],t,r){super(t,r);let i=this;e.forEach((function(e){i.insert(e)}))}*K(e){void 0!==e&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,t){return this.M(e,void 0,t)}find(e){let t=this.I(this.Y,e);return new o(t,this.h,this)}lowerBound(e){let t=this.X(this.Y,e);return new o(t,this.h,this)}upperBound(e){let t=this.Z(this.Y,e);return new o(t,this.h,this)}reverseLowerBound(e){let t=this.$(this.Y,e);return new o(t,this.h,this)}reverseUpperBound(e){let t=this.rr(this.Y,e);return new o(t,this.h,this)}union(e){let t=this;return e.forEach((function(e){t.insert(e)})),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a})),On=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(Cn()),r=n(Tn()),i=vn();function n(e){return e&&e.t?e:{default:e}}var o=class e extends r.default{constructor(e,t,r,i){super(e,t,i),this.container=r}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let e=this;return new Proxy([],{get(t,r){return"0"===r?e.o.u:"1"===r?e.o.l:void 0},set(t,r,i){if("1"!==r)throw new TypeError("props must be 1");return e.o.l=i,!0}})}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(e=[],t,r){super(t,r);let i=this;e.forEach((function(e){i.setElement(e[0],e[1])}))}*K(e){void 0!==e&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(0===this.i)return;let e=this.h.U;return[e.u,e.l]}back(){if(0===this.i)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let t=this.X(this.Y,e);return new o(t,this.h,this)}upperBound(e){let t=this.Z(this.Y,e);return new o(t,this.h,this)}reverseLowerBound(e){let t=this.$(this.Y,e);return new o(t,this.h,this)}reverseUpperBound(e){let t=this.rr(this.Y,e);return new o(t,this.h,this)}setElement(e,t,r){return this.M(e,t,r)}find(e){let t=this.I(this.Y,e);return new o(t,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let t=this;return e.forEach((function(e){t.setElement(e[0],e[1])})),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a})),xn=R((e=>{function t(e){let t=typeof e;return"object"===t&&null!==e||"function"===t}B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=t})),Pn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=bn(),r=n(xn()),i=vn();function n(e){return e&&e.t?e:{default:e}}var o=class extends t.ContainerIterator{constructor(e,t,r){super(r),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=o;var s=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(e){let{L:t,B:r}=e;t.B=r,r.L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),this.i-=1}M(e,t,i){let n;if(void 0===i&&(i=(0,r.default)(e)),i){let r=e[this.HASH_TAG];if(void 0!==r)return this.H[r].l=t,this.i;Object.defineProperty(e,this.HASH_TAG,{value:this.H.length,configurable:!0}),n={u:e,l:t,L:this._,B:this.h},this.H.push(n)}else{let r=this.g[e];if(r)return r.l=t,this.i;n={u:e,l:t,L:this._,B:this.h},this.g[e]=n}return 0===this.i?(this.p=n,this.h.B=n):this._.B=n,this._=n,this.h.L=n,++this.i}I(e,t){if(void 0===t&&(t=(0,r.default)(e)),t){let t=e[this.HASH_TAG];return void 0===t?this.h:this.H[t]}return this.g[e]||this.h}clear(){let e=this.HASH_TAG;this.H.forEach((function(t){delete t.u[e]})),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(e,t){let i;if(void 0===t&&(t=(0,r.default)(e)),t){let t=e[this.HASH_TAG];if(void 0===t)return!1;delete e[this.HASH_TAG],i=this.H[t],delete this.H[t]}else{if(i=this.g[e],void 0===i)return!1;delete this.g[e]}return this.V(i),!0}eraseElementByIterator(e){let t=e.o;return t===this.h&&(0,i.throwIteratorAccessError)(),this.V(t),e.next()}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}};e.HashContainer=s})),Bn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pn(),r=vn(),i=class e extends t.HashContainerIterator{constructor(e,t,r,i){super(e,t,i),this.container=r}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},n=class extends t.HashContainer{constructor(e=[]){super();let t=this;e.forEach((function(e){t.insert(e)}))}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,t){return this.M(e,void 0,t)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.u}find(e,t){let r=this.I(e,t);return new i(r,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e(r.u,t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B}.bind(this)()}},o=n;e.default=o})),Mn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pn(),r=n(xn()),i=vn();function n(e){return e&&e.t?e:{default:e}}var o=class e extends t.HashContainerIterator{constructor(e,t,r,i){super(e,t,i),this.container=r}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let e=this;return new Proxy([],{get(t,r){return"0"===r?e.o.u:"1"===r?e.o.l:void 0},set(t,r,i){if("1"!==r)throw new TypeError("props must be 1");return e.o.l=i,!0}})}copy(){return new e(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.HashContainer{constructor(e=[]){super();let t=this;e.forEach((function(e){t.setElement(e[0],e[1])}))}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(0!==this.i)return[this.p.u,this.p.l]}back(){if(0!==this.i)return[this._.u,this._.l]}setElement(e,t,r){return this.M(e,t,r)}getElementByKey(e,t){if(void 0===t&&(t=(0,r.default)(e)),t){let t=e[this.HASH_TAG];return void 0!==t?this.H[t].l:void 0}let i=this.g[e];return i?i.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return[t.u,t.l]}find(e,t){let r=this.I(e,t);return new o(r,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e([r.u,r.l],t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}.bind(this)()}},a=s;e.default=a})),Un=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return n.default}});var t=c(yn()),r=c(mn()),i=c(wn()),n=c(Sn()),o=c(An()),s=c(In()),a=c(Rn()),l=c(On()),h=c(Bn()),u=c(Mn());function c(e){return e&&e.t?e:{default:e}}})),Ln=R(((e,t)=>{B(),kt(),ut();var r=Un().OrderedSet,i=Ji()("number-allocator:trace"),n=Ji()("number-allocator:error");function o(e,t){this.low=e,this.high=t}function s(e,t){if(!(this instanceof s))return new s(e,t);this.min=e,this.max=t,this.ss=new r([],((e,t)=>e.compare(t))),i("Create"),this.clear()}o.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},o.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},s.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},s.prototype.alloc=function(){if(0===this.ss.size())return i("alloc():empty"),null;let e=this.ss.begin(),t=e.pointer.low,r=e.pointer.high,n=t;return n+1<=r?this.ss.updateKeyByIterator(e,new o(t+1,r)):this.ss.eraseElementByPos(0),i("alloc():"+n),n},s.prototype.use=function(e){let t=new o(e,e),r=this.ss.lowerBound(t);if(!r.equals(this.ss.end())){let n=r.pointer.low,s=r.pointer.high;return r.pointer.equals(t)?(this.ss.eraseElementByIterator(r),i("use():"+e),!0):!(n>e)&&(n===e?(this.ss.updateKeyByIterator(r,new o(n+1,s)),i("use():"+e),!0):s===e?(this.ss.updateKeyByIterator(r,new o(n,s-1)),i("use():"+e),!0):(this.ss.updateKeyByIterator(r,new o(e+1,s)),this.ss.insert(new o(n,e-1)),i("use():"+e),!0))}return i("use():failed"),!1},s.prototype.free=function(e){if(e<this.min||e>this.max)return void n("free():"+e+" is out of range");let t=new o(e,e),r=this.ss.upperBound(t);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin()))return void this.ss.insert(t);r.pre();let i=r.pointer.high;r.pointer.high+1===e?this.ss.updateKeyByIterator(r,new o(i,e)):this.ss.insert(t)}else if(r.equals(this.ss.begin()))if(e+1===r.pointer.low){let t=r.pointer.high;this.ss.updateKeyByIterator(r,new o(e,t))}else this.ss.insert(t);else{let i=r.pointer.low,n=r.pointer.high;r.pre();let s=r.pointer.low;r.pointer.high+1===e?e+1===i?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new o(s,n))):this.ss.updateKeyByIterator(r,new o(s,e)):e+1===i?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new o(e,n))):this.ss.insert(t)}i("free():"+e)},s.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let e of this.ss)console.log(e)},t.exports=s})),jn=R(((e,t)=>{B(),kt(),ut();var r=Ln();t.exports.NumberAllocator=r})),Nn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=gn(),r=jn(),i=class{constructor(e){e>0&&(this.aliasToTopic=new t.LRUCache({max:e}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,e),this.max=e,this.length=0)}put(e,t){if(0===t||t>this.max)return!1;let r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.size,!0}getTopicByAlias(e){return this.aliasToTopic.get(e)}getAliasByTopic(e){let t=this.topicToAlias[e];return typeof t<"u"&&this.aliasToTopic.get(t),t}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){let e=this.numberAllocator.firstVacant();return e||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=i})),Dn=R((e=>{B(),kt(),ut();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=pn(),i=t(Nn()),n=fn(),o=(e,t)=>{e.log("_handleConnack");let{options:o}=e,s=5===o.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(e.connackTimer),delete e.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void e.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(e.topicAliasSend=new i.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&o.keepalive&&(o.keepalive=t.properties.serverKeepAlive,e._shiftPingInterval()),t.properties.maximumPacketSize&&(o.properties||(o.properties={}),o.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===s)e.reconnecting=!1,e._onConnect(t);else if(s>0){let t=new n.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[s]}`,s);e.emit("error",t)}};e.default=o})),Fn=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=(e,t,r)=>{e.log("handling pubrel packet");let i=typeof r<"u"?r:e.noop,{messageId:n}=t,o={cmd:"pubcomp",messageId:n};e.incomingStore.get(t,((t,r)=>{t?e._sendPacket(o,i):(e.emit("message",r.topic,r.payload,r),e.handleMessage(r,(t=>{if(t)return i(t);e.incomingStore.del(r,e.noop),e._sendPacket(o,i)})))}))};e.default=t})),Wn=R((e=>{B(),kt(),ut();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(cn()),i=t(dn()),n=t(Dn()),o=t(pn()),s=t(Fn()),a=(e,t,a)=>{let{options:l}=e;if(5===l.protocolVersion&&l.properties&&l.properties.maximumPacketSize&&l.properties.maximumPacketSize<t.length)return e.emit("error",new Error(`exceeding packets size ${t.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",t),t.cmd){case"publish":(0,r.default)(e,t,a);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,o.default)(e,t),a();break;case"pubrel":(0,s.default)(e,t,a);break;case"connack":(0,n.default)(e,t),a();break;case"auth":(0,i.default)(e,t),a();break;case"pingresp":e.pingResp=!0,a();break;case"disconnect":e.emit("disconnect",t),a();break;default:e.log("_handlePacket :: unknown command"),a();break}};e.default=a})),Hn=R((e=>{B(),kt(),ut();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t((ar(),P(er))),i=fn(),n=class{};e.TypedEventEmitter=n,(0,i.applyMixin)(n,r.default)})),Vn=R((e=>{B(),kt(),ut();var t=e&&e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&t(i,e,n);return r(i,e),i},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(Ct()),s=n(nn()),a=n(on()),l=Vi(),h=n(sn()),u=n(ln()),c=i(hn()),f=n(Ji()),p=n(un()),d=n(Wn()),g=Hn(),b=M?M.nextTick:e=>{setTimeout(e,0)},y=window.setImmediate||((...e)=>{let t=e.shift();b((()=>{t(...e)}))}),m={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0,writeCache:!0},w=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND","ETIMEDOUT"],_=class e extends g.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(t,r){super(),this.options=r||{};for(let e in m)typeof this.options[e]>"u"?this.options[e]=m[e]:this.options[e]=r[e];this.log=this.options.log||(0,f.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: options.protocol",r.protocol),this.log("MqttClient :: options.protocolVersion",r.protocolVersion),this.log("MqttClient :: options.username",r.username),this.log("MqttClient :: options.keepalive",r.keepalive),this.log("MqttClient :: options.reconnectPeriod",r.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",r.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",r.properties?r.properties.topicAliasMaximum:void 0),this.options.clientId="string"==typeof r.clientId?r.clientId:e.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===r.protocolVersion&&r.customHandleAcks?r.customHandleAcks:(...e)=>{e[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=t,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=r.outgoingStore||new p.default,this.incomingStore=r.incomingStore||new p.default,this.queueQoSZero=void 0===r.queueQoSZero||r.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,r.properties&&r.properties.topicAliasMaximum>0&&(r.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new o.default(r.properties.topicAliasMaximum)),this.on("connect",(()=>{let{queue:e}=this,t=()=>{let r=e.shift();this.log("deliver :: entry %o",r);let i=null;if(!r)return void this._resubscribe();i=r.packet,this.log("deliver :: call _sendPacket for %o",i);let n=!0;i.messageId&&0!==i.messageId&&(this.messageIdProvider.register(i.messageId)||(n=!1)),n?this._sendPacket(i,(e=>{r.cb&&r.cb(e),t()})):(this.log("messageId: %d has already used. The message is skipped and removed.",i.messageId),t())};this.log("connect :: sending queued packets"),t()})),this.on("close",(()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()})),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(e,t){t()}handleMessage(e,t){t()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var e;let t=new l.Writable,r=s.default.parser(this.options),i=null,n=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",(e=>{this.log("parser :: on packet push to packets array."),n.push(e)}));let o=()=>{this.log("work :: getting next packet in queue");let e=n.shift();if(e)this.log("work :: packet pulled from queue"),(0,d.default)(this,e,a);else{this.log("work :: no packets in queue");let e=i;i=null,this.log("work :: done flag is %s",!!e),e&&e()}},a=()=>{if(n.length)b(o);else{let e=i;i=null,e()}};t._write=(e,t,n)=>{i=n,this.log("writable stream :: parsing buffer"),r.parse(e),o()};let h=e=>{this.log("streamErrorHandler :: error",e.message),w.includes(e.code)?(this.log("streamErrorHandler :: emitting error"),this.emit("error",e)):this.noop(e)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(t),this.stream.on("error",h),this.stream.on("close",(()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")})),this.log("connect: sending packet `connect`");let u={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(u.will=Object.assign(Object.assign({},this.options.will),{payload:null===(e=this.options.will)||void 0===e?void 0:e.payload})),this.topicAliasRecv&&(u.properties||(u.properties={}),this.topicAliasRecv&&(u.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(u),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end((()=>this.emit("error",new Error("Packet has no Authentication Method")))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){let e=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(e)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this._cleanUp(!0)}),this.options.connectTimeout),this}publish(e,t,r,i){this.log("publish :: message `%s` to topic `%s`",t,e);let{options:n}=this;"function"==typeof r&&(i=r,r=null),r=r||{},r=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),r);let{qos:o,retain:s,dup:a,properties:l,cbStorePut:h}=r;if(this._checkDisconnecting(i))return this;let u=()=>{let r=0;if((1===o||2===o)&&(r=this._nextId(),null===r))return this.log("No messageId left"),!1;let u={cmd:"publish",topic:e,payload:t,qos:o,retain:s,messageId:r,dup:a};switch(5===n.protocolVersion&&(u.properties=l),this.log("publish :: qos",o),o){case 1:case 2:this.outgoing[u.messageId]={volatile:!1,cb:i||this.noop},this.log("MqttClient:publish: packet cmd: %s",u.cmd),this._sendPacket(u,void 0,h);break;default:this.log("MqttClient:publish: packet cmd: %s",u.cmd),this._sendPacket(u,i,h);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!u())&&this._storeProcessingQueue.push({invoke:u,cbStorePut:r.cbStorePut,callback:i}),this}publishAsync(e,t,r){return new Promise(((i,n)=>{this.publish(e,t,r,((e,t)=>{e?n(e):i(t)}))}))}subscribe(e,t,r){let i=this.options.protocolVersion;"function"==typeof t&&(r=t),r=r||this.noop;let n=!1,o=[];"string"==typeof e?(e=[e],o=e):Array.isArray(e)?o=e:"object"==typeof e&&(n=e.resubscribe,delete e.resubscribe,o=Object.keys(e));let s=c.validateTopics(o);if(null!==s)return y(r,new Error(`Invalid topic ${s}`)),this;if(this._checkDisconnecting(r))return this.log("subscribe: discconecting true"),this;let a={qos:0};5===i&&(a.nl=!1,a.rap=!1,a.rh=0),t=Object.assign(Object.assign({},a),t);let l=t.properties,h=[],u=(e,r)=>{if(r=r||t,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,e)||this._resubscribeTopics[e].qos<r.qos||n){let t={topic:e,qos:r.qos};5===i&&(t.nl=r.nl,t.rap=r.rap,t.rh=r.rh,t.properties=l),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),h.push(t)}};if(Array.isArray(e)?e.forEach((e=>{this.log("subscribe: array topic %s",e),u(e)})):Object.keys(e).forEach((t=>{this.log("subscribe: object topic %s, %o",t,e[t]),u(t,e[t])})),!h.length)return r(null,[]),this;let f=()=>{let e=this._nextId();if(null===e)return this.log("No messageId left"),!1;let t={cmd:"subscribe",subscriptions:h,messageId:e};if(l&&(t.properties=l),this.options.resubscribe){this.log("subscribe :: resubscribe true");let e=[];h.forEach((t=>{if(this.options.reconnectPeriod>0){let r={qos:t.qos};5===i&&(r.nl=t.nl||!1,r.rap=t.rap||!1,r.rh=t.rh||0,r.properties=t.properties),this._resubscribeTopics[t.topic]=r,e.push(t.topic)}})),this.messageIdToTopic[t.messageId]=e}return this.outgoing[t.messageId]={volatile:!0,cb(e,t){if(!e){let{granted:e}=t;for(let t=0;t<e.length;t+=1)h[t].qos=e[t]}r(e,h)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(t),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!f())&&this._storeProcessingQueue.push({invoke:f,callback:r}),this}subscribeAsync(e,t){return new Promise(((r,i)=>{this.subscribe(e,t,((e,t)=>{e?i(e):r(t)}))}))}unsubscribe(e,t,r){"string"==typeof e&&(e=[e]),"function"==typeof t&&(r=t),r=r||this.noop;let i=c.validateTopics(e);if(null!==i)return y(r,new Error(`Invalid topic ${i}`)),this;if(this._checkDisconnecting(r))return this;let n=()=>{let i=this._nextId();if(null===i)return this.log("No messageId left"),!1;let n={cmd:"unsubscribe",messageId:i,unsubscriptions:[]};return"string"==typeof e?n.unsubscriptions=[e]:Array.isArray(e)&&(n.unsubscriptions=e),this.options.resubscribe&&n.unsubscriptions.forEach((e=>{delete this._resubscribeTopics[e]})),"object"==typeof t&&t.properties&&(n.properties=t.properties),this.outgoing[n.messageId]={volatile:!0,cb:r},this.log("unsubscribe: call _sendPacket"),this._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!n())&&this._storeProcessingQueue.push({invoke:n,callback:r}),this}unsubscribeAsync(e,t){return new Promise(((r,i)=>{this.unsubscribe(e,t,((e,t)=>{e?i(e):r(t)}))}))}end(e,t,r){this.log("end :: (%s)",this.options.clientId),(null==e||"boolean"!=typeof e)&&(r=r||t,t=e,e=!1),"object"!=typeof t&&(r=r||t,t=null),this.log("end :: cb? %s",!!r),(!r||"function"!=typeof r)&&(r=this.noop);let i=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close((e=>{this.outgoingStore.close((t=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),r){let i=e||t;this.log("end :: closeStores: invoking callback with args"),r(i)}}))})),this._deferredReconnect&&this._deferredReconnect()},n=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,e),this._cleanUp(e,(()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),b(i)}),t)};return this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,n,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),n()),this)}endAsync(e,t){return new Promise(((r,i)=>{this.end(e,t,(e=>{e?i(e):r()}))}))}removeOutgoingMessage(e){if(this.outgoing[e]){let{cb:t}=this.outgoing[e];this._removeOutgoingAndStoreMessage(e,(()=>{t(new Error("Message removed"))}))}return this}reconnect(e){this.log("client reconnect");let t=()=>{e?(this.options.incomingStore=e.incomingStore,this.options.outgoingStore=e.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=t:t(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach((e=>{this.outgoing[e].volatile&&"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])})))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach((e=>{"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])})))}_removeTopicAliasAndRecoverTopicName(e){let t;e.properties&&(t=e.properties.topicAlias);let r=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",t,r),0===r.length){if(typeof t>"u")return new Error("Unregistered Topic Alias");if(r=this.topicAliasSend.getTopicByAlias(t),typeof r>"u")return new Error("Unregistered Topic Alias");e.topic=r}t&&delete e.properties.topicAlias}_checkDisconnecting(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((()=>{this.connect()})),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval((()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()}),this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(e,t,r={}){if(t&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),this.log("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let e=Object.assign({cmd:"disconnect"},r);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(e,(()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y((()=>{this.stream.end((()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)}))}))}))}this.disconnecting||(this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())}_storeAndSend(e,t,r){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let i,n=e;if("publish"===n.cmd&&(n=(0,u.default)(e),i=this._removeTopicAliasAndRecoverTopicName(n),i))return t&&t(i);this.outgoingStore.put(n,(i=>{if(i)return t&&t(i);r(),this._writePacket(e,t)}))}_applyTopicAlias(e){if(5===this.options.protocolVersion&&"publish"===e.cmd){let t;e.properties&&(t=e.properties.topicAlias);let r=e.topic.toString();if(this.topicAliasSend)if(t){if(0!==r.length&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",r,t),!this.topicAliasSend.put(r,t)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,t),new Error("Sending Topic Alias out of range")}else 0!==r.length&&(this.options.autoAssignTopicAlias?(t=this.topicAliasSend.getAliasByTopic(r),t?(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",r,t)):(t=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(r,t),e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",r,t))):this.options.autoUseTopicAlias&&(t=this.topicAliasSend.getAliasByTopic(r),t&&(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",r,t))));else if(t)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,t),new Error("Sending Topic Alias out of range")}}_noop(e){this.log("noop ::",e)}_writePacket(e,t){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");let r=s.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",r),!r&&t&&t!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",t)):t&&(this.log("_writePacket :: invoking cb"),t())}_sendPacket(e,t,r,i){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||this.noop,t=t||this.noop;let n=this._applyTopicAlias(e);if(n)t(n);else{if(!this.connected)return"auth"===e.cmd?void this._writePacket(e,t):(this.log("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,r));if(i)this._writePacket(e,t);else{switch(e.cmd){case"publish":break;case"pubrel":return void this._storeAndSend(e,t,r);default:return void this._writePacket(e,t)}switch(e.qos){case 2:case 1:this._storeAndSend(e,t,r);break;case 0:default:this._writePacket(e,t);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}}}_storePacket(e,t,r){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!t),r=r||this.noop;let i=e;if("publish"===i.cmd){i=(0,u.default)(e);let r=this._removeTopicAliasAndRecoverTopicName(i);if(r)return t&&t(r)}let n=i.qos||0;0===n&&this.queueQoSZero||"publish"!==i.cmd?this.queue.push({packet:i,cb:t}):n>0?(t=this.outgoing[i.messageId]?this.outgoing[i.messageId].cb:null,this.outgoingStore.put(i,(e=>{if(e)return t&&t(e);r()}))):t&&t(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=(0,h.default)((()=>{this._checkPing()}),1e3*this.options.keepalive))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");let e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){this.log("_resubscribe: protocolVersion 5");for(let t=0;t<e.length;t++){let r={};r[e[t]]=this._resubscribeTopics[e[t]],r.resubscribe=!0,this.subscribe(r,{properties:r[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(e){if(this.disconnected)return void this.emit("connect",e);this.connackPacket=e,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;let t=()=>{let r=this.outgoingStore.createStream(),i=()=>{r.destroy(),r=null,this._flushStoreProcessingQueue(),n()},n=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",i),r.on("error",(e=>{n(),this._flushStoreProcessingQueue(),this.removeListener("close",i),this.emit("error",e)}));let o=()=>{if(!r)return;let e,t=r.read(1);t?(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[t.messageId]?o():this.disconnecting||this.reconnectTimer?r.destroy&&r.destroy():(e=this.outgoing[t.messageId]?this.outgoing[t.messageId].cb:null,this.outgoing[t.messageId]={volatile:!1,cb(t,r){e&&e(t,r),o()}},this._packetIdsDuringStoreProcessing[t.messageId]=!0,this.messageIdProvider.register(t.messageId)?this._sendPacket(t,void 0,void 0,!0):this.log("messageId: %d has already used.",t.messageId))):r.once("readable",o)};r.on("end",(()=>{let r=!0;for(let e in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[e]){r=!1;break}r?(n(),this.removeListener("close",i),this._invokeAllStoreProcessingQueue(),this.emit("connect",e)):t()})),o()};t()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(e,t){delete this.outgoing[e],this.outgoingStore.del({messageId:e},((r,i)=>{t(r,i),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue()}))}};e.default=_})),$n=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=jn(),r=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(e){return this.numberAllocator.use(e)}deallocate(e){this.numberAllocator.free(e)}clear(){this.numberAllocator.clear()}};e.default=r}));function qn(e){throw new RangeError(Jn[e])}function zn(e,t){let r=e.split("@"),i="";r.length>1&&(i=r[0]+"@",e=r[1]);let n=function(e,t){let r=[],i=e.length;for(;i--;)r[i]=t(e[i]);return r}((e=e.replace(Yn,".")).split("."),t).join(".");return i+n}function Kn(e){let t=[],r=0,i=e.length;for(;r<i;){let n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){let i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),r--)}else t.push(n)}return t}var Gn,Qn,Yn,Jn,Zn,Xn,eo,to,ro,io,no,oo=T((()=>{B(),kt(),ut(),Gn=/^xn--/,Qn=/[^\0-\x7E]/,Yn=/[\x2E\u3002\uFF0E\uFF61]/g,Jn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Zn=Math.floor,Xn=String.fromCharCode,eo=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},to=function(e,t,r){let i=0;for(e=r?Zn(e/700):e>>1,e+=Zn(e/t);e>455;i+=36)e=Zn(e/35);return Zn(i+36*e/(e+38))},ro=function(e){let t=[],r=e.length,i=0,n=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)e.charCodeAt(l)>=128&&qn("not-basic"),t.push(e.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let s=i;for(let t=1,n=36;;n+=36){l>=r&&qn("invalid-input");let s=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(s>=36||s>Zn((2147483647-i)/t))&&qn("overflow"),i+=s*t;let h=n<=o?1:n>=o+26?26:n-o;if(s<h)break;let u=36-h;t>Zn(2147483647/u)&&qn("overflow"),t*=u}let h=t.length+1;o=to(i-s,h,0==s),Zn(i/h)>2147483647-n&&qn("overflow"),n+=Zn(i/h),i%=h,t.splice(i++,0,n)}var a;return String.fromCodePoint(...t)},io=function(e){let t=[],r=(e=Kn(e)).length,i=128,n=0,o=72;for(let l of e)l<128&&t.push(Xn(l));let s=t.length,a=s;for(s&&t.push("-");a<r;){let r=2147483647;for(let t of e)t>=i&&t<r&&(r=t);let l=a+1;r-i>Zn((2147483647-n)/l)&&qn("overflow"),n+=(r-i)*l,i=r;for(let h of e)if(h<i&&++n>2147483647&&qn("overflow"),h==i){let e=n;for(let r=36;;r+=36){let i=r<=o?1:r>=o+26?26:r-o;if(e<i)break;let n=e-i,s=36-i;t.push(Xn(eo(i+n%s,0))),e=Zn(n/s)}t.push(Xn(eo(e,0))),o=to(n,l,a==s),n=0,++a}++n,++i}return t.join("")},no={version:"2.1.0",ucs2:{decode:Kn,encode:e=>String.fromCodePoint(...e)},decode:ro,encode:io,toASCII:function(e){return zn(e,(function(e){return Qn.test(e)?"xn--"+io(e):e}))},toUnicode:function(e){return zn(e,(function(e){return Gn.test(e)?ro(e.slice(4).toLowerCase()):e}))}},no.decode,no.encode,no.toASCII,no.toUnicode,no.ucs2,no.version}));function so(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ao,lo,ho,uo,co=T((()=>{B(),kt(),ut(),ao=function(e,t,r,i){t=t||"&",r=r||"=";var n={};if("string"!=typeof e||0===e.length)return n;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var h,u,c,f,p=e[l].replace(o,"%20"),d=p.indexOf(r);d>=0?(h=p.substr(0,d),u=p.substr(d+1)):(h=p,u=""),c=decodeURIComponent(h),f=decodeURIComponent(u),so(n,c)?Array.isArray(n[c])?n[c].push(f):n[c]=[n[c],f]:n[c]=f}return n},lo=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ho=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var n=encodeURIComponent(lo(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return n+encodeURIComponent(lo(e))})).join(t):n+encodeURIComponent(lo(e[i]))})).join(t):i?encodeURIComponent(lo(i))+r+encodeURIComponent(lo(e)):""},uo={},uo.decode=uo.parse=ao,uo.encode=uo.stringify=ho,uo.decode,uo.encode,uo.parse,uo.stringify}));function fo(){throw new Error("setTimeout has not been defined")}function po(){throw new Error("clearTimeout has not been defined")}function go(e){if(vo===setTimeout)return setTimeout(e,0);if((vo===fo||!vo)&&setTimeout)return vo=setTimeout,setTimeout(e,0);try{return vo(e,0)}catch{try{return vo.call(null,e,0)}catch{return vo.call(this||So,e,0)}}}function bo(){Co&&Io&&(Co=!1,Io.length?ko=Io.concat(ko):To=-1,ko.length&&yo())}function yo(){if(!Co){var e=go(bo);Co=!0;for(var t=ko.length;t;){for(Io=ko,ko=[];++To<t;)Io&&Io[To].run();To=-1,t=ko.length}Io=null,Co=!1,function(e){if(Eo===clearTimeout)return clearTimeout(e);if((Eo===po||!Eo)&&clearTimeout)return Eo=clearTimeout,clearTimeout(e);try{Eo(e)}catch{try{return Eo.call(null,e)}catch{return Eo.call(this||So,e)}}}(e)}}function mo(e,t){(this||So).fun=e,(this||So).array=t}function wo(){}var _o,vo,Eo,So,Ao,Io,ko,Co,To,Ro,Oo=T((()=>{B(),kt(),ut(),So=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,Ao=_o={},function(){try{vo="function"==typeof setTimeout?setTimeout:fo}catch{vo=fo}try{Eo="function"==typeof clearTimeout?clearTimeout:po}catch{Eo=po}}(),ko=[],Co=!1,To=-1,Ao.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ko.push(new mo(e,t)),1!==ko.length||Co||go(yo)},mo.prototype.run=function(){(this||So).fun.apply(null,(this||So).array)},Ao.title="browser",Ao.browser=!0,Ao.env={},Ao.argv=[],Ao.version="",Ao.versions={},Ao.on=wo,Ao.addListener=wo,Ao.once=wo,Ao.off=wo,Ao.removeListener=wo,Ao.removeAllListeners=wo,Ao.emit=wo,Ao.prependListener=wo,Ao.prependOnceListener=wo,Ao.listeners=function(e){return[]},Ao.binding=function(e){throw new Error("process.binding is not supported")},Ao.cwd=function(){return"/"},Ao.chdir=function(e){throw new Error("process.chdir is not supported")},Ao.umask=function(){return 0},Ro=_o,Ro.addListener,Ro.argv,Ro.binding,Ro.browser,Ro.chdir,Ro.cwd,Ro.emit,Ro.env,Ro.listeners,Ro.nextTick,Ro.off,Ro.on,Ro.once,Ro.prependListener,Ro.prependOnceListener,Ro.removeAllListeners,Ro.removeListener,Ro.title,Ro.umask,Ro.version,Ro.versions}));function xo(){if(Bo)return Po;Bo=!0;var e,t,r=Po={};function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch{try{return e.call(null,t,0)}catch{return e.call(this||Mo,t,0)}}}function s(e){if(t===clearTimeout)return clearTimeout(e);if((t===n||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{return t(e)}catch{try{return t.call(null,e)}catch{return t.call(this||Mo,e)}}}(function(){try{e="function"==typeof setTimeout?setTimeout:i}catch{e=i}try{t="function"==typeof clearTimeout?clearTimeout:n}catch{t=n}})();var a,l=[],h=!1,u=-1;function c(){!h||!a||(h=!1,a.length?l=a.concat(l):u=-1,l.length&&f())}function f(){if(!h){var e=o(c);h=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,h=!1,s(e)}}function p(e,t){(this||Mo).fun=e,(this||Mo).array=t}function d(){}return r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1===l.length&&!h&&o(f)},p.prototype.run=function(){(this||Mo).fun.apply(null,(this||Mo).array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},Po}var Po,Bo,Mo,Uo,Lo=T((()=>{B(),kt(),ut(),Po={},Bo=!1,Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,Uo=xo(),Uo.platform="browser",Uo.addListener,Uo.argv,Uo.binding,Uo.browser,Uo.chdir,Uo.cwd,Uo.emit,Uo.env,Uo.listeners,Uo.nextTick,Uo.off,Uo.on,Uo.once,Uo.prependListener,Uo.prependOnceListener,Uo.removeAllListeners,Uo.removeListener,Uo.title,Uo.umask,Uo.version,Uo.versions}));function jo(){if(Do)return No;Do=!0;var e=Uo;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,i="",n=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",n=0):(i=i.slice(0,l),n=i.length-1-i.lastIndexOf("/")),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",n=0,o=a,s=0;continue}t&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+e.slice(o+1,a):i=e.slice(o+1,a),n=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return i}function i(e,t){var r=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+i:r+e+i:i}var n={resolve:function(){for(var i,n="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var a;s>=0?a=arguments[s]:(void 0===i&&(i=e.cwd()),a=i),t(a),0!==a.length&&(n=a+"/"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return e=r(e,!i),0===e.length&&!i&&(e="."),e.length>0&&n&&(e+="/"),i?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e),r=n.resolve(r),e===r))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var l=r.length,h=l-a,u=s<h?s:h,c=-1,f=0;f<=u;++f){if(f===u){if(h>u){if(47===r.charCodeAt(a+f))return r.slice(a+f+1);if(0===f)return r.slice(a+f)}else s>u&&(47===e.charCodeAt(i+f)?c=f:0===f&&(c=0));break}var p=e.charCodeAt(i+f),d=r.charCodeAt(a+f);if(p!==d)break;47===p&&(c=f)}var g="";for(f=i+c+1;f<=o;++f)(f===o||47===e.charCodeAt(f))&&(0===g.length?g+="..":g+="/..");return g.length>0?g+r.slice(a+c):(a+=c,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),i=47===r,n=-1,o=!0,s=e.length-1;s>=1;--s)if(r=e.charCodeAt(s),47===r){if(!o){n=s;break}}else o=!1;return-1===n?i?"/":".":i&&1===n?"//":e.slice(0,n)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var i,n=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,l=-1;for(i=e.length-1;i>=0;--i){var h=e.charCodeAt(i);if(47===h){if(!s){n=i+1;break}}else-1===l&&(s=!1,l=i+1),a>=0&&(h===r.charCodeAt(a)?-1===--a&&(o=i):(a=-1,o=l))}return n===o?o=l:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname:function(e){t(e);for(var r=-1,i=0,n=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===n&&(o=!1,n=a+1),46===l?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){i=a+1;break}}return-1===r||-1===n||0===s||1===s&&r===n-1&&r===i+1?"":e.slice(r,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return i("/",e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var i,n=e.charCodeAt(0),o=47===n;o?(r.root="/",i=1):i=0;for(var s=-1,a=0,l=-1,h=!0,u=e.length-1,c=0;u>=i;--u)if(n=e.charCodeAt(u),47!==n)-1===l&&(h=!1,l=u+1),46===n?-1===s?s=u:1!==c&&(c=1):-1!==s&&(c=-1);else if(!h){a=u+1;break}return-1===s||-1===l||0===c||1===c&&s===l-1&&s===a+1?-1!==l&&(r.base=r.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(r.name=e.slice(1,s),r.base=e.slice(1,l)):(r.name=e.slice(a,s),r.base=e.slice(a,l)),r.ext=e.slice(s,l)),a>0?r.dir=e.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,No=n,No}var No,Do,Fo,Wo=T((()=>{B(),kt(),ut(),Lo(),No={},Do=!1,Fo=jo()})),Ho={};function Vo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function $o(e,t,r){if(e&&rs.isObject(e)&&e instanceof Vo)return e;var i=new Vo;return i.parse(e,t,r),i}function qo(){if(ys)return bs;ys=!0;var e=Ro;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,i="",n=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",n=0):(i=i.slice(0,l),n=i.length-1-i.lastIndexOf("/")),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",n=0,o=a,s=0;continue}t&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+e.slice(o+1,a):i=e.slice(o+1,a),n=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return i}function i(e,t){var r=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+i:r+e+i:i}var n={resolve:function(){for(var i,n="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var a;s>=0?a=arguments[s]:(void 0===i&&(i=e.cwd()),a=i),t(a),0!==a.length&&(n=a+"/"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return e=r(e,!i),0===e.length&&!i&&(e="."),e.length>0&&n&&(e+="/"),i?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e),r=n.resolve(r),e===r))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var l=r.length,h=l-a,u=s<h?s:h,c=-1,f=0;f<=u;++f){if(f===u){if(h>u){if(47===r.charCodeAt(a+f))return r.slice(a+f+1);if(0===f)return r.slice(a+f)}else s>u&&(47===e.charCodeAt(i+f)?c=f:0===f&&(c=0));break}var p=e.charCodeAt(i+f),d=r.charCodeAt(a+f);if(p!==d)break;47===p&&(c=f)}var g="";for(f=i+c+1;f<=o;++f)(f===o||47===e.charCodeAt(f))&&(0===g.length?g+="..":g+="/..");return g.length>0?g+r.slice(a+c):(a+=c,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),i=47===r,n=-1,o=!0,s=e.length-1;s>=1;--s)if(r=e.charCodeAt(s),47===r){if(!o){n=s;break}}else o=!1;return-1===n?i?"/":".":i&&1===n?"//":e.slice(0,n)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var i,n=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,l=-1;for(i=e.length-1;i>=0;--i){var h=e.charCodeAt(i);if(47===h){if(!s){n=i+1;break}}else-1===l&&(s=!1,l=i+1),a>=0&&(h===r.charCodeAt(a)?-1===--a&&(o=i):(a=-1,o=l))}return n===o?o=l:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname:function(e){t(e);for(var r=-1,i=0,n=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===n&&(o=!1,n=a+1),46===l?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){i=a+1;break}}return-1===r||-1===n||0===s||1===s&&r===n-1&&r===i+1?"":e.slice(r,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return i("/",e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var i,n=e.charCodeAt(0),o=47===n;o?(r.root="/",i=1):i=0;for(var s=-1,a=0,l=-1,h=!0,u=e.length-1,c=0;u>=i;--u)if(n=e.charCodeAt(u),47!==n)-1===l&&(h=!1,l=u+1),46===n?-1===s?s=u:1!==c&&(c=1):-1!==s&&(c=-1);else if(!h){a=u+1;break}return-1===s||-1===l||0===c||1===c&&s===l-1&&s===a+1?-1!==l&&(r.base=r.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(r.name=e.slice(1,s),r.base=e.slice(1,l)):(r.name=e.slice(a,s),r.base=e.slice(a,l)),r.ext=e.slice(s,l)),a>0?r.dir=e.slice(0,a-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,bs=n,bs}function zo(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return As?Ko(e):Go(e)}function Ko(e){let t=e.hostname,r=e.pathname;for(let i=0;i<r.length;i++)if("%"===r[i]){let e=r.codePointAt(i+2)||32;if("2"===r[i+1]&&102===e||"5"===r[i+1]&&99===e)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Is,"\\"),r=decodeURIComponent(r),""!==t)return`\\\\${t}${r}`;{let e=32|r.codePointAt(1),t=r[2];if(e<Es||e>Ss||":"!==t)throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Go(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if("%"===t[r]){let e=t.codePointAt(r+2)||32;if("2"===t[r+1]&&102===e)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Qo(e){let t=ms.resolve(e),r=e.charCodeAt(e.length-1);(r===vs||As&&r===_s)&&t[t.length-1]!==ms.sep&&(t+="/");let i=new URL("file://");return t.includes("%")&&(t=t.replace(ks,"%25")),!As&&t.includes("\\")&&(t=t.replace(Cs,"%5C")),t.includes("\n")&&(t=t.replace(Ts,"%0A")),t.includes("\r")&&(t=t.replace(Rs,"%0D")),t.includes("\t")&&(t=t.replace(Os,"%09")),i.pathname=t,i}function Yo(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return Hs?Jo(e):Zo(e)}function Jo(e){let t=e.hostname,r=e.pathname;for(let i=0;i<r.length;i++)if("%"===r[i]){let e=r.codePointAt(i+2)||32;if("2"===r[i+1]&&102===e||"5"===r[i+1]&&99===e)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Vs,"\\"),r=decodeURIComponent(r),""!==t)return`\\\\${t}${r}`;{let e=32|r.codePointAt(1),t=r[2];if(e<Fs||e>Ws||":"!==t)throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Zo(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if("%"===t[r]){let e=t.codePointAt(r+2)||32;if("2"===t[r+1]&&102===e)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Xo(e){let t=Fo.resolve(e),r=e.charCodeAt(e.length-1);(r===Ds||Hs&&r===Ns)&&t[t.length-1]!==Fo.sep&&(t+="/");let i=new URL("file://");return t.includes("%")&&(t=t.replace($s,"%25")),!Hs&&t.includes("\\")&&(t=t.replace(qs,"%5C")),t.includes("\n")&&(t=t.replace(zs,"%0A")),t.includes("\r")&&(t=t.replace(Ks,"%0D")),t.includes("\t")&&(t=t.replace(Gs,"%09")),i.pathname=t,i}O(Ho,{URL:()=>js,Url:()=>Ps,default:()=>es,fileURLToPath:()=>Yo,format:()=>Bs,parse:()=>Ls,pathToFileURL:()=>Xo,resolve:()=>Ms,resolveObject:()=>Us});var es,ts,rs,is,ns,os,ss,as,ls,hs,us,cs,fs,ps,ds,gs,bs,ys,ms,ws,_s,vs,Es,Ss,As,Is,ks,Cs,Ts,Rs,Os,xs,Ps,Bs,Ms,Us,Ls,js,Ns,Ds,Fs,Ws,Hs,Vs,$s,qs,zs,Ks,Gs,Qs=T((()=>{B(),kt(),ut(),oo(),co(),Oo(),Wo(),Lo(),es={},ts=no,rs={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},es.parse=$o,es.resolve=function(e,t){return $o(e,!1,!0).resolve(t)},es.resolveObject=function(e,t){return e?$o(e,!1,!0).resolveObject(t):t},es.format=function(e){return rs.isString(e)&&(e=$o(e)),e instanceof Vo?e.format():Vo.prototype.format.call(e)},es.Url=Vo,is=/^([a-z0-9.+-]+:)/i,ns=/:[0-9]*$/,os=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ss=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),as=["'"].concat(ss),ls=["%","/","?",";","#"].concat(as),hs=["/","?","#"],us=/^[+a-z0-9A-Z_-]{0,63}$/,cs=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,fs={javascript:!0,"javascript:":!0},ps={javascript:!0,"javascript:":!0},ds={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},gs=uo,Vo.prototype.parse=function(e,t,r){if(!rs.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),n=-1!==i&&i<e.indexOf("#")?"?":"#",o=e.split(n);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(n);if(s=s.trim(),!r&&1===e.split("#").length){var a=os.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?gs.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=is.exec(s);if(l){var h=(l=l[0]).toLowerCase();this.protocol=h,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===s.substr(0,2);!u||l&&ps[l]||(s=s.substr(2),this.slashes=!0)}if(!ps[l]&&(u||l&&!ds[l])){for(var c,f,p=-1,d=0;d<hs.length;d++)-1!==(g=s.indexOf(hs[d]))&&(-1===p||g<p)&&(p=g);for(-1!==(f=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(c=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(c)),p=-1,d=0;d<ls.length;d++){var g;-1!==(g=s.indexOf(ls[d]))&&(-1===p||g<p)&&(p=g)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!b)for(var y=this.hostname.split(/\./),m=(d=0,y.length);d<m;d++){var w=y[d];if(w&&!w.match(us)){for(var _="",v=0,E=w.length;v<E;v++)w.charCodeAt(v)>127?_+="x":_+=w[v];if(!_.match(us)){var S=y.slice(0,d),A=y.slice(d+1),I=w.match(cs);I&&(S.push(I[1]),A.unshift(I[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=ts.toASCII(this.hostname));var k=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+k,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!fs[h])for(d=0,m=as.length;d<m;d++){var T=as[d];if(-1!==s.indexOf(T)){var R=encodeURIComponent(T);R===T&&(R=escape(T)),s=s.split(T).join(R)}}var O=s.indexOf("#");-1!==O&&(this.hash=s.substr(O),s=s.slice(0,O));var x=s.indexOf("?");if(-1!==x?(this.search=s.substr(x),this.query=s.substr(x+1),t&&(this.query=gs.parse(this.query)),s=s.slice(0,x)):t&&(this.search="",this.query={}),s&&(this.pathname=s),ds[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var P=this.search||"";this.path=k+P}return this.href=this.format(),this},Vo.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&rs.isObject(this.query)&&Object.keys(this.query).length&&(o=gs.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||ds[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+n+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},Vo.prototype.resolve=function(e){return this.resolveObject($o(e,!1,!0)).format()},Vo.prototype.resolveObject=function(e){if(rs.isString(e)){var t=new Vo;t.parse(e,!1,!0),e=t}for(var r=new Vo,i=Object.keys(this),n=0;n<i.length;n++){var o=i[n];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(r[l]=e[l])}return ds[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!ds[e.protocol]){for(var h=Object.keys(e),u=0;u<h.length;u++){var c=h[u];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||ps[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",d=r.search||"";r.path=p+d}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=b||g||r.host&&e.pathname,m=y,w=r.pathname&&r.pathname.split("/")||[],_=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!ds[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),y=y&&(""===f[0]||""===w[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),r.search=e.search,r.query=e.query;else if(!rs.isNullOrUndefined(e.search))return _&&(r.hostname=r.host=w.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=e.search,r.query=e.query,rs.isNull(r.pathname)&&rs.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var v=w.slice(-1)[0],E=(r.host||e.host||w.length>1)&&("."===v||".."===v)||""===v,S=0,A=w.length;A>=0;A--)"."===(v=w[A])?w.splice(A,1):".."===v?(w.splice(A,1),S++):S&&(w.splice(A,1),S--);if(!y&&!m)for(;S--;S)w.unshift("..");!y||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var I,k=""===w[0]||w[0]&&"/"===w[0].charAt(0);return _&&(r.hostname=r.host=k?"":w.length?w.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(y=y||r.host&&w.length)&&!k&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),rs.isNull(r.pathname)&&rs.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Vo.prototype.parseHost=function(){var e=this.host,t=ns.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},es.Url,es.format,es.resolve,es.resolveObject,bs={},ys=!1,ms=qo(),ws=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,es.URL=typeof URL<"u"?URL:null,es.pathToFileURL=Qo,es.fileURLToPath=zo,es.Url,es.format,es.resolve,es.resolveObject,es.URL,_s=92,vs=47,Es=97,Ss=122,As="win32"===ws,Is=/\//g,ks=/%/g,Cs=/\\/g,Ts=/\n/g,Rs=/\r/g,Os=/\t/g,xs=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,es.URL=typeof URL<"u"?URL:null,es.pathToFileURL=Xo,es.fileURLToPath=Yo,Ps=es.Url,Bs=es.format,Ms=es.resolve,Us=es.resolveObject,Ls=es.parse,js=es.URL,Ns=92,Ds=47,Fs=97,Ws=122,Hs="win32"===xs,Vs=/\//g,$s=/%/g,qs=/\\/g,zs=/\n/g,Ks=/\r/g,Gs=/\t/g})),Ys=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t=()=>typeof window<"u"&&typeof window.document<"u",r=()=>{var e,t;return!("object"!=typeof self||null===(t=null===(e=self?.constructor)||void 0===e?void 0:e.name)||void 0===t||!t.includes("WorkerGlobalScope"))},i=()=>typeof navigator<"u"&&"ReactNative"===navigator.product,n=t()||r()||i();e.default=n})),Js={};function Zs(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}O(Js,{Server:()=>Zs,Socket:()=>Zs,Stream:()=>Zs,_createServerHandle:()=>Zs,_normalizeArgs:()=>Zs,_setSimultaneousAccepts:()=>Zs,connect:()=>Zs,createConnection:()=>Zs,createServer:()=>Zs,default:()=>Xs,isIP:()=>Zs,isIPv4:()=>Zs,isIPv6:()=>Zs});var Xs,ea=T((()=>{B(),kt(),ut(),Xs={_createServerHandle:Zs,_normalizeArgs:Zs,_setSimultaneousAccepts:Zs,connect:Zs,createConnection:Zs,createServer:Zs,isIP:Zs,isIPv4:Zs,isIPv6:Zs,Server:Zs,Socket:Zs,Stream:Zs}})),ta=R((e=>{B(),kt(),ut();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((ea(),P(Js))),i=t(Ji()),n=(0,i.default)("mqttjs:tcp"),o=(e,t)=>{t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost";let{port:i}=t,o=t.hostname;return n("port %d and host %s",i,o),r.default.createConnection(i,o)};e.default=o})),ra={};O(ra,{default:()=>ia});var ia,na=T((()=>{B(),kt(),ut(),ia={}})),oa=R((e=>{B(),kt(),ut();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((na(),P(ra))),i=t((ea(),P(Js))),n=t(Ji()),o=(0,n.default)("mqttjs:tls"),s=(e,t)=>{t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===i.default.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,o("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);let n=r.default.connect(t);function s(r){t.rejectUnauthorized&&e.emit("error",r),n.end()}return n.on("secureConnect",(()=>{t.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",s)})),n.on("error",s),n};e.default=s})),sa=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var t=Vi();function r(e,t){let r=new Array(e.length);for(let i=0;i<e.length;i++)"string"==typeof e[i].chunk?r[i]=Et.from(e[i].chunk,"utf8"):r[i]=e[i].chunk;this._write(Et.concat(r),"binary",t)}e.writev=r;var i=class extends t.Duplex{constructor(e,t,i){super({objectMode:!0}),this.proxy=t,this.socket=i,this.writeQueue=[],e.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",(e=>{this.push(e)}))}_read(e){this.proxy.read(e)}_write(e,t,r){this.isSocketOpen?this.writeToProxy(e,t,r):this.writeQueue.push({chunk:e,encoding:t,cb:r})}_final(e){this.writeQueue=[],this.proxy.end(e)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(e,t,r){!1===this.proxy.write(e,t)?this.proxy.once("drain",r):r()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:t,cb:r}=this.writeQueue.shift();this.writeToProxy(e,t,r)}}};e.BufferedDuplex=i})),aa=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t,r,i,n=(It(),P(ct)),o=Vi(),s=sa();function a(){let e=new o.Transform;return e._write=(e,r,i)=>{t.send({data:e.buffer,success(){i()},fail(e){i(new Error(e))}})},e._flush=e=>{t.close({success(){e()}})},e}function l(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}function h(e,t){let r="wxs"===e.protocol?"wss":"ws",i=`${r}://${e.hostname}${e.path}`;return e.port&&80!==e.port&&443!==e.port&&(i=`${r}://${e.hostname}:${e.port}${e.path}`),"function"==typeof e.transformWsUrl&&(i=e.transformWsUrl(i,e,t)),i}function u(){t.onOpen((()=>{i.socketReady()})),t.onMessage((e=>{let{data:t}=e;t=t instanceof ArrayBuffer?n.Buffer.from(t):n.Buffer.from(t,"utf8"),r.push(t)})),t.onClose((()=>{i.emit("close"),i.end(),i.destroy()})),t.onError((e=>{let t=new Error(e.errMsg);i.destroy(t)}))}var c=(e,n)=>{if(n.hostname=n.hostname||n.host,!n.hostname)throw new Error("Could not determine host. Specify host manually.");let o="MQIsdp"===n.protocolId&&3===n.protocolVersion?"mqttv3.1":"mqtt";l(n);let c=h(n,e);t=wx.connectSocket({url:c,protocols:[o]}),r=a(),i=new s.BufferedDuplex(n,r,t),i._destroy=(e,r)=>{t.close({success(){r&&r(e)}})};let f=i.destroy;return i.destroy=(e,r)=>(i.destroy=f,setTimeout((()=>{t.close({fail(){i._destroy(e,r)}})}),0),i),u(),i};e.default=c})),la=R((e=>{B(),kt(),ut(),Object.defineProperty(e,"__esModule",{value:!0});var t,r,i,n=(It(),P(ct)),o=Vi(),s=sa(),a=!1;function l(){let e=new o.Transform;return e._write=(e,r,i)=>{t.sendSocketMessage({data:e.buffer,success(){i()},fail(){i(new Error)}})},e._flush=e=>{t.closeSocket({success(){e()}})},e}function h(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}function u(e,t){let r="alis"===e.protocol?"wss":"ws",i=`${r}://${e.hostname}${e.path}`;return e.port&&80!==e.port&&443!==e.port&&(i=`${r}://${e.hostname}:${e.port}${e.path}`),"function"==typeof e.transformWsUrl&&(i=e.transformWsUrl(i,e,t)),i}function c(){a||(a=!0,t.onSocketOpen((()=>{i.socketReady()})),t.onSocketMessage((e=>{if("string"==typeof e.data){let t=n.Buffer.from(e.data,"base64");r.push(t)}else{let t=new FileReader;t.addEventListener("load",(()=>{let e=t.result;e=e instanceof ArrayBuffer?n.Buffer.from(e):n.Buffer.from(e,"utf8"),r.push(e)})),t.readAsArrayBuffer(e.data)}})),t.onSocketClose((()=>{i.end(),i.destroy()})),t.onSocketError((e=>{i.destroy(e)})))}var f=(e,n)=>{if(n.hostname=n.hostname||n.host,!n.hostname)throw new Error("Could not determine host. Specify host manually.");let o="MQIsdp"===n.protocolId&&3===n.protocolVersion?"mqttv3.1":"mqtt";h(n);let a=u(n,e);return t=n.my,t.connectSocket({url:a,protocols:o}),r=l(),i=new s.BufferedDuplex(n,r,t),c(),i};e.default=f})),ha=R(((e,t)=>{B(),kt(),ut(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}})),ua=R((e=>{B(),kt(),ut();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var r=(It(),P(ct)),i=t(ha()),n=t(Ji()),o=Vi(),s=t(Ys()),a=sa(),l=(0,n.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function u(e,t){let r=`${e.protocol}://${e.hostname}:${e.port}${e.path}`;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function c(e){let t=e;return e.hostname||(t.hostname="localhost"),e.port||("wss"===e.protocol?t.port=443:t.port=80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),!s.default&&"wss"===e.protocol&&h.forEach((r=>{Object.prototype.hasOwnProperty.call(e,r)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,r)&&(t.wsOptions[r]=e[r])})),t}function f(e){let t=c(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=Number(e.port))}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}function p(e,t,r){l("createWebSocket"),l(`protocol: ${r.protocolId} ${r.protocolVersion}`);let n,o="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return l(`creating new Websocket for url: ${t} and protocol: ${o}`),n=r.createWebsocket?r.createWebsocket(t,[o],r):new i.default(t,[o],r.wsOptions),n}function d(e,t){let r,i="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",n=u(t,e);return r=t.createWebsocket?t.createWebsocket(n,[i],t):new WebSocket(n,[i]),r.binaryType="arraybuffer",r}var g=(e,t)=>{l("streamBuilder");let r=c(t),n=u(r,e),o=p(e,n,r),s=i.default.createWebSocketStream(o,r.wsOptions);return s.url=n,o.on("close",(()=>{s.destroy()})),s},b=(e,t)=>{l("browserStreamBuilder");let i,n=f(t).browserBufferSize||524288,s=t.browserBufferTimeout||1e3,h=!t.objectMode,u=d(e,t),c=g(t,_,v);t.objectMode||(c._writev=a.writev.bind(c)),c.on("close",(()=>{u.close()}));let p=typeof u.addEventListener<"u";function g(e,t,r){let i=new o.Transform({objectMode:e.objectMode});return i._write=t,i._flush=r,i}function b(){l("WebSocket onOpen"),i instanceof a.BufferedDuplex&&i.socketReady()}function y(e){l("WebSocket onClose",e),i.end(),i.destroy()}function m(e){l("WebSocket onError",e);let t=new Error("WebSocket error");t.event=e,i.destroy(t)}function w(e){let{data:t}=e;t=t instanceof ArrayBuffer?r.Buffer.from(t):r.Buffer.from(t,"utf8"),c.push(t)}function _(e,t,i){if(u.bufferedAmount>n)setTimeout(_,s,e,t,i);else{h&&"string"==typeof e&&(e=r.Buffer.from(e,"utf8"));try{u.send(e)}catch(o){return i(o)}i()}}function v(e){u.close(),e()}return u.readyState===u.OPEN?(i=c,i.socket=u):(i=new a.BufferedDuplex(t,c,u),p?u.addEventListener("open",b):u.onopen=b),p?(u.addEventListener("close",y),u.addEventListener("error",m),u.addEventListener("message",w)):(u.onclose=y,u.onerror=m,u.onmessage=w),i};e.default=s.default?b:g})),ca=R((e=>{B(),kt(),ut();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var r=t(Ji()),i=t((Qs(),P(Ho))),n=t(Vn()),o=t(Ys()),s=(0,r.default)("mqttjs"),a={};function l(e){let t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}function h(e,t){if(s("connecting to an MQTT broker..."),"object"==typeof e&&!t&&(t=e,e=""),t=t||{},e&&"string"==typeof e){let r=i.default.parse(e,!0);if(null!=r.port&&(r.port=Number(r.port)),t=Object.assign(Object.assign({},r),t),null===t.protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(l(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${t.protocol}"!`)}}if(!a[t.protocol]){let e=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(((t,r)=>(!e||r%2!==0)&&"function"==typeof a[t]))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");function r(e){return t.servers&&((!e._reconnectCount||e._reconnectCount===t.servers.length)&&(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),s("calling streambuilder for",t.protocol),a[t.protocol](e,t)}t.protocol&&(t.defaultProtocol=t.protocol);let o=new n.default(r,t);return o.on("error",(()=>{})),o}function u(e,t,r=!0){return new Promise(((i,n)=>{let o=h(e,t),s={connect:e=>{a(),i(o)},end:()=>{a(),i(o)},error:e=>{a(),o.end(),n(e)}};function a(){Object.keys(s).forEach((e=>{o.off(e,s[e])}))}!1===r&&(s.close=()=>{s.error(new Error("Couldn't connect to server"))}),Object.keys(s).forEach((e=>{o.on(e,s[e])}))}))}o.default?(a.wx=aa().default,a.wxs=aa().default,a.ali=la().default,a.alis=la().default):(a.mqtt=ta().default,a.tcp=ta().default,a.ssl=oa().default,a.tls=a.ssl,a.mqtts=oa().default),a.ws=ua().default,a.wss=ua().default,e.connectAsync=u,e.default=h})),fa=R((e=>{B(),kt(),ut();var t=e&&e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&t(i,e,n);return r(i,e),i},n=e&&e.__exportStar||function(e,r){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(r,i)&&t(r,e,i)},o=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var s=o(Vn());e.MqttClient=s.default;var a=o(on());e.DefaultMessageIdProvider=a.default;var l=o($n());e.UniqueMessageIdProvider=l.default;var h=o(un());e.Store=h.default;var u=i(ca());e.connect=u.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}}),e.Client=s.default,n(Vn(),e),n(fn(),e);var c=pn();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return c.ReasonCodes}})})),pa=R((e=>{B(),kt(),ut();var t=e&&e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),r=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&t(i,e,n);return r(i,e),i},n=e&&e.__exportStar||function(e,r){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(r,i)&&t(r,e,i)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(fa());e.default=o,n(fa(),e)})),da=pa(),ga={name:"HealthEdit",data(){return{health:{}}},methods:{editHealth(){return this.health.bloodPressure&&this.health.oxygen&&this.health.temperature&&this.health.heartRate?(0,S.Z)({method:"post",url:"http://localhost:3000/api/v1/healths",headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")},data:this.health}):(alert("กรุณากรอกข้อมูลให้ครบถ้วน"),Promise.reject("กรุณากรอกข้อมูลให้ครบถ้วน"))}},mounted(){const e=da.connect("ws://localhost:8883");e.on("connect",((t,r)=>{e.subscribe("pulseSenser"),console.log("MQTT Connected")})),e.on("message",((e,t)=>{this.health.heartRate=t.toString(),console.log(t.toString())}))}},ba=r(3744);const ya=(0,ba.Z)(ga,[["render",E]]);var ma=ya,wa=r(3577);const _a={class:"flex flex-col items-center mx-auto"},va=(0,i._)("h1",{class:"flex justify-center font-bold text-lg text-[#140A4B] mt-4"},"บันทึกสุขภาพ",-1),Ea={key:0,class:"flex justify-center font-bold text-lg text-[#140A4B] mt-4"},Sa={key:1,class:"flex justify-center font-bold text-lg text-[#140A4B] mt-4"},Aa={class:"grid w-full grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-2 mt-2"},Ia={key:0,class:"boxs flex flex-col items-center gap-1 px-8 py-10 bg-[#ffffff] rounded-3xl hover:shadow shadow-main mt-4 border-2 border-[#D9D9D9]"},ka={class:"flex text-xl text-[#303030] space-x-4"},Ca={style:{"enable-background":"new 0 0 50 50"},version:"1.1",viewBox:"0 0 50 50","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"45","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ta=(0,i._)("g",{id:"Layer_1"},[(0,i._)("polygon",{points:"36.942,29.648 30.051,2.081 20.09,37.941 14.175,12.312 10.279,24 1,24 1,26 11.721,26 13.825,19.688    19.91,46.059 29.949,9.919 37.058,38.352 39.802,26 49,26 49,24 38.198,24  "})],-1),Ra=[Ta],Oa={class:"text-lg"},xa={key:1,class:"flex flex-col items-center gap-3 px-8 py-10 bg-[#ffffff] mt-4 rounded-3xl hover:shadow shadow-main border-2 border-[#D9D9D9]"},Pa=(0,i._)("p",{class:"flex text-xl text-[#303030]"},[(0,i.Uk)("ปริมาณออกซิเจนในเลือด"),(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",class:"svg",id:"heal"},[(0,i._)("path",{fill:"#000","fill-rule":"evenodd",d:"M6.55814 9.79992C6.55814 8.9899 7.18286 8.33325 7.95349 8.33325H10C10.7706 8.33325 11.3953 8.9899 11.3953 9.79992V12.6355C11.3953 12.9055 11.6036 13.1244 11.8605 13.1244H14.5581C15.3288 13.1244 15.9535 13.781 15.9535 14.591V16.7421C15.9535 17.5522 15.3288 18.2088 14.5581 18.2088H11.8605C11.6036 18.2088 11.3953 18.4277 11.3953 18.6977V21.5333C11.3953 22.3433 10.7706 22.9999 10 22.9999H7.95349C7.18286 22.9999 6.55814 22.3433 6.55814 21.5333V18.6977C6.55814 18.4277 6.3499 18.2088 6.09302 18.2088H3.39535C2.62472 18.2088 2 17.5522 2 16.7421V14.591C2 13.781 2.62472 13.1244 3.39535 13.1244H6.09302C6.3499 13.1244 6.55814 12.9055 6.55814 12.6355V9.79992zM7.95349 9.31103C7.69661 9.31103 7.48837 9.52991 7.48837 9.79992V12.6355C7.48837 13.4455 6.86365 14.1021 6.09302 14.1021H3.39535C3.13847 14.1021 2.93023 14.321 2.93023 14.591V16.7421C2.93023 17.0121 3.13847 17.231 3.39535 17.231H6.09302C6.86365 17.231 7.48837 17.8877 7.48837 18.6977V21.5333C7.48837 21.8033 7.69661 22.0221 7.95349 22.0221H10C10.2569 22.0221 10.4651 21.8033 10.4651 21.5333V18.6977C10.4651 17.8877 11.0898 17.231 11.8605 17.231H14.5581C14.815 17.231 15.0233 17.0121 15.0233 16.7421V14.591C15.0233 14.321 14.815 14.1021 14.5581 14.1021H11.8605C11.0898 14.1021 10.4651 13.4455 10.4651 12.6355V9.79992C10.4651 9.52991 10.2569 9.31103 10 9.31103H7.95349zM17.4419 6.37768C17.4419 5.83767 17.8584 5.3999 18.3721 5.3999H19.1163C19.6301 5.3999 20.0465 5.83767 20.0465 6.37768V7.45324H21.0697C21.5834 7.45324 21.9999 7.89101 21.9999 8.43102V9.21324C21.9999 9.75326 21.5834 10.191 21.0697 10.191H20.0465V11.2666C20.0465 11.8066 19.6301 12.2443 19.1163 12.2443H18.3721C17.8584 12.2443 17.4419 11.8066 17.4419 11.2666V10.191H16.4185C15.9048 10.191 15.4883 9.75326 15.4883 9.21324V8.43102C15.4883 7.89101 15.9048 7.45324 16.4185 7.45324H17.4419V6.37768zM19.1163 6.37768H18.3721V7.45324C18.3721 7.99326 17.9556 8.43102 17.4419 8.43102L16.4185 8.43102V9.21324H17.4419C17.9556 9.21324 18.3721 9.65101 18.3721 10.191V11.2666H19.1163V10.191C19.1163 9.65101 19.5328 9.21324 20.0465 9.21324L21.0697 9.21324V8.43102H20.0465C19.5328 8.43102 19.1163 7.99326 19.1163 7.45324L19.1163 6.37768zM11.3955 1.97778C11.3955 1.43777 11.812 1 12.3257 1H13.0699C13.5837 1 14.0002 1.43777 14.0002 1.97778V3.05334H15.0233C15.537 3.05334 15.9535 3.49111 15.9535 4.03112V4.81334C15.9535 5.35335 15.537 5.79112 15.0233 5.79112H14.0002V6.86667C14.0002 7.40668 13.5837 7.84444 13.0699 7.84444H12.3257C11.812 7.84444 11.3955 7.40668 11.3955 6.86667V5.79112H10.3721C9.85837 5.79112 9.44189 5.35335 9.44189 4.81334V4.03112C9.44189 3.49111 9.85837 3.05334 10.3721 3.05334H11.3955V1.97778zM13.0699 1.97778H12.3257V3.05334C12.3257 3.59335 11.9093 4.03112 11.3955 4.03112L10.3721 4.03112V4.81334H11.3955C11.9093 4.81334 12.3257 5.25111 12.3257 5.79112V6.86667H13.0699V5.79112C13.0699 5.25111 13.4864 4.81334 14.0002 4.81334L15.0233 4.81334V4.03112H14.0002C13.4864 4.03112 13.0699 3.59335 13.0699 3.05334L13.0699 1.97778z","clip-rule":"evenodd"})])],-1),Ba={class:"text-lg"},Ma={key:2,class:"flex flex-col items-center gap-3 px-8 py-10 bg-[#ffffff] mt-4 rounded-3xl hover:shadow shadow-main border-2 border-[#D9D9D9]"},Ua=(0,i.uE)('<p class="flex text-xl text-[#303030]">ค่าอุณภูมิร่างกาย<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="svg" id="tem"><path d="M57.5 45H65v5h-7.5z"></path><path d="M50 5c-8.284 0-15 6.716-15 15v41.802c-3.103 3.524-5 8.134-5 13.198 0 11.046 8.954 20 20 20 .36 0 .723-.01 1.087-.029 10.33-.547 18.674-9.169 18.908-19.511.119-5.245-1.798-10.028-4.995-13.658V55h-7.5v9.633l1.871 2.125a12.456 12.456 0 0 1 3.125 8.532c-.144 6.385-5.441 11.854-11.806 12.191-.23.013-.461.019-.69.019-6.893 0-12.5-5.607-12.5-12.5a12.47 12.47 0 0 1 3.129-8.242l1.871-2.125V20c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5H65c0-8.284-6.716-15-15-15z"></path><path d="M57.5 35H65v5h-7.5zM57.5 25H65v5h-7.5zM47.5 35v32.938c-2.908 1.033-5 3.804-5 7.063 0 4.136 3.364 7.5 7.5 7.5s7.5-3.364 7.5-7.5c0-3.258-2.092-6.03-5-7.063V35h-5z"></path></svg></p>',1),La={class:"text-lg"},ja={key:3,class:"flex flex-col items-center gap-3 px-8 py-10 bg-[#ffffff] mt-4 rounded-3xl hover:shadow shadow-main border-2 border-[#D9D9D9]"},Na=(0,i.uE)('<p class="flex text-xl text-[#303030]">อัตราการเต้นของหัวใจ<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="svg" id="heart"><g data-name="Layer 26"><path d="M24 27a1 1 0 0 1-.92-.68L19.7 16.26l-2.87 4.29A1 1 0 0 1 16 21H3a1 1 0 0 1 0-2h12.46l3.71-5.55a1 1 0 0 1 1-.44 1 1 0 0 1 .82.67l3.14 9.41 3-7.46A1 1 0 0 1 28 15a1 1 0 0 1 .93.65l1.87 5 .22-.88A1 1 0 0 1 32 19h13a1 1 0 0 1 0 2H32.78L32 24.24a1 1 0 0 1-1.91.11L28 18.77l-3 7.6a1 1 0 0 1-1 .63Z"></path><path d="M4.9 17a1 1 0 0 0 .92-.83 10.18 10.18 0 0 1 2.9-5.8 10.59 10.59 0 0 1 12.8-1.57 7.89 7.89 0 0 1 1.76 1.56 1 1 0 0 0 1.44 0 7.89 7.89 0 0 1 1.76-1.56 10.59 10.59 0 0 1 12.8 1.57 10.18 10.18 0 0 1 2.9 5.8 1 1 0 0 0 .92.83h.15a.93.93 0 0 0 .92-1.07A12.3 12.3 0 0 0 24 8.3a12.3 12.3 0 0 0-20.17 7.63.93.93 0 0 0 .92 1.07zm36.44 6a1 1 0 0 0-.83.45C41 23.45 24.35 39.8 24 40.23c-.39-.47-17-16.74-16.51-16.78a1 1 0 0 0-.83-.45 1 1 0 0 0-.83 1.58c-.65-.09 17 17.28 17.46 17.77a1 1 0 0 0 1.42 0c.46-.54 18-17.8 17.46-17.77a1 1 0 0 0-.83-1.58z"></path></g></svg></p>',1),Da={class:"text-lg"};function Fa(e,t,r,n,o,s){return(0,i.wg)(),(0,i.iD)("div",_a,[va,0===Object.keys(o.health).length?((0,i.wg)(),(0,i.iD)("h1",Ea,"ยังไม่มีการจัดเก็บข้อมูลสุขภาพของผู้ใช้งาน")):(0,i.kq)("",!0),Object.keys(o.health).length>0?((0,i.wg)(),(0,i.iD)("h1",Sa,"ตรวจสุขภาพล่าสุดเมื่อ : "+(0,wa.zw)(s.formatDate(o.healthupdate)),1)):(0,i.kq)("",!0),(0,i._)("div",Aa,[Object.keys(o.health).length>0?((0,i.wg)(),(0,i.iD)("div",Ia,[(0,i._)("div",ka,[(0,i.Uk)("ความดันโลหิต "),((0,i.wg)(),(0,i.iD)("svg",Ca,Ra))]),(0,i._)("span",null,[(0,i._)("p",Oa,(0,wa.zw)(o.health.bloodPressure)+" mmHg ",1)])])):(0,i.kq)("",!0),Object.keys(o.health).length>0?((0,i.wg)(),(0,i.iD)("div",xa,[Pa,(0,i._)("span",null,[(0,i._)("p",Ba,(0,wa.zw)(o.health.oxygen)+" % ",1)])])):(0,i.kq)("",!0),Object.keys(o.health).length>0?((0,i.wg)(),(0,i.iD)("div",Ma,[Ua,(0,i._)("span",null,[(0,i._)("p",La,(0,wa.zw)(o.health.temperature)+" °C ",1)])])):(0,i.kq)("",!0),Object.keys(o.health).length>0?((0,i.wg)(),(0,i.iD)("div",ja,[Na,(0,i._)("span",null,[(0,i._)("p",Da,(0,wa.zw)(o.health.heartRate)+" bpm ",1)])])):(0,i.kq)("",!0)])])}var Wa={data(){return{health:{},healthupdate:[]}},created(){this.showInfo()},destroyed(){clearInterval(this.Interval)},methods:{showInfo(){(0,S.Z)({method:"get",url:"http://localhost:3000/api/v1/healths",headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((e=>{e.data.length>0&&(this.health=e.data[0],this.healthupdate=e.data[0].updatedAt)})).catch((e=>{console.log(e)}))},formatDate(e){return new Date(e).toLocaleDateString()}}};const Ha=(0,ba.Z)(Wa,[["render",Fa]]);var Va=Ha,$a={components:{HealthEdit:ma,HealthInfo:Va},data(){return{showHealthEdit:!1,showDoneButton:!1}},methods:{toggleHealthComponents(){this.showHealthEdit=!this.showHealthEdit,this.showDoneButton=!this.showDoneButton},async useEditHealth(){try{await this.$refs.healthEdit.editHealth(),this.toggleHealthComponents()}catch(e){console.error(e)}},cancelEdit(){this.toggleHealthComponents()}}};const qa=(0,ba.Z)($a,[["render",s]]);var za=qa}}]);
//# sourceMappingURL=163.cca4b06d.js.map