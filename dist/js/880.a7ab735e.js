"use strict";(self["webpackChunkvueproject"]=self["webpackChunkvueproject"]||[]).push([[880],{5880:function(e,t,s){s.r(t),s.d(t,{default:function(){return X}});var o=s(6252);const l={class:"page-container"},a={class:"mt-4"},r=(0,o._)("div",{class:""},[(0,o._)("h1",{class:"mt-6"},[(0,o.Uk)("ช่องทางการติดต่อ "),(0,o._)("a",{href:"https://lin.ee/THyM1sN",target:"_blank",rel:"noopener noreferrer",class:"text-[#EB1851]"},' "คลิ๊ก"')])],-1);function n(e,t,s,n,c,u){const i=(0,o.up)("Queue");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",a,[(0,o.Wm)(i)]),r])}var c=s(9963),u=s(3577);const i=(0,o._)("h1",{class:"flex justify-center font-bold text-lg text-[#140A4B] mt-4"}," คิวส่วนตัว ",-1),d={class:"flex items-start"},p={class:"relative inline-flex items-center cursor-pointer"},f=(0,o._)("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),x={class:"ms-3 text-ls font-medium text-[#303030]"},h={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},g={class:"w-full text-lg text-left text-gray-500"},w=(0,o._)("thead",{class:"text-xl text-[#FDFDFD] uppercase bg-[#140A4B]"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col",class:"px-6 py-3 text-center"},"หัวข้อ"),(0,o._)("th",{scope:"col",class:"px-6 py-3 text-center"},"วันที่นัดหมาย"),(0,o._)("th",{scope:"col",class:"px-6 py-3 text-center"},"สถานะการตรวจ"),(0,o._)("th",{scope:"col",class:"px-6 py-3 text-center"},"วันที่เข้าตรวจ"),(0,o._)("th",{scope:"col",class:"px-6 py-3 text-center"},"ประเภทการตรวจ"),(0,o._)("th",{scope:"col",class:"px-6 py-3 text-center"},"คำแนะนำ")])],-1),m={key:0},b={scope:"row",class:"px-6 py-4 font-medium text-[#303030] whitespace-nowrap text-center"},_={class:"px-6 py-4 text-center"},y={class:"px-6 text-center"},v={class:"px-6 py-4 text-center"},D=["onClick"],k=(0,o._)("svg",{class:"w-[16px] h-[16px] text-[#303030]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[(0,o._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})],-1),Q=[k],z={class:"relative p-4 w-full max-w-2xl h-full md:h-auto"},C={class:"relative p-4 bg-white rounded-lg shadow sm:p-5"},M={class:"flex justify-between items-center rounded-t border-b sm:mb-5"},q={class:"text-lg font-semibold text-[#303030]"},S=(0,o._)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),j=(0,o._)("span",{class:"sr-only"},"Close modal",-1),B=[S,j],F={action:"#"},I={class:"grid gap-4 mb-4 sm:grid-cols-2"},L=(0,o._)("label",{for:"dateQueue",class:"block mb-2 text-lg font-bold text-[#303030] text-left"},"วันนัดหมาย",-1),A={class:"text-left p-2.5 bg-gray-50 border rounded-lg"},Z=(0,o._)("label",{for:"endDate",class:"block mb-2 text-lg font-bold text-[#303030] text-left"},"วันที่เข้าตรวจ",-1),H={class:"text-left p-2.5 bg-gray-50 border rounded-lg"},T=(0,o._)("label",{for:"note",class:"block mb-2 text-lg font-bold text-[#303030] text-left"},"คำแนะนำจากคุณหมอ",-1),U={class:"text-left p-2.5 bg-gray-50 border rounded-lg"},Y={key:1},E=(0,o._)("tr",{class:"bg-white border-b justify-center items-center text-center text-[#303030]"},[(0,o._)("th",{scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"}," ยังไม่เคยได้รับการเข้าตรวจ "),(0,o._)("td",{scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"}),(0,o._)("td",{scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"}),(0,o._)("td",{scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"}),(0,o._)("td",{scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"}),(0,o._)("td",{scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"})],-1),K=[E];function N(e,t,s,l,a,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[i,(0,o._)("div",d,[(0,o._)("label",p,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>a.toggleStatus=e),onChange:t[1]||(t[1]=(...e)=>r.showInfo&&r.showInfo(...e)),class:"sr-only peer"},null,544),[[c.e8,a.toggleStatus]]),f]),(0,o._)("p",x,(0,u.zw)(a.toggleStatus?"คิว : กำลังรอตรวจ":"คิว : ได้รับการตรวจ"),1)]),(0,o._)("div",h,[(0,o._)("table",g,[w,a.Queue.length>0?((0,o.wg)(),(0,o.iD)("tbody",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.sortedQueue.slice(0,5),((e,s)=>((0,o.wg)(),(0,o.iD)("tr",{key:e._id,class:(0,u.C_)([{"bg-white":s%2===0,"bg-[#F6F6F6]":s%2!==0},"border-b"])},[(0,o._)("th",b,(0,u.zw)(e.topic),1),(0,o._)("td",_,(0,u.zw)(r.formatDate(e.startDate)),1),(0,o._)("td",{class:(0,u.C_)(["px-6 py-4 text-center",{"text-red-500":!1===e.status,"text-green-500":!0===e.status}])},(0,u.zw)(!1===e.status?"กำลังรอการตรวจ":"ได้รับการตรวจ"),3),(0,o._)("td",y,(0,u.zw)(null==e.endDate?"ยังไม่ได้เข้าตรวจ":r.formatDate(e.endDate)),1),(0,o._)("td",{class:(0,u.C_)(["px-6 text-center",{"text-red-500":!1===e.locations,"text-green-500":!0===e.locations}])},(0,u.zw)(!1===e.locations?"ออนไลน์":"ออนไซต์"),3),(0,o._)("td",v,[(0,o._)("button",{onClick:t=>r.QueueModal(e),class:"inline-flex items-center p-0.5 text-lg font-bold text-center text-[#303030] hover:text-gray-800 rounded-lg focus:outline-none",type:"button"},Q,8,D),(0,o._)("div",{id:"infoQueueModal",tabindex:"-1","aria-hidden":"true",class:(0,u.C_)([{hidden:!a.QueueModel,flex:a.QueueModel},"fixed top-0 right-0 left-0 z-50 justify-center items-center w-full h-full backdrop-contrast-25 bg-black/5"])},[(0,o._)("div",z,[(0,o._)("div",C,[(0,o._)("div",M,[(0,o._)("h3",q,(0,u.zw)(a.infoqueues.topic),1),(0,o._)("button",{onClick:t[2]||(t[2]=e=>a.QueueModel=!1),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-[#303030] rounded-lg text-sm p-1.5 ml-auto inline-flex items-center"},B)]),(0,o._)("form",F,[(0,o._)("div",I,[(0,o._)("div",null,[L,(0,o._)("p",A,(0,u.zw)(r.formatDate(a.infoqueues.startDate)),1)]),(0,o._)("div",null,[Z,(0,o._)("p",H,(0,u.zw)(null==a.infoqueues.endDate?"รอการเข้าตรวจ":r.formatDate(a.infoqueues.endDate)),1)])]),(0,o._)("div",null,[T,(0,o._)("p",U,(0,u.zw)(a.infoqueues.note&&""!==a.infoqueues.note.trim()?a.infoqueues.note:"ขณะนี้ยังไม่ได้รับการตรวจสอบ"),1)])])])])],2)])],2)))),128))])):((0,o.wg)(),(0,o.iD)("tbody",Y,K))])])],64)}var P=s(5121),V={data(){return{Queue:[],showMessage:!1,activeItem:null,QueueModel:!1,infoqueues:{},toggleStatus:!1}},computed:{sortedQueue(){const e=this.Queue.slice().sort(((e,t)=>new Date(t.startDate)-new Date(e.startDate))),t=e.filter((e=>!1===e.status)),s=this.Queue.filter((e=>!0===e.status)),o=[...t,...s.sort(((e,t)=>new Date(t.endDate)-new Date(e.endDate)))];return o}},created(){this.showInfo()},methods:{showInfo(){try{(0,P.Z)({method:"get",url:"http://localhost:3000/api/v1/queues/me",headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((e=>{this.Queue=e.data.filter((e=>e.status===this.toggleStatus)),console.log(this.Queue)})).catch((e=>{console.log(e)}))}catch(e){}},formatDate(e){return new Date(e).toLocaleDateString()},QueueModal(e){this.infoqueues=e,console.log(e),this.QueueModel=!0}}},W=s(3744);const G=(0,W.Z)(V,[["render",N]]);var J=G,O={name:"ServicePage",components:{Queue:J},data(){return{profileData:{}}},methods:{}};const R=(0,W.Z)(O,[["render",n]]);var X=R}}]);
//# sourceMappingURL=880.a7ab735e.js.map